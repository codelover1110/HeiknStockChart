/*!

=========================================================
* Black Dashboard React - v1.2.0
=========================================================

* Product Page: https://www.creative-tim.com/product/black-dashboard-react
* Copyright 2020 Creative Tim (https://www.creative-tim.com)
* Licensed under MIT (https://github.com/creativetimofficial/black-dashboard-react/blob/master/LICENSE.md)

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

*/
(this["webpackJsonpblack-dashboard-react"]=this["webpackJsonpblack-dashboard-react"]||[]).push([[0],{672:function(e,t,a){},674:function(e,t,a){},675:function(e,t,a){},679:function(e,t,a){},680:function(e,t,a){},777:function(e,t,a){},778:function(e,t,a){},779:function(e,t,a){},781:function(e,t,a){},782:function(e,t,a){},783:function(e,t,a){"use strict";a.r(t);var n,r=a(12),c=a(1),s=a.n(c),i=a(23),l=a.n(i),o=a(16),u=a(38),d=a(3),b=a(8),h=a(54),j="blue",f=Object(c.createContext)({color:j,changeColor:function(e){}}),p=a(2),m=function(e){var t=e.items,a=e.title,n=e.icon,r=e.instance,s=e.handleClick,i=e.isActive,l=e.subInstance,o=Object(c.useState)(!1),u=Object(d.a)(o,2),b=u[0],h=u[1];return Object(p.jsxs)("div",{className:"hunter-dropdown",children:[Object(p.jsxs)("div",{className:"hunter-dropdown-header",onClick:function(){return h(!b)},children:[Object(p.jsx)("i",{className:n}),a,Object(p.jsx)("i",{className:"fa fa-chevron-right hunter-dropdown-icon icon ".concat(b&&"open")})]}),Object(p.jsx)("div",{className:"hunter-dropdown-body ".concat(b&&"open"),children:t.map((function(e){return Object(p.jsx)("div",{className:"hunter-dropdown-item ".concat(i&&e.instance===l&&"hunter-selected"),onClick:function(t){s(r,e.pathname)},id:e.id,children:e.label},"".concat(r,"-").concat(e.id))}))})]})};function v(e){var t=Object(u.g)(),a=s.a.useRef(null),r=Object(c.useState)(JSON.parse(localStorage.getItem("user-info"))),i=Object(d.a)(r,1)[0],l=Object(c.useState)(""),o=Object(d.a)(l,2),j=o[0],v=o[1];Object(c.useEffect)((function(){v(null===i||void 0===i?void 0:i.role)}),[]),s.a.useEffect((function(){return navigator.platform.indexOf("Win")>-1&&(n=new h.a(a.current,{suppressScrollX:!0,suppressScrollY:!1})),function(){navigator.platform.indexOf("Win")>-1&&n.destroy()}}));var O=function(e,a){k(e);var n={initInstance:e};a&&t.push({pathname:a,state:"stress_test"===e||"optimization"===e||"live_trading"===e?n:null})},g=e.isAdminPage,x=e.routes,y=e.selectedInstance,S=e.handleSidebarChange,k=e.handleInstanceChange,w=e.subInstance;return Object(p.jsx)(f.Consumer,{children:function(e){var n=e.color;return Object(p.jsx)("div",{className:"sidebar hunter-sidebar",data:n,children:Object(p.jsxs)("div",{className:"sidebar-wrapper",ref:a,children:[Object(p.jsx)("div",{className:"show-sidebar-button-area",children:Object(p.jsx)("div",{className:"show-sidebar-icon",children:Object(p.jsx)("i",{className:"tim-icons icon-align-left-2",onClick:S})})}),g?Object(p.jsx)(b.l,{children:x.map((function(e,a){return Object(p.jsx)("li",{className:e.instance===y?"active-instance hunter-select-instance":"hunter-select-instance",onClick:function(){k(e.instance),e.pathname&&t.push({pathname:e.pathname})},children:Object(p.jsxs)("div",{className:"nav-link",children:[Object(p.jsx)("i",{className:e.icon}),Object(p.jsx)("p",{children:e.name})]})},a)}))}):Object(p.jsx)(b.l,{children:x.map((function(e,a){return i.is_admin||j.includes(e.instance)?Object(p.jsx)("li",{className:e.instance===y?"active-instance hunter-select-instance":"hunter-select-instance",children:e.items?Object(p.jsx)("div",{className:"nav-link",children:Object(p.jsx)(m,{title:e.name,icon:e.icon,items:e.items,instance:e.instance,subInstance:w,handleClick:O,isActive:e.instance===y},"".concat(e.instance))}):Object(p.jsxs)("div",{className:"nav-link",onClick:function(){k(e.instance);var a={initInstance:e.instance};e.pathname&&t.push({pathname:e.pathname,state:"stress_test"===e.instance||"optimization"===e.instance||"live_trading"===e.instance?a:null})},children:[Object(p.jsx)("i",{className:e.icon}),Object(p.jsx)("p",{className:"hunter-ml-6",children:e.name})]})},a):Object(p.jsx)(p.Fragment,{})}))})]})})}})}v.defaultProps={rtlActive:!1,routes:[{}]};var O=v,g=[{name:"Forward test",icon:"tim-icons icon-chart-pie-36",instance:"forward_test",items:[{id:0,label:"Bot Management",instance:"systemfilemanager",pathname:"/botmanagement"},{id:1,label:"View",instance:"view",pathname:"/"}]},{name:"Stress test",icon:"tim-icons icon-attach-87",instance:"stress_test",items:[{id:0,label:"View",instance:"view",pathname:"/"}]},{name:"Optimization",icon:"tim-icons icon-atom",instance:"optimization",items:[{id:0,label:"View",instance:"view",pathname:"/optimization"}]},{name:"Live trading",icon:"tim-icons icon-badge",instance:"live_trading",items:[{id:0,label:"View",instance:"view",pathname:"/"}]},{name:"Macket Watch",icon:"tim-icons icon-camera-18",instance:"macket_watch",pathname:"/macket_watch"},{name:"Data Tables",icon:"tim-icons icon-chart-bar-32",instance:"trade_data",items:[{id:0,label:"Price Data Table",instance:"pricedatatable",pathname:"/pricedatatable"},{id:1,label:"Trade Data Table",instance:"tradedatatable",pathname:"/tradedatatable"}]},{name:"Hybrid View",icon:"tim-icons icon-video-66",instance:"hybrid_view",pathname:"/hybrid_view"},{name:"Financial Data",icon:"tim-icons icon-coins",instance:"financial_data",pathname:"/financial_data"},{name:"Scanner",icon:"tim-icons icon-controller",instance:"scanner",pathname:"/scanner"},{name:"Floats",icon:"tim-icons icon-vector",instance:"floats",pathname:"/floats"}],x=[{name:"User Manage",icon:"tim-icons icon-chart-pie-36",instance:"usermanage",pathname:"/admin/usermanage"},{name:"Link Manage",icon:"tim-icons icon-attach-87",instance:"linkmanage",pathname:"/admin/linkmanage"}],y=a(4),S=a.n(y),k=a(7),w=a(15),N=(a(82),a(49)),C=a(50),_=a(20),I=a(51),T=a(52),F=a(800),D=a(158),E=a(127),P=a.n(E),A=a(801),M=a(64),L=a(57),B=a(47),R=a(41),H=a(129),Y=a(80),z=a(71),U=a(45),V=a(149),K=a(6),J=a(40);function W(e,t){var a=this;return function(e){Object(K.isNotDefined)(a.interactiveNodes)&&(a.interactiveNodes={})}}function X(){return this.interactiveNodes}var q=a(117),G={stroke:{macd:"#FF0000",signal:"#00F300"},fille:{bearPower:"#4682B4"}},Q=function(e){Object(I.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(N.a)(this,a),(n=t.call(this,e)).handleEvents=function(e){"zoom"===e&&n.handleZoom(),"mousedown"===e&&n.hideTextLabel()},n.addTextLable=n.addTextLable.bind(Object(_.a)(n)),n.onKeyPress=n.onKeyPress.bind(Object(_.a)(n)),n.onDrawComplete=n.onDrawComplete.bind(Object(_.a)(n)),n.saveInteractiveNode=n.saveInteractiveNode.bind(Object(_.a)(n)),n.saveCanvasNode=n.saveCanvasNode.bind(Object(_.a)(n)),n.handleSelection=n.handleSelection.bind(Object(_.a)(n)),n.saveInteractiveNodes=W.bind(Object(_.a)(n)),n.getInteractiveNodes=X.bind(Object(_.a)(n)),n.state={enableInteractiveObject:!0,x:-200,y:-200,channels_1:[],channels_3:[],valueText:"",dateText:"",status:"",isFullChart:!1},n}return Object(C.a)(a,[{key:"saveInteractiveNode",value:function(e){this.node=e}},{key:"saveCanvasNode",value:function(e){this.canvasNode=e}},{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.onKeyPress),this.canvasNode.subscribe("CandleStickChartWithEquidistantChannel",{listener:this.handleEvents})}},{key:"componentWillUnmount",value:function(){this.canvasNode.unsubscribe("CandleStickChartWithEquidistantChannel"),document.removeEventListener("keyup",this.onKeyPress)}},{key:"handleZoom",value:function(){-200!==this.state.x&&-200!==this.state.y&&this.hideTextLabel()}},{key:"hideTextLabel",value:function(){this.setState({x:-200,y:-200})}},{key:"addTextLable",value:function(e){var t=new Intl.DateTimeFormat("en",{month:"short"}),a=new Intl.DateTimeFormat("en",{weekday:"long"}),n=t.format(e.datum.date),r=a.format(e.datum.date),c="".concat(r,", ").concat(n," ").concat(e.datum.date.getDate(),", ").concat(e.datum.date.getFullYear());this.setState({x:500,y:30,valueText:e.datum.high,dateText:c,status:e.datum.action})}},{key:"handleSelection",value:function(e){var t=Object(K.toObject)(e,(function(e){return["channels_".concat(e.chartId),e.objects]}));this.setState(t)}},{key:"isIncludeIndicators",value:function(e){return this.props.indicators?this.props.indicators.filter((function(t){return t.value===e})).length:0}},{key:"onDrawComplete",value:function(e){this.setState({enableInteractiveObject:!1,channels_1:e})}},{key:"onKeyPress",value:function(e){var t=e.which;switch(console.log(t),t){case 46:var a=this.state.channels_1.filter((function(e){return!e.selected})),n=this.state.channels_3.filter((function(e){return!e.selected}));this.canvasNode.cancelDrag(),this.setState({channels_1:a,channels_3:n});break;case 27:this.node.terminate(),this.canvasNode.cancelDrag(),this.setState({enableInteractiveObject:!1});break;case 68:case 69:this.setState({enableInteractiveObject:!0})}}},{key:"calculateHeight",value:function(e){if(this.props.isHomePage&&!e)return 400;var t=1;return this.props.indicators&&this.props.indicators.length>1&&(t=this.props.indicators.length),500+100*t}},{key:"calculateOffset",value:function(e,t){if(!this.props.isHomePage||t){if("RSI"===e){var a=this.props.indicators.filter((function(e){return["RSI2","RSI3","HEIK1","HEIK2"].includes(e.value)}));return 300+70*a.length}if("RSI2"===e){var n=this.props.indicators.filter((function(e){return["RSI3","HEIK1","HEIK2"].includes(e.value)}));return 300+70*n.length}if("RSI3"===e){var r=this.props.indicators.filter((function(e){return["HEIK1","HEIK2"].includes(e.value)}));return 300+70*r.length}if("HEIK1"===e){var c=this.props.indicators.filter((function(e){return["HEIK2"].includes(e.value)}));return 300+70*c.length}if("HEIK2"===e){var s=this.props.indicators.filter((function(e){return[""].includes(e.value)}));return 300+70*s.length}return 0}return"RSI"===e&&this.isIncludeIndicators(e)?this.isIncludeIndicators("VOLUME")?this.props.indicators.length>1?50*(this.props.indicators.length-1)+50:80:this.props.indicators.length>1?50*this.props.indicators.length+50:80:"HEIK1"===e&&this.isIncludeIndicators(e)?this.isIncludeIndicators("HEIK2")?130:80:"HEIK2"===e?60:10}},{key:"calculateMainHeightOffset",value:function(e){return this.props.isHomePage&&!e?100+50*(this.props.indicators.length-1):this.props.indicators&&this.props.indicators.length>1?300+100*(this.props.indicators.length-1):300}},{key:"calculateTooltipOffset0",value:function(e){return 0}},{key:"calculateTooltipOffset1",value:function(e){return 0}},{key:"render",value:function(){var e=this,t=Object(z.ema)().id(0).options({windowSize:13}).merge((function(e,t){e.ema20=t})).accessor((function(e){return e.ema20})),a=Object(z.ema)().id(2).options({windowSize:50}).merge((function(e,t){e.ema50=t})).accessor((function(e){return e.ema50})),n=Object(z.heikinAshi)(),c=Object(z.macd)().options({fast:12,slow:26,signal:9}).merge((function(e,t){e.macd=t})).accessor((function(e){return e.macd})),s=Object(z.atr)().options({windowSize:14}).merge((function(e,t){e.atr14=t})).accessor((function(e){return e.atr14})),i=this.props,l=i.type,o=i.data,u=i.width,d=i.ratio,b=i.chartColumn,h=(i.extendMarketTime,1===b||2===b);o.forEach((function(e){e.date=P()(e.date).toDate()}));var j=c(n(s(o))),f=H.discontinuousTimeScaleProvider.inputDateAccessor((function(e){return e.date}))(j),m=f.data,v=f.xScale,O=f.xAccessor,g=f.displayXAccessor,x={onClick:console.log.bind(console)},y=Object(r.a)(Object(r.a)({},x),{},{y:function(t){return(0,t.yScale)(t.datum.low)-e.calculateTooltipOffset0(h)},fill:"#006517",path:q.buyPath,tooltip:function(e){return e.trades.map((function(e){return"".concat("LONG"===e.longShort?"Buy:":"Sell:"," Price: ").concat(e.price," Date: ").concat(e.trade_date.replace("T"," "),"\n")}))}}),S=Object(r.a)(Object(r.a)({},x),{},{y:function(t){return(0,t.yScale)(t.datum.high)-e.calculateTooltipOffset1(h)},fill:"#FF0000",path:q.sellPath,tooltip:function(e){return e.trades.map((function(e){return"".concat("LONG"===e.longShort?"Buy:":"Sell:"," Price: ").concat(e.price," Trade Date: ").concat(e.trade_date.replace("T"," "),"\n")}))}}),k=[O(Object(K.last)(m)),O(m[Math.max(0,m.length-150)])],w={xDisplayFormat:Object(A.a)("%Y-%m-%d : %H-%M-%S"),ohlcFormat:function(){return""},volumeFormat:function(){return""},percentFormat:function(){return""},displayTexts:{d:"Date: "}},N={xDisplayFormat:Object(A.a)(""),displayTexts:{o:" O: ",h:" H: ",l:" L: ",c:" C: ",v:" Vol: ",na:"n/a"}},C={xDisplayFormat:Object(A.a)(""),ohlcFormat:function(){return""},volumeFormat:function(){return e.props.symbol},percentFormat:function(){return""},displayTexts:{v:" Symbol: "}},_={valueFill:"#ffffff"};return Object(p.jsxs)(M.b,{height:this.calculateHeight(h),width:u,ratio:d,margin:{left:70,right:70,top:20,bottom:30},type:l,seriesName:"MSFT",data:m,xExtents:k,xScale:v,displayXAccessor:g,xAccessor:O,ref:function(t){e.canvasNode=t},redraw:!0,children:[Object(p.jsxs)(M.a,{id:1,height:!this.props.isHomePage||h?this.isIncludeIndicators("VOLUME")||this.props.indicators.length?250:400:300-50*this.props.indicators.length,yExtents:[function(e){return[e.high,e.low]},t.accessor(),a.accessor()],padding:{top:10,bottom:20},children:[Object(p.jsx)(B.XAxis,{axisAt:"bottom",orient:"bottom",stroke:"white",tickStroke:"white"}),Object(p.jsx)(B.YAxis,{axisAt:"right",orient:"right",ticks:5,stroke:"white",tickStroke:"white"}),Object(p.jsx)(R.MouseCoordinateX,{at:"bottom",orient:"bottom",displayFormat:Object(A.a)("%Y-%m-%d")}),Object(p.jsx)(R.MouseCoordinateY,{at:"right",orient:"right",displayFormat:Object(D.b)(".2f")}),Object(p.jsx)(L.CandlestickSeries,{stroke:function(e){return e.close>e.open?"#6BA583":"#DB0000"},wickStroke:function(e){return e.close>e.open?"#6BA583":"#DB0000"},fill:function(e){return e.close>e.open?"#6BA583":"#DB0000"}}),Object(p.jsx)(Y.OHLCTooltip,Object(r.a)({origin:[-50,-10]},w)),Object(p.jsx)(Y.OHLCTooltip,Object(r.a)({origin:[-50,20]},N)),Object(p.jsx)(Y.OHLCTooltip,Object(r.a)({origin:[100,-5]},C)),Object(p.jsx)(q.Annotate,{with:q.SvgPathAnnotation,when:function(t){return"live_trading"!==e.props.selectedInstance&&t.trades&&t.trades[0].strategy==="".concat(e.props.strategy.value,"-").concat(e.props.microStrategy,"-trades")&&"LONG"===t.trades[0].longShort},usingProps:y}),Object(p.jsx)(q.Annotate,{with:q.SvgPathAnnotation,when:function(t){return"live_trading"!==e.props.selectedInstance&&t.trades&&t.trades[0].strategy==="".concat(e.props.strategy.value,"-").concat(e.props.microStrategy,"-trades")&&"SHORT"===t.trades[0].longShort},usingProps:S})]}),this.isIncludeIndicators("VOLUME")&&Object(p.jsxs)(M.a,{id:2,height:!this.props.isHomePage||h?100:50,yExtents:[function(e){return e.volume}],origin:function(t,a){return[0,a-e.calculateMainHeightOffset(h)]},padding:{top:10,bottom:10},children:[Object(p.jsx)(B.XAxis,{axisAt:"bottom",orient:"bottom",stroke:"white",tickStroke:"white"}),Object(p.jsx)(B.YAxis,{axisAt:"right",orient:"right",ticks:5,tickFormat:Object(D.b)(".2s"),stroke:"white",tickStroke:"white"}),Object(p.jsx)(R.MouseCoordinateY,{at:"left",orient:"left",displayFormat:Object(D.b)(".4s")}),Object(p.jsx)(L.BarSeries,{yAccessor:function(e){return e.volume},fill:function(e){return e.close>e.open?"#6BA583":"#FF0000"}})]}),this.isIncludeIndicators("RSI")&&Object(p.jsxs)(M.a,{id:3,height:70,yExtents:[0,function(e){return e.rsi.bearPower}],origin:function(t,a){return[0,a-e.calculateOffset("RSI",h)]},padding:{top:40,bottom:10},children:[Object(p.jsx)(B.XAxis,{axisAt:"bottom",orient:"bottom",stroke:"white",tickStroke:"white"}),Object(p.jsx)(B.YAxis,{axisAt:"right",orient:"right",stroke:"white",tickStroke:"white",ticks:4,tickFormat:Object(D.b)(".2f")}),Object(p.jsx)(R.MouseCoordinateX,{at:"bottom",orient:"bottom",displayFormat:Object(A.a)("%Y-%m-%d")}),Object(p.jsx)(R.MouseCoordinateY,{at:"right",orient:"right",displayFormat:Object(D.b)(".2f")}),Object(p.jsx)(L.BarSeries,{yAccessor:function(e){return e.rsi.bearPower},baseAt:function(e,t,a){return t(0)},fill:function(e){return"buy"===e.rsi.side?"#800080":"sell"===e.rsi.side?"#FFA500":"hold"===e.rsi.side?"#00FF00":"#FF0000"}}),Object(p.jsx)(L.StraightLine,{yValue:0}),Object(p.jsx)(Y.SingleValueTooltip,Object(r.a)(Object(r.a)({yAccessor:function(e){return e.rsi.bearPower},yLabel:"RSI - Bear power",yDisplayFormat:Object(D.b)(".2f"),appearance:G},_),{},{origin:[-40,35]}))]}),this.isIncludeIndicators("RSI2")&&Object(p.jsxs)(M.a,{id:4,height:70,yExtents:[0,function(e){return e.rsi2.bearPower}],origin:function(t,a){return[0,a-e.calculateOffset("RSI2",h)]},padding:{top:40,bottom:10},children:[Object(p.jsx)(B.XAxis,{axisAt:"bottom",orient:"bottom",stroke:"white",tickStroke:"white"}),Object(p.jsx)(B.YAxis,{axisAt:"right",orient:"right",stroke:"white",tickStroke:"white",ticks:4,tickFormat:Object(D.b)(".2f")}),Object(p.jsx)(R.MouseCoordinateX,{at:"bottom",orient:"bottom",displayFormat:Object(A.a)("%Y-%m-%d")}),Object(p.jsx)(R.MouseCoordinateY,{at:"right",orient:"right",displayFormat:Object(D.b)(".2f")}),Object(p.jsx)(L.BarSeries,{yAccessor:function(e){return e.rsi2.bearPower},baseAt:function(e,t,a){return t(0)},fill:function(e){return"l_g"===e.rsi2.color?"#90EE90":"d_g"===e.rsi2.color?"#006400":"l_r"===e.rsi2.color?"#ED0800":"#8B0000"}}),Object(p.jsx)(L.StraightLine,{yValue:0}),Object(p.jsx)(Y.SingleValueTooltip,Object(r.a)(Object(r.a)({yAccessor:function(e){return e.rsi2.bearPower},yLabel:"RSI2 - Bear power",yDisplayFormat:Object(D.b)(".2f"),appearance:G},_),{},{origin:[-40,35]}))]}),this.isIncludeIndicators("RSI3")&&Object(p.jsxs)(M.a,{id:5,height:70,yExtents:[0,function(e){return e.rsi3.bearPower}],origin:function(t,a){return[0,a-e.calculateOffset("RSI3",h)]},padding:{top:40,bottom:10},children:[Object(p.jsx)(B.XAxis,{axisAt:"bottom",orient:"bottom",stroke:"white",tickStroke:"white"}),Object(p.jsx)(B.YAxis,{axisAt:"right",orient:"right",stroke:"white",tickStroke:"white",ticks:4,tickFormat:Object(D.b)(".2f")}),Object(p.jsx)(R.MouseCoordinateX,{at:"bottom",orient:"bottom",displayFormat:Object(A.a)("%Y-%m-%d")}),Object(p.jsx)(R.MouseCoordinateY,{at:"right",orient:"right",displayFormat:Object(D.b)(".2f")}),Object(p.jsx)(L.BarSeries,{yAccessor:function(e){return e.rsi3.bearPower},baseAt:function(e,t,a){return t(0)},fill:function(e){return"l_g"===e.rsi3.color?"#90EE90":"d_g"===e.rsi3.color?"#006400":"l_r"===e.rsi3.color?"#ED0800":"#8B0000"}}),Object(p.jsx)(L.StraightLine,{yValue:0}),Object(p.jsx)(Y.SingleValueTooltip,Object(r.a)(Object(r.a)({yAccessor:function(e){return e.rsi3.bearPower},yLabel:"RSI3 - Bear power",yDisplayFormat:Object(D.b)(".2f"),appearance:G},_),{},{origin:[-40,35]}))]}),this.isIncludeIndicators("HEIK1")&&Object(p.jsxs)(M.a,{id:6,height:70,yExtents:[0,function(e){return e.heik.bearPower}],origin:function(t,a){return[0,a-e.calculateOffset("HEIK1",h)]},padding:{top:40,bottom:10},children:[Object(p.jsx)(B.XAxis,{axisAt:"bottom",orient:"bottom",stroke:"white",tickStroke:"white"}),Object(p.jsx)(B.YAxis,{axisAt:"right",orient:"right",stroke:"white",tickStroke:"white",ticks:4,tickFormat:Object(D.b)(".2f")}),Object(p.jsx)(R.MouseCoordinateX,{at:"bottom",orient:"bottom",displayFormat:Object(A.a)("%Y-%m-%d")}),Object(p.jsx)(R.MouseCoordinateY,{at:"right",orient:"right",displayFormat:Object(D.b)(".2f")}),Object(p.jsx)(L.BarSeries,{yAccessor:function(e){return e.heik.bearPower},baseAt:function(e,t,a){return t(0)},fill:function(e){return"l_g"===e.heik.color?"#90EE90":"d_g"===e.heik.color?"#006400":"l_r"===e.heik.color?"#ED0800":"#8B0000"}}),Object(p.jsx)(L.StraightLine,{yValue:0}),Object(p.jsx)(Y.SingleValueTooltip,Object(r.a)(Object(r.a)({yAccessor:function(e){return e.heik.bearPower},yLabel:"HEIK1 - Bear power",yDisplayFormat:Object(D.b)(".2f"),appearance:G},_),{},{origin:[-40,35]}))]}),this.isIncludeIndicators("HEIK2")&&Object(p.jsxs)(M.a,{id:7,height:70,yExtents:[0,function(e){return e.heik2.bearPower}],origin:function(t,a){return[0,a-e.calculateOffset("HEIK2",h)]},padding:{top:40,bottom:10},children:[Object(p.jsx)(B.XAxis,{axisAt:"bottom",orient:"bottom",stroke:"white",tickStroke:"white"}),Object(p.jsx)(B.YAxis,{axisAt:"right",orient:"right",stroke:"white",tickStroke:"white",ticks:4,tickFormat:Object(D.b)(".2f")}),Object(p.jsx)(R.MouseCoordinateX,{at:"bottom",orient:"bottom",displayFormat:Object(A.a)("%Y-%m-%d")}),Object(p.jsx)(R.MouseCoordinateY,{at:"right",orient:"right",displayFormat:Object(D.b)(".2f")}),Object(p.jsx)(L.BarSeries,{yAccessor:function(e){return e.heik2.bearPower},baseAt:function(e,t,a){return t(0)},fill:function(e){return"l_g"===e.heik2.color?"#90EE90":"d_g"===e.heik2.color?"#006400":"l_r"===e.heik2.color?"#ED0800":"#8B0000"}}),Object(p.jsx)(L.StraightLine,{yValue:0}),Object(p.jsx)(Y.SingleValueTooltip,Object(r.a)(Object(r.a)({yAccessor:function(e){return e.heik2.bearPower},yLabel:"HEIK2 - Bear power",yDisplayFormat:Object(D.b)(".2f"),appearance:G},_),{},{origin:[-40,35]}))]}),Object(p.jsx)(R.CrossHairCursor,{}),Object(p.jsx)(V.DrawingObjectSelector,{enabled:!this.state.enableInteractiveObject,getInteractiveNodes:this.getInteractiveNodes,drawingObjectMap:{EquidistantChannel:"channels"},onSelect:this.handleSelection}),(!this.props.isHomePage||h)&&Object(p.jsxs)("g",{children:[Object(p.jsx)("rect",{className:this.props.classes.CandleChart,x:this.state.x-100,y:this.state.y-50,width:"200",height:"50",stroke:"#3D4977",fill:"#3D4977",rx:"2",ry:"2"}),Object(p.jsxs)(Y.ToolTipText,{x:this.state.x,y:this.state.y,children:[Object(p.jsxs)("tspan",{className:this.props.classes.CandleChart_type_date,x:this.state.x,textAnchor:"middle",dy:"-1em",fill:"#fff",onClick:this.hideTextLabel.bind(this),children:[this.state.dateText,this.state.status]}),Object(p.jsxs)("tspan",{className:this.props.classes.CandleChart_type_value,x:this.state.x,textAnchor:"middle",dy:"-1em",fill:"#fff",onClick:this.hideTextLabel.bind(this),children:["Price: ",this.state.valueText]},"value")]})]})]})}}]),a}(s.a.Component);Q.defaultProps={type:"svg"},Q=Object(U.fitWidth)(Q);var Z=Object(F.withStyles)({CandleChart_type_date:{fontSize:"12px",fill:"#AEC6EE"},CandleChart:{borderRadius:"2px"},CandleChart_type_value:{fontSize:"16px",fontWeight:500},deal_green_shadowed:{textShadow:"0 0 3px yellowgreen"},deal_red_shadowed:{textShadow:"0 0 3px fuchsia"}})(Object(U.fitWidth)(Q)),$=a(87),ee=a(84),te=a.n(ee),ae=a(46),ne=a.n(ae),re=function(e){Object(I.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(N.a)(this,a),(n=t.call(this,e)).state={series:n.getSeries(),options:{chart:{height:350,type:"line",zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{show:!0,curve:"smooth",lineCap:"butt",colors:void 0,width:2,dashArray:0},title:{text:e.isPercent?"Percent Gain/Lost":"Efficiency",align:"left",style:{fontSize:"18px",fontWeight:"bold",color:"#FFFFFF"}},grid:{show:!1},xaxis:{categories:n.getCategories(),labels:{show:!0,style:{colors:"#FFFFFF"},formatter:function(e,t){return ne.a.utc(e).format("MM/DD hh:mm")}},datetimeUTC:!0},yaxis:{labels:{show:!0,style:{colors:"#FFFFFF"},formatter:function(e){return e.toFixed(2)}},axisBorder:{show:!0},min:n.getMinValue(),max:n.getMaxValue()},legend:{show:!0,labels:{colors:["#FFFFFF"]},position:"top"}}},n}return Object(C.a)(a,[{key:"getSeries",value:function(){var e=this,t=[];return this.props.chartData.map((function(a){for(var n in a)t.push({name:n,data:a[n].map((function(t){return e.props.isPercent?t.percent:t.efficiency}))});return null})),t}},{key:"componentDidUpdate",value:function(e){e.chartData!==this.props.chartData&&this.setState({series:this.getSeries(),options:{xaxis:{categories:this.getCategories(),labels:{show:!0,style:{colors:"#FFFFFF"},formatter:function(e){return ne.a.utc(e).format("MM/DD hh:mm")}},datetimeUTC:!0},yaxis:{labels:{show:!0,style:{colors:"#FFFFFF"},formatter:function(e){return e},min:this.getMinValue(),max:this.getMaxValue()},axisBorder:{show:!0}}}})}},{key:"getMinValue",value:function(){var e=this,t=[];return this.props.chartData.map((function(a){for(var n in a){var r=a[n].map((function(t){return e.props.isPercent?t.percent:t.efficiency}));t.push(Math.min.apply(Math,Object($.a)(r)))}return null})),Math.min.apply(Math,t)}},{key:"getMaxValue",value:function(){var e=this,t=[];return this.props.chartData.map((function(a){for(var n in a){var r=a[n].map((function(t){return e.props.isPercent?t.percent:t.efficiency}));t.push(Math.max.apply(Math,Object($.a)(r)))}return null})),Math.max.apply(Math,t)}},{key:"getCategories",value:function(){return this.props.chartData.map((function(e){for(var t in e)return e[t].map((function(e){return e.date}));return[]}))[0]}},{key:"render",value:function(){return Object(p.jsx)("div",{id:"chart",children:Object(p.jsx)(te.a,{options:this.state.options,series:this.state.series,type:"line",height:350})})}}]),a}(s.a.Component),ce=function(e,t){return e.map((function(e){return t?e.avgWinning/100:e.winning}))},se=function(e,t){return e.map((function(e){return t?e.avgLosing/100:e.losing}))},ie=function(e){return e.map((function(e){return e.symbol}))},le=function(e,t){return{chart:{type:"bar",width:"100%",toolbar:{show:!1},events:{click:function(e,t,a){console.log("clicked")}}},states:{normal:{filter:{type:"none"}},active:{filter:{type:"darken",value:.35}}},colors:["#00ff00","rgba(255,0,0, ".concat(.5,")")],title:{text:t?"Winning & Losing Avg Percent":"Wining & Losing Trades",align:"left",offsetX:8,offsetY:-2,style:{fontSize:"16px",color:"#FFFFFF"}},plotOptions:{bar:{endingShape:"rounded",columnWidth:"75%",barHeight:"100%",dataLabels:{position:"top"}}},dataLabels:{enabled:!0,offsetY:-20,style:{fontSize:"16px",colors:["#FFFFFF","#FFFFFF"]},formatter:function(e,a){return t?e.toFixed(5):0|e}},stroke:{show:!0,width:1,colors:["#fff"]},xaxis:{categories:ie(e),labels:{show:!0,style:{colors:"#FFFFFF"}}},grid:{show:!1},yaxis:{labels:{show:!0,style:{colors:"#FFFFFF"},formatter:function(e){return t?e.toFixed(5):0|e}},axisBorder:{show:!0}},tooltip:{enabled:!0},legend:{position:"top",horizontalAlign:"right",offsetY:-50,fontSize:"14px",labels:{colors:"#FFFFFF"},markers:{width:16,height:16,radius:4},itemMargin:{horizontal:5,vertical:5},onItemHover:{highlightDataSeries:!0}}}};function oe(e){var t=e.data,a=e.isAverage,n=Object(c.useState)(le(t,a)),r=Object(d.a)(n,2),s=r[0],i=r[1],l=Object(c.useState)([{data:ce(t,a)},{data:se(t,a)}]),o=Object(d.a)(l,2),u=o[0],b=o[1];return Object(c.useEffect)((function(){i(le(t,a)),b([{name:a?"Winning Average":"Winning",data:ce(t,a)},{name:a?"Losing Average":"Losing",data:se(t,a)}])}),[t,a]),Object(p.jsx)("div",{id:"chart",children:Object(p.jsx)(te.a,{options:s,series:u,type:"bar",width:"100%",height:400})})}var ue=function(e){Object(I.a)(a,e);var t=Object(T.a)(a);function a(){return Object(N.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"render",value:function(){var e=this.props.data;return null==e?Object(p.jsx)("div",{children:"Loading..."}):Object(p.jsxs)("div",{children:[Object(p.jsx)(re,{chartData:e.percentEfficiency,isPercent:!0}),Object(p.jsx)(U.TypeChooser,{children:function(t){return Object(p.jsx)(oe,{type:t,data:e.winningLosing,isAverage:!1})}}),Object(p.jsx)(U.TypeChooser,{children:function(t){return Object(p.jsx)(oe,{type:t,data:e.winningLosingAvg,isAverage:!0})}}),Object(p.jsx)(re,{chartData:e.percentEfficiency,isPercent:!1})]})}}]),a}(s.a.Component);ue.defaultProps={type:"svg"};var de=ue=Object(U.fitWidth)(ue),be=function(e){var t=e.chartColumn,a=e.viewType,n=e.symbol,r=e.strategy,s=e.isHomePage,i=e.indicators,l=e.multiSymbol,o=e.microStrategy,u=e.selectedInstance,b=e.selectedTradeDB,h=e.selectedSymbolType,j=e.chartPeriod,f=e.startDate,m=e.endDate,v=e.extendMarketTime,O=Object(c.useState)(""),g=Object(d.a)(O,2),x=g[0],y=g[1],S=Object(c.useState)(null),k=Object(d.a)(S,2),w=k[0],N=k[1];Object(c.useEffect)((function(){"live_trading"===u&&N(null)}),[u]),Object(c.useEffect)((function(){"heikfilter-2mins-trades"===b?y("backtest_2_minute"):"heikfilter-12mins-trades"===b?y("backtest_12_minute"):"heikfilter-1hour-trades"===b?y("backtest_1_hour"):"heikfilter-4hours-trades"===b?y("backtest_4_hour"):"heikfilter-12hours-trades"===b?y("backtest_12_hour"):"heikfilter-1day-trades"===b&&y("backtest_1_day")}),[b]),Object(c.useEffect)((function(){N(null)}),[a]),Object(c.useEffect)((function(){(n||l.length)&&function(e){if("performance"!==a){if(!x)return;var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({db_name:x,symbol:e,symbol_type:h,macro:r.value,micro:"live_trading"!==u?o:""})};N(null);var n="/api/get_data";"extend_markettime"===v&&(n="/api/get_data_extended");try{fetch("http://3c20-23-237-32-34.ngrok.io"+n,t).then((function(e){return e.json()})).then((function(e){e.chart_data.columns=["date","open","high","low","close","volume","split","dividend","absoluteChange","percentChange"],e.chart_data.map((function(e){var t=new Date(e.date);return e.date=t,null})),N(e.chart_data)}))}catch(i){console.log(i)}}else{var c=l.map((function(e){return e.value}));if(!c.length|!o)return;var s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbols:c,symbol_type:h,macro:r.value,micro:o,start_date:f,end_date:m})};try{fetch("http://3c20-23-237-32-34.ngrok.io/api/get_backtesting_result",s).then((function(e){return e.json()})).then((function(e){N(e.chart_data)}))}catch(i){console.log(i)}}}(n)}),[v,u,x,a,n,l,o,f,m,r.value]);var C,_=function(){return Object(p.jsx)(U.TypeChooser,{children:function(e){return s|"performance"!==a&&Object(p.jsx)(Z,{type:e,data:w,symbol:n,strategy:r,isHomePage:s,indicators:i,chartColumn:t,microStrategy:o,selectedInstance:u,extendMarketTime:v})}})};return Object(p.jsx)(p.Fragment,{children:null==w?Object(p.jsx)("div",{children:"Loading..."}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"select-wrape",children:Object(p.jsx)("div",{children:Object(p.jsxs)("strong",{children:[j," [NASDAQ]"]})})}),1===t&&_(),2===t&&_(),4===t&&_(),6===t&&_(),"performance"===a&&Object(p.jsx)(de,{type:C,data:w,multiSymbol:l.map((function(e){return e.value}))})]})})},he=Object(c.createContext)(),je={isAuthenticated:!!localStorage.getItem("auth-token"),signin:function(e,t){return Object(k.a)(S.a.mark((function a(){var n;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={username:e,password:t},a.next=3,fetch("http://3c20-23-237-32-34.ngrok.io/signin/",{method:"POST",body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){if(!e.user_id)throw new Error("SignIn failed");return{success:!0,user_id:e.user_id}})).catch((function(e){return{success:!1,error:"User Name or Password is wrong"}}));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),a)})))()},signup:function(e,t,a,n,r){return Object(k.a)(S.a.mark((function c(){var s;return S.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s={username:e,email:t,first_name:"",last_name:"",password1:a,password2:n,signup_path:"http://3c20-23-237-32-34.ngrok.io"+r},c.next=3,fetch("http://3c20-23-237-32-34.ngrok.io/signup/",{method:"POST",body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(e){if(e.success)return{success:!0};throw new Error(e.error)})).catch((function(e){return{success:!1,error:"Sign up failed"}}));case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}}),c)})))()},verify:function(e,t){return Object(k.a)(S.a.mark((function a(){var n,r;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={user_id:e,num:t},a.next=3,fetch("http://3c20-23-237-32-34.ngrok.io/verify/",{method:"POST",body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){if(e.error)throw new Error(e.error);return e})).catch((function(e){return{verify:!1,error:"verify failed"}}));case 3:return r=a.sent,je.isAuthenticated=!0,a.abrupt("return",r);case 6:case"end":return a.stop()}}),a)})))()},signout:function(){je.isAuthenticated=!1,localStorage.removeItem("auth-token"),localStorage.removeItem("user-info")}};function fe(){return Object(c.useContext)(he)}function pe(e){var t=e.children,a=function(){var e=function(){var e=Object(k.a)(S.a.mark((function e(t,a){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:je.signin(t,a);case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),t=function(){var e=Object(k.a)(S.a.mark((function e(t,a){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:je.signin(t,a);case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a=function(){je.signout()};return{authUser:je,verify:e,signin:t,signout:a}}();return Object(p.jsx)(he.Provider,{value:a,children:t})}var me,ve=a(53),Oe=function(e){var t,n,r=fe(),i=e.selectedInstance,l=e.handleChartRedirect,h=Object(u.g)(),j=Object(c.useState)({value:"MSFT",label:"MSFT"}),f=Object(d.a)(j,2),m=f[0],v=f[1],O=Object(c.useState)([]),g=Object(d.a)(O,2),x=g[0],y=g[1],N=Object(c.useState)(!0),C=Object(d.a)(N,2),_=C[0],I=C[1],T=Object(c.useState)([]),F=Object(d.a)(T,2),D=F[0],E=F[1],P=Object(c.useState)(!1),A=Object(d.a)(P,1)[0],M=s.a.useState(!1),L=Object(d.a)(M,1)[0],B=Object(c.useState)({value:6,label:"6"}),R=Object(d.a)(B,2),H=R[0],Y=R[1],z=Object(c.useState)({value:"charting",label:"Charting"}),U=Object(d.a)(z,2),V=U[0],K=U[1],J=Object(c.useState)({value:"2m",label:"2m"}),W=Object(d.a)(J,2),X=W[0],q=W[1],G=Object(c.useState)({value:"heikfilter",label:"heikfilter"}),Q=Object(d.a)(G,2),Z=Q[0],$=Q[1],ee=Object(c.useState)([]),te=Object(d.a)(ee,2),ae=te[0],ne=te[1],re=Object(c.useState)(JSON.parse(localStorage.getItem("user-info"))),ce=Object(d.a)(re,1)[0],se=Object(c.useState)({value:"markettime",label:"market time"}),ie=Object(d.a)(se,2),le=ie[0],oe=ie[1],ue=Object(c.useState)({value:"stock",label:"stock"}),de=Object(d.a)(ue,2),he=de[0],je=(de[1],Object(c.useState)([{value:"charting",label:"Charting"},{value:"performance",label:"Performance"}])),pe=Object(d.a)(je,2),me=pe[0],Oe=pe[1],ge=Object(c.useState)([]),xe=Object(d.a)(ge,2),ye=xe[0],Se=xe[1],ke=Object(c.useState)([]),we=Object(d.a)(ke,2),Ne=we[0],Ce=we[1],_e=Object(c.useState)([{value:"VOLUME",label:"VOLUME"},{value:"RSI",label:"RSI"},{value:"HEIK1",label:"HEIK1"},{value:"HEIK2",label:"HEIK2"}]),Ie=Object(d.a)(_e,2),Te=Ie[0],Fe=Ie[1],De=Object(c.useState)([{value:"markettime",label:"market time"},{value:"extend_markettime",label:"extend market time"}]),Ee=Object(d.a)(De,1)[0],Pe=Object(c.useCallback)((function(){try{fetch("http://3c20-23-237-32-34.ngrok.io/api/get_strategy_list").then((function(e){return e.json()})).then((function(e){ne(e.result);var t=e.result.map((function(e){return{value:e.macro,label:e.macro}}));Ce(t),e.result.length&&e.result.forEach((function(e){if("heikfilter"===e.macro){var t=e.micro.map((function(e){return{value:e,label:e}}));Se(t);var a=e.symbols.map((function(e){return{value:e,label:e}}));E(a)}}))}))}catch(e){console.log(e)}}),[]),Ae=Object(c.useCallback)((function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({strategy:e})};fetch("http://3c20-23-237-32-34.ngrok.io/api/tables",t).then((function(e){return e.json()})).then((function(e){var t=[];e.tables.map((function(e){return t.push({value:e,label:e}),null})),E(t)}))}),[]);Object(c.useEffect)((function(){return ve.a.on(),(ce.is_admin||(null===ce||void 0===ce?void 0:ce.role.length))&&(A||Pe()),function(){ve.a.off()}}),[Pe,A,ce]),Object(c.useEffect)((function(){(ce.is_admin||(null===ce||void 0===ce?void 0:ce.role.length))&&(!function(e){if("live_trading"===e)return I(!1),$({value:"no_strategy",label:"No Strategy"}),void Ce([{value:"no_strategy",label:"No Srategy"}]);"forward_test"===e&&($({value:"heikfilter",label:"heikfilter"}),v({value:"MSFT",label:"MSFT"})),Pe(),I(!0)}(i),"live_trading"===i&&Ae("no_strategy"),Oe("optimization"===i?[{value:"optimization ",label:"Optimization"}]:[{value:"charting",label:"Charting"},{value:"performance",label:"Performance"}]))}),[i,Pe,Ae,ce.is_admin,null===(t=ce.role)||void 0===t?void 0:t.length]);var Me=function(){var e=Object(k.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(ae.length&&ae.forEach((function(e){if(e.macro===t.value){var a=e.micro.map((function(e){return{value:e,label:e}}));Se(a),a.filter((function(e){return"2m"===e.value})).length?q({value:"2m",label:"2m"}):q(a[0]);var n=e.symbols.map((function(e){return{value:e,label:e}}));E(n),v({value:"MSFT",label:"MSFT"})}})),$(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){return 1===H.value?12:2===H.value||4===H.value?6:4};return Object(p.jsxs)("div",{className:"hunter-chart-container",children:[Object(p.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark hunter-nav-bar",children:[Object(p.jsx)("div",{className:"logo-title",children:Object(p.jsx)("a",{href:"/chart",className:"hunter-navbar-brand",children:"Violette AM - Client Portal"})}),(ce.is_admin||(null===(n=ce.role)||void 0===n?void 0:n.length))&&Object(p.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(o.b,{to:"/chart",className:"nav-link"})}),Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{value:V,onChange:function(e){if(K(e),"performance"===e.value){var t={selectedInstance:i,viewType:e,initStrategy:Z,initMicroStrategy:{value:"2m",label:"2m"},initIndicators:x,initSymbol:m};e&&(l(!1),h.push({state:t}))}},options:me,placeholder:"Charting"})}),Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{value:le,onChange:function(e){e&&oe(e)},options:Ee,placeholder:"Market Time"})}),Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{value:Z,onChange:Me,options:Ne,placeholder:"Macro Strategy"})}),_&&Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{value:X,onChange:function(e){e&&q(e)},options:ye,placeholder:"Micro Strategy"})}),Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{value:m,onChange:function(e){e&&v(e)},options:D,placeholder:"Symbol"})}),Object(p.jsx)("div",{className:"select-multi-option",children:Object(p.jsx)(w.a,{name:"filters",placeholder:"Indicators",value:x,onChange:function(e){y(e)},options:Te,isMulti:!0})}),Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{value:H,onChange:function(e){4===e.value||6===e.value?(y([]),Fe([{value:"VOLUME",label:"VOLUME"},{value:"RSI",label:"RSI"},{value:"HEIK1",label:"HEIK1"},{value:"HEIK2",label:"HEIK2"}])):(y([]),Fe([{value:"VOLUME",label:"VOLUME"},{value:"RSI",label:"RSI"},{value:"RSI2",label:"RSI2"},{value:"RSI3",label:"RSI3"},{value:"HEIK1",label:"HEIK1"},{value:"HEIK2",label:"HEIK2"}])),Y(e)},options:[{value:1,label:"1"},{value:2,label:"2"},{value:4,label:"4"},{value:6,label:"6"}],placeholder:"Columns"})})]}),Object(p.jsx)(b.d,{navbar:!0,isOpen:L,children:Object(p.jsxs)(b.l,{className:"ml-auto",navbar:!0,children:[Object(p.jsxs)(b.o,{children:[Object(p.jsxs)(b.h,{caret:!0,color:"default",nav:!0,onClick:function(e){return e.preventDefault()},children:[Object(p.jsx)("div",{className:"photo",children:Object(p.jsx)("img",{alt:"...",src:a(90).default})}),Object(p.jsx)("p",{className:"d-lg-none",children:"Log out"})]}),Object(p.jsxs)(b.g,{className:"dropdown-navbar",right:!0,tag:"ul",children:[Object(p.jsx)(b.f,{divider:!0,tag:"li"}),Object(p.jsx)(b.m,{tag:"li",children:Object(p.jsx)(b.f,{className:"nav-item",onClick:function(){r.signout(),h.push("/login")},children:"Log out"})})]})]}),Object(p.jsx)("li",{className:"separator d-lg-none"})]})})]}),ce.is_admin||(null===ce||void 0===ce?void 0:ce.role.length)?"stress_test"===i||"optimization"===i?Object(p.jsx)("div",{className:"development-in-content dark",children:"In development"}):Object(p.jsx)("div",{className:"graphs-container dark",children:Object(p.jsxs)("div",{className:"row ".concat(1===H.value||2===H.value?"full-height":"half-height"),children:[Object(p.jsx)("div",{className:"col-sm-12 col-md-".concat(Le()," graph-container"),children:X&&m&&Object(p.jsx)(be,{selectedSymbolType:he.value,extendMarketTime:le.value,selectedInstance:i,selectedTradeDB:"heikfilter-2mins-trades",chartPeriod:"20D 2min",symbol:m.value,indicators:x,strategy:Z,isHomePage:!0,chartColumn:H.value,microStrategy:X.value,startDate:null,endDate:null})}),Object(p.jsx)("div",{className:"col-sm-12 col-md-".concat(Le()," graph-container"),children:X&&m&&Object(p.jsx)(be,{extendMarketTime:le.value,selectedInstance:i,selectedTradeDB:"heikfilter-12mins-trades",chartPeriod:"20D 12min",symbol:m.value,indicators:x,strategy:Z,isHomePage:!0,chartColumn:H.value,microStrategy:X.value,startDate:null,endDate:null})}),Object(p.jsx)("div",{className:"col-sm-12 col-md-".concat(Le()," graph-container"),children:X&&m&&Object(p.jsx)(be,{extendMarketTime:le.value,selectedInstance:i,selectedTradeDB:"heikfilter-1hour-trades",chartPeriod:"30D 1hour",symbol:m.value,indicators:x,strategy:Z,isHomePage:!0,chartColumn:H.value,microStrategy:X.value,startDate:null,endDate:null})}),Object(p.jsx)("div",{className:"col-sm-12 col-md-".concat(Le()," graph-container"),children:X&&m&&Object(p.jsx)(be,{extendMarketTime:le.value,selectedInstance:i,selectedTradeDB:"heikfilter-4hours-trades",chartPeriod:"90D 4hour",symbol:m.value,indicators:x,strategy:Z,isHomePage:!0,chartColumn:H.value,microStrategy:X.value,startDate:null,endDate:null})}),Object(p.jsx)("div",{className:"col-sm-12 col-md-".concat(Le()," graph-container"),children:X&&m&&Object(p.jsx)(be,{extendMarketTime:le.value,selectedInstance:i,selectedTradeDB:"heikfilter-12hours-trades",chartPeriod:"90D 12hour",symbol:m.value,indicators:x,strategy:Z,isHomePage:!0,chartColumn:H.value,microStrategy:X.value,startDate:null,endDate:null})}),Object(p.jsx)("div",{className:"col-sm-12 col-md-".concat(Le()," graph-container"),children:X&&m&&Object(p.jsx)(be,{extendMarketTime:le.value,selectedInstance:i,selectedTradeDB:"heikfilter-1day-trades",chartPeriod:"1Y 1day",symbol:m.value,indicators:x,strategy:Z,isHomePage:!0,chartColumn:H.value,microStrategy:X.value,startDate:null,endDate:null})})]})}):Object(p.jsx)("div",{className:"development-in-content dark",children:"No Permission"})]})},ge=a(194),xe=a.n(ge),ye=a(367),Se=a(368),ke=a(360),we=(a(649),function(e){var t=e.selectDateRange,a=ne()().subtract(365,"days").format("YYYY-MM-DD"),n=ne()().format("YYYY-MM-DD"),r=Object(c.useState)(a),s=Object(d.a)(r,2),i=s[0],l=s[1],o=Object(c.useState)(n),u=Object(d.a)(o,2),b=u[0],h=u[1],j=function(e,n){var r=ne()(a,"YYYY-MM-DD").add(e[0],"days").format("YYYY-MM-DD"),c=ne()(a,"YYYY-MM-DD").add(e[1],"days").format("YYYY-MM-DD");l(r),h(c),n&&t(r,c)};return Object(p.jsxs)(Se.a.Group,{as:ke.a,className:"hunter-multi-range-area",children:[Object(p.jsx)("input",{type:"text",className:"hunter-form-control-input",value:i,disabled:!0}),Object(p.jsx)(ye.a,{min:0,max:365,defaultValue:[0,365],step:1,onChange:function(e){j(e,!1)},onAfterChange:function(e){j(e,!0)}}),Object(p.jsx)("input",{type:"text",className:"hunter-form-control-input",value:b,disabled:!0})]})}),Ne=function(e){var t=e.selectedInstance,a=e.handleChartRedirect,n=Object(u.g)().location.state,r=n.viewType,s=n.initStrategy,i=n.initMicroStrategy,l=n.initIndicators,b=n.initSymbol,h=Object(c.useState)(r||{value:"charting",label:"Charting"}),j=Object(d.a)(h,2),f=j[0],m=j[1],v=Object(c.useState)({value:"stock",label:"stock"}),O=Object(d.a)(v,2),g=O[0],x=(O[1],Object(c.useState)(b)),y=Object(d.a)(x,2),N=y[0],C=y[1],_=Object(c.useState)([b]),I=Object(d.a)(_,2),T=I[0],F=I[1],D=Object(c.useState)(s||{}),E=Object(d.a)(D,2),P=E[0],A=E[1],M=Object(c.useState)([]),L=Object(d.a)(M,2),B=L[0],R=L[1],H=Object(c.useState)(i||null),Y=Object(d.a)(H,2),z=Y[0],U=Y[1],V=Object(c.useState)(l),K=Object(d.a)(V,2),J=K[0],W=K[1],X=Object(c.useState)(!1),q=Object(d.a)(X,2),G=q[0],Q=q[1],Z=Object(c.useState)(""),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ae=Object(c.useState)(""),ne=Object(d.a)(ae,2),re=ne[0],ce=ne[1],se=Object(c.useState)([]),ie=Object(d.a)(se,2),le=ie[0],oe=ie[1],ue=Object(c.useState)([{value:"charting",label:"Charting"},{value:"performance",label:"Performance"}]),de=Object(d.a)(ue,2),he=de[0],je=de[1],fe=Object(c.useState)([]),pe=Object(d.a)(fe,2),me=pe[0],Oe=pe[1],ge=Object(c.useState)([]),ye=Object(d.a)(ge,2),Se=ye[0],ke=ye[1],Ne=Object(c.useCallback)((function(){fetch("http://3c20-23-237-32-34.ngrok.io/api/get_strategy_list").then((function(e){return e.json()})).then((function(e){oe(e.result);var t=e.result.map((function(e){return{value:e.macro,label:e.macro}}));ke(t),e.result.length&&e.result.forEach((function(e){if("heikfilter"===e.macro){var t=e.micro.map((function(e){return{value:e,label:e}}));Oe(t);var a=e.symbols.map((function(e){return{value:e,label:e}}));R(a)}}))}))}),[]);Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user-info"));return(e.is_admin||e.role.length)&&Ne(),ve.a.on(),function(){ve.a.off()}}),[Ne]),Object(c.useEffect)((function(){"optimization"===t.value?je([{value:"optimization",label:"Optimization"}]):je([{value:"charting",label:"Charting"},{value:"performance",label:"Performance"}])}),[t]),Object(c.useEffect)((function(){G||(U(z),function(){try{var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({strategy:P.value})};fetch("http://3c20-23-237-32-34.ngrok.io/api/tables",e).then((function(e){return e.json()})).then((function(e){var t=[];e.tables.map((function(e){return t.push({value:e,label:e}),null})),R(t)}))}catch(t){console.log(t)}}(),Q(!0))}),[U,G,z,Q,P.value]);var Ce=function(){var e=Object(k.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(A(t),le.length&&le.forEach((function(e){if(e.macro===t.value){var a=e.micro.map((function(e){return{value:e,label:e}}));Oe(a),a.filter((function(e){return"2m"===e.value})).length?U({value:"2m",label:"2m"}):U(a[2]);var n=e.symbols.map((function(e){return{value:e,label:e}}));R(n),C(n[0])}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"hunter-chart-container",children:[Object(p.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark hunter-nav-bar",children:[Object(p.jsx)("div",{className:"logo-title",children:Object(p.jsx)("a",{href:"/chart",className:"hunter-navbar-brand",children:"Violette AM - Client Portal"})}),Object(p.jsxs)("div",{className:"navbar-nav ma-auto hunter-nav-bar-nav",children:[Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(o.b,{to:"/chart",className:"nav-link"})}),Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{value:f,onChange:function(e){m(e),"charting"===e.value&&a(!0)},options:he,placeholder:"Charting"})}),"performance"!==f.value?Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{value:N,onChange:function(e){e&&C(e)},options:B})}):Object(p.jsx)("div",{className:"select-multi-option hunter-multi-select-checkboxes",children:Object(p.jsx)(xe.a,{options:B,value:T,onChange:function(e){F(e)}})}),"live_trading"!==t.value&&Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{value:P,onChange:Ce,options:Se,placeholder:"Macro Strategy"})}),"live_trading"!==t.value&&Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{name:"filters",placeholder:"Micro Strategy",value:z,onChange:function(e){U(e)},options:me})}),"performance"!==f.value&&Object(p.jsx)("div",{className:"select-multi-option",children:Object(p.jsx)(w.a,{name:"filters",placeholder:"Indicators",value:J,onChange:function(e){W(e)},options:[{value:"VOLUME",label:"VOLUME"},{value:"RSI",label:"RSI"},{value:"MACD",label:"MACD"},{value:"SMA",label:"SMA"}],isMulti:!0})}),Object(p.jsx)("div",{className:"date hunter-item-chart hunter-date-time-picker",id:"datetimepicker1",children:Object(p.jsx)(we,{selectDateRange:function(e,t){te(e),ce(t)}})})]})]}),Object(p.jsx)("div",{className:"graphs-container dark",children:r&&Object(p.jsx)(be,{selectedSymbolType:g.value,selectedInstance:t.value,viewType:f.value,microStrategy:z.value,symbol:N.value,multiSymbol:T,indicators:J,strategy:P,isHomePage:!1,startDate:ee,endDate:re})})]})};var Ce=function(){var e=Object(u.g)(),t=e.location.state?e.location.state.initInstance:null,a=s.a.useState(!0),n=Object(d.a)(a,2),r=n[0],c=n[1],i=s.a.useState(!1),l=Object(d.a)(i,2),o=l[0],j=l[1],m=s.a.useState(t||"forward_test"),v=Object(d.a)(m,2),x=v[0],y=v[1],S=Object(u.h)(),k=s.a.useRef(null);s.a.useEffect((function(){if(navigator.platform.indexOf("Win")>-1){document.documentElement.className+=" perfect-scrollbar-on",document.documentElement.classList.remove("perfect-scrollbar-off"),me=new h.a(k.current,{suppressScrollX:!0});for(var e=document.querySelectorAll(".table-responsive"),t=0;t<e.length;t++)me=new h.a(e[t])}return function(){navigator.platform.indexOf("Win")>-1&&(me.destroy(),document.documentElement.classList.add("perfect-scrollbar-off"),document.documentElement.classList.remove("perfect-scrollbar-on"))}})),s.a.useEffect((function(){if(navigator.platform.indexOf("Win")>-1)for(var e=document.querySelectorAll(".table-responsive"),t=0;t<e.length;t++)me=new h.a(e[t]);document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,k.current&&(k.current.scrollTop=0)}),[S]);var w=function(){j(!o)},N=function(e){y(e)},C=function(e){c(e)};return Object(p.jsx)(f.Consumer,{children:function(e){var t=e.color;return Object(p.jsx)(s.a.Fragment,{children:Object(p.jsxs)("div",{className:"wrapper hunter-wrapper",children:[!o&&Object(p.jsx)(b.a,{className:"show-sidebar-toggle-area show-sidebar-icon",onClick:w,children:Object(p.jsx)("i",{className:"tim-icons icon-align-left-2"})}),o&&Object(p.jsx)(O,{subInstance:"view",isAdminPage:!1,routes:g,selectedInstance:x,handleSidebarChange:w,handleInstanceChange:N}),r?Object(p.jsx)("div",{className:"main-panel ".concat(o?"":"full-width"),ref:k,data:t,children:Object(p.jsx)(Oe,{selectedInstance:x,handleChartRedirect:C})}):Object(p.jsx)("div",{className:"main-panel ".concat(o?"":"full-width"),ref:k,data:t,children:Object(p.jsx)(Ne,{selectedInstance:x,handleChartRedirect:C})})]})})}})};function _e(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function Ie(){var e=new Date,t=e.getMonth()+1,a=e.getDate();return e.getMonth()+1<10&&(t="0"+t),e.getDate()<10&&(a="0"+a),"".concat(e.getFullYear(),"-").concat(t,"-").concat(a)}var Te=function(){var e=fe(),t=Object(u.g)(),a=Object(c.useState)(-1),n=Object(d.a)(a,2),r=n[0],s=n[1],i=Object(c.useState)(!1),l=Object(d.a)(i,2),o=l[0],b=l[1],h=Object(c.useState)(""),j=Object(d.a)(h,2),f=j[0],m=j[1],v=Object(c.useState)(""),O=Object(d.a)(v,2),g=O[0],x=O[1],y=Object(c.useState)(""),w=Object(d.a)(y,2),N=w[0],C=w[1];Object(c.useEffect)((function(){var e=function(e){"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),_())};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]);var _=function(){var a=Object(k.a)(S.a.mark((function a(){var n,r;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(g.length&&N.length){a.next=4;break}return s(1),m("Email or password is wrong"),a.abrupt("return");case 4:if(_e(g)){a.next=7;break}return alert("Invalid email"),a.abrupt("return");case 7:return b(!0),a.next=10,e.authUser.signin(g,N);case 10:if(n=a.sent,b(!1),!n.success){a.next=17;break}r={userId:n.user_id},t.push({pathname:"/verify",state:r}),a.next=20;break;case 17:return s(1),m(n.error),a.abrupt("return");case 20:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"login-form",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{children:"Log In"}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"User Email"}),Object(p.jsx)("input",{type:"email",className:"form-control hunter-form-control",placeholder:"Enter user email",value:g,onChange:function(e){!function(e){x(e.target.value)}(e)},required:!0})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Password"}),Object(p.jsx)("input",{type:"password",className:"form-control hunter-form-control",placeholder:"Enter password",value:N,onChange:function(e){!function(e){C(e.target.value)}(e)},required:!0})]}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(p.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheck1"}),Object(p.jsx)("label",{className:"custom-control-label",htmlFor:"customCheck1",children:"Remember me"})]})}),Object(p.jsxs)("button",{className:"btn btn-dark btn-lg btn-block hunter-signin-button",onClick:_,children:[o&&Object(p.jsx)("span",{className:"spinner-border spinner-border-sm hunter-spinner-button",role:"status","aria-hidden":"true"}),"Sign in"]}),Object(p.jsx)("div",{className:"form-group hunter-form-signup-area",children:Object(p.jsxs)("p",{className:"forgot-password text-right",children:["Forgot ",Object(p.jsx)("a",{href:"/forgot_password",children:"password?"})]})})]}),-1!==r&&Object(p.jsx)("div",{className:"alert alert-primary",role:"alert",children:Object(p.jsxs)("div",{className:"alert-container",children:[Object(p.jsx)("div",{className:"alert-content",children:f}),Object(p.jsx)("button",{type:"button",className:"btn btn-primary modal-close-button hunter-modal-small-button",onClick:function(){s(-1),m("")},children:"Close"})]})})]})},Fe=a(9),De=a.n(Fe);var Ee=function(){var e=fe(),t=Object(u.g)(),n=s.a.useState(!1),r=Object(d.a)(n,1)[0],c=s.a.useState(!1),i=Object(d.a)(c,2),l=i[0],o=i[1],h=s.a.useState("navbar-transparent"),j=Object(d.a)(h,2),f=j[0],m=j[1];s.a.useEffect((function(){return window.addEventListener("resize",v),function(){window.removeEventListener("resize",v)}}));var v=function(){window.innerWidth<993&&r?m("bg-white"):m("navbar-transparent")},O=function(){o(!l)};return Object(p.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark hunter-nav-bar",children:[Object(p.jsx)("div",{className:"logo-title",children:Object(p.jsx)("a",{href:"/chart",className:"hunter-navbar-brand",children:"Violette AM - Client Portal"})}),Object(p.jsx)(b.n,{className:De()("navbar-absolute",f),expand:"lg",children:Object(p.jsx)(b.e,{fluid:!0,children:Object(p.jsx)(b.d,{navbar:!0,isOpen:r,children:Object(p.jsxs)(b.l,{className:"ml-auto",navbar:!0,children:[Object(p.jsxs)(b.o,{nav:!0,children:[Object(p.jsxs)(b.h,{caret:!0,color:"default",nav:!0,onClick:function(e){return e.preventDefault()},children:[Object(p.jsx)("div",{className:"photo",children:Object(p.jsx)("img",{alt:"...",src:a(90).default})}),Object(p.jsx)("p",{className:"d-lg-none",children:"Log out"})]}),Object(p.jsxs)(b.g,{className:"dropdown-navbar",right:!0,tag:"ul",children:[Object(p.jsx)(b.f,{divider:!0,tag:"li"}),Object(p.jsx)(b.m,{tag:"li",children:Object(p.jsx)(b.f,{className:"nav-item",onClick:function(){e.signout(),t.push("/login")},children:"Log out"})})]})]}),Object(p.jsx)("li",{className:"separator d-lg-none"})]})})})}),Object(p.jsx)(b.j,{modalClassName:"modal-search",isOpen:l,toggle:O,children:Object(p.jsxs)(b.k,{children:[Object(p.jsx)(b.i,{placeholder:"SEARCH",type:"text"}),Object(p.jsx)("button",{"aria-label":"Close",className:"close",onClick:O,children:Object(p.jsx)("i",{className:"tim-icons icon-simple-remove"})})]})})]})};var Pe,Ae=a(24),Me=a(17),Le=function(){var e=Object(k.a)(S.a.mark((function e(t,a,n,r,c){var s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({selectedSymbolType:t,symbol:a,time_frame:n,start:r,end:c})},e.next=3,fetch("http://3c20-23-237-32-34.ngrok.io/api/get_table_candles",s).then((function(e){return e.json()})).then((function(e){var t=[];return e.candles.forEach((function(e){t.push({o:e.o,h:e.h,c:e.c,l:e.l,v:e.v,date:e.date.replace("T"," ")})})),t}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n,r,c){return e.apply(this,arguments)}}(),Be=function(){var e=Object(k.a)(S.a.mark((function e(t,a,n,r,c,s){var i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({selectedSymbolType:t,symbol:a,macroStrategy:n,microStrategy:r,tradeStartDate:c,tradeEndDate:s})},e.next=3,fetch("http://3c20-23-237-32-34.ngrok.io/api/get_data_trades",i).then((function(e){return e.json()})).then((function(e){var t=[];return e.trades_data.forEach((function(e){t.push({symbol:e.symbol,strategy:"".concat(e.macro_strategy," - ").concat(e.micro_strategy),side:e.side,quantity:e.quantity,date:e.date.replace("T"," "),price:e.price})})),t}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n,r,c,s){return e.apply(this,arguments)}}(),Re=function(){var e=Object(k.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({strategy:"no_strategy"})},e.next=3,fetch("http://3c20-23-237-32-34.ngrok.io/api/tables",t).then((function(e){return e.json()})).then((function(e){var t=[];return e.tables.map((function(e){return t.push({value:e,label:e}),null})),t}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),He=function(){var e=Object(k.a)(S.a.mark((function e(t){var a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({roles:t,link:"http://3c20-23-237-32-34.ngrok.io/signup/"})},n=[],e.next=4,fetch("http://3c20-23-237-32-34.ngrok.io/links",a).then((function(e){return e.json()})).then(function(){var e=Object(k.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("create link"!==t.success){e.next=3;break}return e.next=3,fetch("http://3c20-23-237-32-34.ngrok.io/links").then((function(e){return e.json()})).then((function(e){n=e}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(k.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://3c20-23-237-32-34.ngrok.io/links").then((function(e){return e.json()})).then((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ze=function(){var e=Object(k.a)(S.a.mark((function e(t,a){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,link:a})},e.next=3,fetch("http://3c20-23-237-32-34.ngrok.io/send-signup-link",n).then((function(e){return e.json()})).then((function(e){return!0}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(k.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,url:"http://3c20-23-237-32-34.ngrok.io"})},e.next=3,fetch("http://3c20-23-237-32-34.ngrok.io/password_reset/",a).then((function(e){return e.json()})).then((function(e){return e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(k.a)(S.a.mark((function e(t,a,n){var r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password1:t,password2:a,pathname:n})},e.next=3,fetch("http://3c20-23-237-32-34.ngrok.io/password_reset_confirm/",r).then((function(e){return e.json()})).then((function(e){return e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(k.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://3c20-23-237-32-34.ngrok.io/strategy/parameter_list/").then((function(e){return e.json()})).then((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Je=function(){var e=Object(k.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({param_type:t})},e.next=3,fetch("http://3c20-23-237-32-34.ngrok.io/strategy/parameter_detail_list/",a).then((function(e){return e.json()})).then((function(e){return e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(e){if(!e)return"";var t="",a="";return e.forEach((function(e){t=t+a+e.value,a=","})),t},Xe=function(e){return e&&e.length?e.split(",").map((function(e){return{value:e,label:e}})):null},qe=function(e){return{bot_name:e.bot_name,timeframe:We(e.timeframe),indicator:We(e.indicator),watchlist:We(e.watchlist),position_sizing:We(e.position_sizing),order_routing:We(e.order_routing),data_source:We(e.data_source),live_trading:We(e.live_trading),starting_cash:e.starting_cash,hours:We(e.hours),name:e.name,macro_strategy:We(e.macro_strategy),indicator_signalling:We(e.indicator_signalling),asset_class:We(e.asset_class)}},Ge=function(){var e=Object(k.a)(S.a.mark((function e(t){var a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=qe(t),n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({config_collection:"bot_configs",config:a})},"/strategy/create_one_config_detail/",e.next=5,fetch("http://3c20-23-237-32-34.ngrok.io/strategy/create_one_config_detail/",n).then((function(e){return e.json()})).then((function(e){return e}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(k.a)(S.a.mark((function e(t,a,n,r){var c,s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:t,content:a,isStrategyScript:r})},s=n?"/strategy/save_script_file":"/api/create_script_file",e.next=4,fetch("http://3c20-23-237-32-34.ngrok.io"+s,c).then((function(e){return e.json()})).then((function(e){return e}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(k.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://3c20-23-237-32-34.ngrok.io/get_user_list").then((function(e){return e.json()})).then((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$e=function(){var e=Object(k.a)(S.a.mark((function e(t,a){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,role:a})},e.next=3,fetch("http://3c20-23-237-32-34.ngrok.io/update_user_role",n).then((function(e){return e.json()})).then((function(e){return e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),et=function(){var e=Object(k.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})},e.next=3,fetch("http://3c20-23-237-32-34.ngrok.io/delete_user/",a).then((function(e){return e.json()})).then((function(e){return e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tt=function(){var e=Object(k.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({config_collection:t})},e.next=3,fetch("http://3c20-23-237-32-34.ngrok.io/strategy/config_detail_names/",a).then((function(e){return e.json()})).then((function(e){return e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),at=function(){var e=Object(k.a)(S.a.mark((function e(t,a){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({config_collection:t,name:a})},e.next=3,fetch("http://3c20-23-237-32-34.ngrok.io/strategy/config_item_detail/",n).then((function(e){return e.json()})).then((function(e){return e}));case 3:return r=e.sent,e.abrupt("return",{bot_name:(c=r.result).bot_name,timeframe:Xe(c.timeframe),indicator:Xe(c.indicator),watchlist:Xe(c.watchlist),position_sizing:Xe(c.position_sizing),order_routing:Xe(c.order_routing),data_source:Xe(c.data_source),live_trading:Xe(c.live_trading),starting_cash:c.starting_cash,hours:Xe(c.hours),name:c.name,macro_strategy:Xe(c.macro_strategy),indicator_signalling:Xe(c.indicator_signalling),asset_class:Xe(c.asset_class)});case 5:case"end":return e.stop()}var c}),e)})));return function(t,a){return e.apply(this,arguments)}}(),nt=function(){var e=Object(k.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({config_collection:"bot_status"})},e.next=3,fetch("http://3c20-23-237-32-34.ngrok.io/strategy/bot_status_list/",t).then((function(e){return e.json()})).then((function(e){return e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),rt=function(){var e=Object(k.a)(S.a.mark((function e(t,a){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({config_collection:"bot_configs",name:t})},r="start"===a?"/strategy/bot_run/":"pause"===a?"/strategy/bot_pause/":"/strategy/bot_stop/",e.prev=2,e.next=5,fetch("http://3c20-23-237-32-34.ngrok.io"+r,n).then((function(e){return e.json()})).then((function(e){return e}));case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",{success:!1,message:e.t0});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,a){return e.apply(this,arguments)}}(),ct=function(){var e=Object(k.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({config_collection:"bot_configs"})},"/strategy/config_details/",e.prev=2,e.next=5,fetch("http://3c20-23-237-32-34.ngrok.io/strategy/config_details/",t).then((function(e){return e.json()})).then((function(e){return e}));case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",{success:!1,message:e.t0});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),st=function(){var e=Object(k.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/news/recent_news/",e.prev=1,e.next=4,fetch("http://3c20-23-237-32-34.ngrok.io/news/recent_news/").then((function(e){return e.json()})).then((function(e){return e}));case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",{success:!1,message:e.t0});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),it=function(){var e=Object(k.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:t})},e.next=3,fetch("http://3c20-23-237-32-34.ngrok.io/financials/income_statement/",a).then((function(e){return e.json()})).then((function(e){return e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lt=function(){var e=Object(k.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:t})},e.next=3,fetch("http://3c20-23-237-32-34.ngrok.io/financials/balance_sheet/",a).then((function(e){return e.json()})).then((function(e){return e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ot=function(){var e=Object(k.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:t})},e.next=3,fetch("http://3c20-23-237-32-34.ngrok.io/financials/cash_statement/",a).then((function(e){return e.json()})).then((function(e){return e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ut=function(){var e=Object(k.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:t})},e.next=3,fetch("http://3c20-23-237-32-34.ngrok.io/financials/financial_total_data/",a).then((function(e){return e.json()})).then((function(e){return e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dt=function(){var e=Object(k.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/scanner/available_items/",e.prev=1,e.next=4,fetch("http://3c20-23-237-32-34.ngrok.io/scanner/available_items/").then((function(e){return e.json()})).then((function(e){return e}));case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",{success:!1,message:e.t0});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),bt=function(){var e=Object(k.a)(S.a.mark((function e(t,a){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbols:t,financial_part:a})},"/scanner/multi_financials/",e.prev=2,e.next=5,fetch("http://3c20-23-237-32-34.ngrok.io/scanner/multi_financials/",n).then((function(e){return e.json()})).then((function(e){return e.results}));case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",{success:!1,message:e.t0});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,a){return e.apply(this,arguments)}}(),ht=function(){var e=Object(k.a)(S.a.mark((function e(t,a,n){var r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chart_number:t,symbols:a,fields:n})},"/scanner/save_scanner_views/",e.prev=2,e.next=5,fetch("http://3c20-23-237-32-34.ngrok.io/scanner/save_scanner_views/",r).then((function(e){return e.json()})).then((function(e){return e.results}));case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",{success:!1,message:e.t0});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,a,n){return e.apply(this,arguments)}}(),jt=function(){var e=Object(k.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chart_number:t})},"/scanner/scanner_views/",e.prev=2,e.next=5,fetch("http://3c20-23-237-32-34.ngrok.io/scanner/scanner_views/",a).then((function(e){return e.json()})).then((function(e){return e.result}));case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",{success:!1,message:e.t0});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),ft=function(){var e=Object(k.a)(S.a.mark((function e(){var t,a,n,r,c,s=arguments;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",a=s.length>1&&void 0!==s[1]?s[1]:"",n=s.length>2&&void 0!==s[2]?s[2]:"",r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({exchange:t,industry:a,sector:n})},c="/scanner/ticker_details_list/",e.prev=5,e.next=8,fetch("http://3c20-23-237-32-34.ngrok.io"+c,r).then((function(e){return e.json()})).then((function(e){return e.result}));case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(5),e.abrupt("return",{success:!1,message:e.t0});case 14:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(){return e.apply(this,arguments)}}(),pt=function(){var e=Object(k.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/scanner/ticker_details_filter_options/",e.prev=1,e.next=4,fetch("http://3c20-23-237-32-34.ngrok.io/scanner/ticker_details_filter_options/").then((function(e){return e.json()})).then((function(e){return e}));case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",{success:!1,message:e.t0});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),mt=function(){var e=Object(k.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/floats/float_details_filter_options/",e.prev=1,e.next=4,fetch("http://3c20-23-237-32-34.ngrok.io/floats/float_details_filter_options/").then((function(e){return e.json()})).then((function(e){return e}));case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",{success:!1,message:e.t0});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),vt=function(){var e=Object(k.a)(S.a.mark((function e(t,a){var n,r,c,s,i,l=arguments;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>2&&void 0!==l[2]?l[2]:"",r=l.length>3&&void 0!==l[3]?l[3]:"",c=l.length>4&&void 0!==l[4]?l[4]:"",s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page_num:t,page_mounts:a,exchange:n,industry:r,sector:c})},i="/floats/float_details_list/",e.prev=5,e.next=8,fetch("http://3c20-23-237-32-34.ngrok.io"+i,s).then((function(e){return e.json()})).then((function(e){return e.results}));case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(5),e.abrupt("return",{success:!1,message:e.t0});case 14:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t,a){return e.apply(this,arguments)}}();var Ot,gt=function(){var e=Object(u.g)(),t=Object(c.useState)(!0),a=Object(d.a)(t,2),n=a[0],r=a[1],i=Object(c.useState)(-1),l=Object(d.a)(i,2),o=l[0],j=l[1],m=Object(c.useState)(!1),v=Object(d.a)(m,2),g=v[0],y=v[1],N=Object(c.useState)(""),C=Object(d.a)(N,2),_=C[0],I=C[1],T=s.a.useState(!0),F=Object(d.a)(T,2),D=F[0],E=F[1],P=Object(u.h)(),A=s.a.useRef(null),M=Object(c.useState)(!1),L=Object(d.a)(M,2),B=L[0],R=L[1],H=Object(c.useState)([]),Y=Object(d.a)(H,2),z=Y[0],U=Y[1],V=Object(c.useState)([]),K=Object(d.a)(V,2),J=K[0],W=K[1],X=Object(c.useState)(null),q=Object(d.a)(X,2),G=q[0],Q=q[1],Z=s.a.useState(-1!==document.documentElement.className.indexOf("nav-open")),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ae=s.a.useState("usermanage"),ne=Object(d.a)(ae,2),re=ne[0],ce=ne[1],se=[{value:"forward_test",label:"Forward Test"},{value:"stress_test",label:"Stress Test"},{value:"optimization",label:"Optimization"},{value:"live_trade",label:"Live Trade"},{value:"macket_watch",label:"Macket Watch"},{value:"scanner",label:"Scanner"},{value:"trade_data",label:"Trade Data"}],ie=Object(c.useState)(JSON.parse(localStorage.getItem("user-info"))),le=Object(d.a)(ie,1)[0];Object(c.useEffect)((function(){le.is_admin||e.push("/")}),[le,e]),s.a.useEffect((function(){if(navigator.platform.indexOf("Win")>-1){document.documentElement.className+=" perfect-scrollbar-on",document.documentElement.classList.remove("perfect-scrollbar-off"),Pe=new h.a(A.current,{suppressScrollX:!0});for(var e=document.querySelectorAll(".table-responsive"),t=0;t<e.length;t++)Pe=new h.a(e[t])}return function(){navigator.platform.indexOf("Win")>-1&&(Pe.destroy(),document.documentElement.classList.add("perfect-scrollbar-off"),document.documentElement.classList.remove("perfect-scrollbar-on"))}})),s.a.useEffect((function(){if(navigator.platform.indexOf("Win")>-1)for(var e=document.querySelectorAll(".table-responsive"),t=0;t<e.length;t++)Pe=new h.a(e[t]);document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,A.current&&(A.current.scrollTop=0)}),[P]),Object(c.useEffect)((function(){var e=function(){var e=Object(k.a)(S.a.mark((function e(){var t,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze();case 2:t=e.sent,a=t.map((function(e,t){return{id:t,username:e.username,email:e.email,role:e.is_superuser?"Super User":e.role,active:"active",action:Object(p.jsxs)("div",{className:"hunter-user-manage-button-area",children:[Object(p.jsx)(Me.b,{color:"blue",size:"sm",onClick:function(){U([]),Q(e.id),oe()},children:"Update Role"}),Object(p.jsx)(Me.b,{color:"blue",size:"sm",onClick:Object(k.a)(S.a.mark((function t(){var a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Do you really want to delete this user?")){t.next=6;break}return t.next=3,et(e.id);case 3:a=t.sent,r(!0),alert(a.message);case 6:case"end":return t.stop()}}),t)}))),children:"Delete User"})]})}})),W(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n&&(e(),r(!1))}),[n]);var oe=function(){R(!0)},ue=function(){document.documentElement.classList.toggle("nav-open"),te(!ee)},de=function(){E(!D)},be=function(e){for(var t=0;t<x.length;t++)if(-1!==P.pathname.indexOf(x[t].layout+x[t].path))return x[t].name;return"Brand"},he=function(e){ce(e)},je=[{label:"#",field:"id"},{label:"name",field:"username"},{label:"email",field:"email"},{label:"Role",field:"role"},{label:"Active",field:"active"},{action:"Action",field:"action"}],fe=function(e){U(e)},pe=function(){R(!1)},me=function(e){var t="",a="";return e.forEach((function(e){t=t+a+e.value,a=","})),t},ve=function(){var e=Object(k.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,$e(G,me(z));case 3:if(t=e.sent,y(!1),!t.success){e.next=10;break}return r(!0),j(0),I(t.message),e.abrupt("return");case 10:return j(1),I(t.message),e.abrupt("return");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)(f.Consumer,{children:function(e){var t=e.color;e.changeColor;return Object(p.jsx)(s.a.Fragment,{children:Object(p.jsxs)("div",{className:"wrapper hunter-wrapper",children:[!D&&Object(p.jsx)(b.a,{className:"show-sidebar-toggle-area show-sidebar-icon",onClick:de,children:Object(p.jsx)("i",{className:"tim-icons icon-align-left-2"})}),D&&Object(p.jsx)(O,{isAdminPage:!0,routes:x,handleSidebarChange:de,selectedInstance:re,handleInstanceChange:he}),Object(p.jsxs)(Ae.a,{show:B,className:"hunter-modal",onHide:pe,children:[Object(p.jsx)(Ae.a.Header,{closeButton:!0,children:Object(p.jsx)(Ae.a.Title,{children:"Update User Role"})}),Object(p.jsx)(Ae.a.Body,{children:Object(p.jsx)("div",{className:"select-multi-option",children:Object(p.jsx)(w.a,{name:"filters",placeholder:"Roles",value:z,onChange:fe,options:se,isMulti:!0})})}),Object(p.jsx)(Ae.a.Footer,{className:"hunter-modal-footer",children:Object(p.jsxs)(b.a,{variant:"primary",onClick:ve,children:[g&&Object(p.jsx)("span",{className:"spinner-border spinner-border-sm hunter-spinner-button",role:"status","aria-hidden":"true"}),"Update Role"]})}),-1!==o&&Object(p.jsx)("div",{className:"alert alert-primary",role:"alert",children:Object(p.jsxs)("div",{className:"alert-container",children:[Object(p.jsx)("div",{className:"alert-content",children:_}),Object(p.jsx)("button",{type:"button",className:"btn btn-primary modal-close-button hunter-modal-small-button",onClick:function(){j(-1),I(""),R(!1)},children:"Close"})]})})]}),Object(p.jsxs)("div",{className:"main-panel ".concat(D?"":"full-width"),ref:A,data:t,children:[Object(p.jsx)(Ee,{brandText:be(P.pathname),toggleSidebar:ue,sidebarOpened:ee}),Object(p.jsxs)("div",{className:"hunter-page-container",children:[Object(p.jsx)("div",{className:"hunter-page-title",children:Object(p.jsx)("h3",{children:"User Manage"})}),Object(p.jsx)("div",{className:"col-sm-8 hunter-mdb-table-container",children:Object(p.jsxs)(Me.h,{btn:!0,children:[Object(p.jsx)(Me.j,{columns:je,color:"dark"}),Object(p.jsx)(Me.i,{rows:J,className:"hunter-mdb-table-body"})]})})]})]})]})})}})};var xt=function(){var e=Object(u.g)(),t=Object(c.useState)([]),a=Object(d.a)(t,2),n=a[0],r=a[1],i=Object(c.useState)(!1),l=Object(d.a)(i,2),o=l[0],j=l[1],m=Object(c.useState)(!1),v=Object(d.a)(m,2),g=v[0],y=v[1],N=s.a.useState(!0),C=Object(d.a)(N,2),_=C[0],I=C[1],T=Object(u.h)(),F=s.a.useRef(null),D=s.a.useState(-1!==document.documentElement.className.indexOf("nav-open")),E=Object(d.a)(D,2),P=E[0],A=E[1],M=s.a.useState("linkmanage"),L=Object(d.a)(M,2),B=L[0],R=L[1],H=Object(c.useState)(""),Y=Object(d.a)(H,2),z=Y[0],U=Y[1],V=Object(c.useState)(""),K=Object(d.a)(V,2),J=K[0],W=K[1],X=Object(c.useState)(!1),q=Object(d.a)(X,2),G=q[0],Q=q[1],Z=[{value:"forward_test",label:"Forward Test"},{value:"stress_test",label:"Stress Test"},{value:"optimization",label:"Optimization"},{value:"live_trading",label:"Live Trade"},{value:"macket_watch",label:"Macket Watch"},{value:"scanner",label:"Scanner"},{value:"trade_data",label:"Trade Data"},{value:"hybrid_view",label:"Hybrid View"},{value:"financial_data",label:"Financial Data"}],$=Object(c.useState)(JSON.parse(localStorage.getItem("user-info"))),ee=Object(d.a)($,1)[0];Object(c.useEffect)((function(){ee.is_admin||e.push("/")}),[ee,e]),s.a.useEffect((function(){if(navigator.platform.indexOf("Win")>-1){document.documentElement.className+=" perfect-scrollbar-on",document.documentElement.classList.remove("perfect-scrollbar-off"),Ot=new h.a(F.current,{suppressScrollX:!0});for(var e=document.querySelectorAll(".table-responsive"),t=0;t<e.length;t++)Ot=new h.a(e[t])}return function(){navigator.platform.indexOf("Win")>-1&&(Ot.destroy(),document.documentElement.classList.add("perfect-scrollbar-off"),document.documentElement.classList.remove("perfect-scrollbar-on"))}})),s.a.useEffect((function(){var e=function(){var e=Object(k.a)(S.a.mark((function e(){var t,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye();case 2:t=e.sent,a=t.map((function(e){return{id:e.id,link:e.link,roles:e.role,action:Object(p.jsx)(Me.b,{color:"blue",size:"sm",onClick:function(){U(e.link),oe()},children:"Send"})}})),pe(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),s.a.useEffect((function(){if(navigator.platform.indexOf("Win")>-1)for(var e=document.querySelectorAll(".table-responsive"),t=0;t<e.length;t++)Ot=new h.a(e[t]);document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,F.current&&(F.current.scrollTop=0)}),[T]);var te=function(){document.documentElement.classList.toggle("nav-open"),A(!P)},ae=function(){I(!_)},ne=function(e){for(var t=0;t<x.length;t++)if(-1!==T.pathname.indexOf(x[t].layout+x[t].path))return x[t].name;return"Brand"},re=function(e){R(e)},ce=function(){r([]),y(!1)},se=function(){y(!0)},ie=function(e){r(e)},le=function(){var e=Object(k.a)(S.a.mark((function e(){var t,a,r,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",a="",n.forEach((function(e){t=t+a+e.value,a=","})),Q(!0),e.next=6,He(t);case 6:r=e.sent,Q(!1),c=r.map((function(e){return{id:e.id,link:e.link,roles:e.role,action:Object(p.jsx)(Me.b,{color:"blue",size:"sm",onClick:function(){U(e.link),oe()},children:"Send"})}})),pe(c),y(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(k.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(k.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(k.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_e(J)){e.next=3;break}return alert("Email is invalid"),e.abrupt("return");case 3:return Q(!0),e.next=6,ze(J,z);case 6:Q(!1),alert("sent to ".concat(J," successfully!")),W(""),j(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=[{label:"#",field:"id"},{label:"Link",field:"link"},{label:"Roles",field:"roles"},{label:"Action",field:"action"}],he=Object(c.useState)(),je=Object(d.a)(he,2),fe=je[0],pe=je[1];return Object(p.jsx)(f.Consumer,{children:function(e){var t=e.color;e.changeColor;return Object(p.jsx)(s.a.Fragment,{children:Object(p.jsxs)("div",{className:"wrapper hunter-wrapper",children:[!_&&Object(p.jsx)(b.a,{className:"show-sidebar-toggle-area show-sidebar-icon",onClick:ae,children:Object(p.jsx)("i",{className:"tim-icons icon-align-left-2"})}),_&&Object(p.jsx)(O,{isAdminPage:!0,routes:x,handleSidebarChange:ae,selectedInstance:B,handleInstanceChange:re}),Object(p.jsxs)(Ae.a,{show:g,className:"hunter-modal",onHide:ce,children:[Object(p.jsx)(Ae.a.Header,{closeButton:!0,children:Object(p.jsx)(Ae.a.Title,{children:"Create Sign Up link for users"})}),Object(p.jsx)(Ae.a.Body,{children:Object(p.jsx)("div",{className:"select-multi-option",children:Object(p.jsx)(w.a,{name:"filters",placeholder:"Roles",value:n,onChange:ie,options:Z,isMulti:!0})})}),Object(p.jsx)(Ae.a.Footer,{className:"hunter-modal-footer",children:Object(p.jsx)(b.a,{variant:"primary",onClick:le,children:"Create Link"})})]}),Object(p.jsxs)(Ae.a,{show:o,className:"hunter-modal",onHide:ue,children:[Object(p.jsx)(Ae.a.Header,{closeButton:!0,children:Object(p.jsx)(Ae.a.Title,{children:"Send the link"})}),Object(p.jsx)(Ae.a.Body,{children:Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control hunter-form-control",placeholder:"Email",value:J,onChange:function(e){!function(e){W(e.target.value)}(e)}})})}),Object(p.jsx)(Ae.a.Footer,{className:"hunter-modal-footer",children:Object(p.jsxs)(b.a,{variant:"primary",onClick:de,className:"hunter-flex-button",children:[G&&Object(p.jsx)("span",{className:"spinner-border spinner-border-sm hunter-spinner-button",role:"status","aria-hidden":"true"}),"Send"]})})]}),Object(p.jsxs)("div",{className:"main-panel ".concat(_?"":"full-width"),ref:F,data:t,children:[Object(p.jsx)(Ee,{brandText:ne(T.pathname),toggleSidebar:te,sidebarOpened:P}),Object(p.jsxs)("div",{className:"hunter-page-container",children:[Object(p.jsx)("div",{className:"hunter-page-title",children:Object(p.jsx)("h3",{children:"Link Manage"})}),Object(p.jsxs)("div",{className:"col-sm-6 hunter-mdb-table-container",children:[Object(p.jsx)("div",{className:"create-button-bar",children:Object(p.jsx)(Me.b,{color:"blue",size:"md",onClick:se,children:"Create"})}),Object(p.jsxs)(Me.h,{btn:!0,children:[Object(p.jsx)(Me.j,{columns:be,color:"dark"}),Object(p.jsx)(Me.i,{rows:fe,className:"hunter-mdb-table-body"})]})]})]})]})]})})}})},yt=function(){var e=fe(),t=Object(u.g)(),n=s.a.useState(!1),r=Object(d.a)(n,1)[0],i=s.a.useState({value:"GOOG",label:"GOOG"}),l=Object(d.a)(i,2),h=l[0],j=l[1],f=Object(c.useState)({value:"1m",label:"1m"}),m=Object(d.a)(f,2),v=m[0],O=m[1],g=Object(c.useState)("2021-01-01"),x=Object(d.a)(g,2),y=x[0],N=x[1],C=Object(c.useState)(Ie()),_=Object(d.a)(C,2),I=_[0],T=_[1],F=Object(c.useState)([]),D=Object(d.a)(F,2),E=D[0],P=D[1],A=Object(c.useState)([{value:"1m",label:"1m"},{value:"1h",label:"1h"},{value:"1d",label:"1d"}]),M=Object(d.a)(A,1)[0],L=Object(c.useState)({value:"stock",label:"stock"}),B=Object(d.a)(L,2),R=B[0],H=(B[1],Object(c.useMemo)((function(){return[{label:"O",field:"o",width:200,attributes:{"aria-controls":"DataTable","aria-label":"symbol"}},{label:"H",field:"h",width:200},{label:"C",field:"c",width:200},{label:"L",field:"l",width:200},{label:"V",field:"v",width:200},{label:"Date",field:"date",sort:"price"}]}),[])),Y=s.a.useState({columns:H,rows:[]}),z=Object(d.a)(Y,2),U=z[0],V=z[1];Object(c.useEffect)((function(){var e=function(){var e=Object(k.a)(S.a.mark((function e(t,a,n,r){var c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le(R.value,t,a,n,r);case 2:c=e.sent,V({columns:H,rows:c});case 4:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}();e(h.value,v.value,y,I)}),[R,h,v,H,y,I]),Object(c.useEffect)((function(){var e=function(){var e=Object(k.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re();case 2:t=e.sent,P(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[P]);return Object(p.jsxs)("div",{className:"hunter-chart-container",children:[Object(p.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark hunter-nav-bar",children:[Object(p.jsx)("div",{className:"logo-title",children:Object(p.jsx)("a",{href:"/chart",className:"hunter-navbar-brand",children:"Violette AM - Client Portal"})}),Object(p.jsx)("div",{className:"navbar-nav mr-auto",children:Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(o.b,{to:"/chart",className:"nav-link"})})}),Object(p.jsx)(b.d,{navbar:!0,isOpen:r,children:Object(p.jsxs)(b.l,{className:"ml-auto",navbar:!0,children:[Object(p.jsxs)(b.o,{nav:!0,children:[Object(p.jsxs)(b.h,{caret:!0,color:"default",nav:!0,onClick:function(e){return e.preventDefault()},children:[Object(p.jsx)("div",{className:"photo",children:Object(p.jsx)("img",{alt:"...",src:a(90).default})}),Object(p.jsx)("p",{className:"d-lg-none",children:"Log out"})]}),Object(p.jsxs)(b.g,{className:"dropdown-navbar",right:!0,tag:"ul",children:[Object(p.jsx)(b.f,{divider:!0,tag:"li"}),Object(p.jsx)(b.m,{tag:"li",children:Object(p.jsx)(b.f,{className:"nav-item",onClick:function(){e.signout(),t.push("/login")},children:"Log out"})})]})]}),Object(p.jsx)("li",{className:"separator d-lg-none"})]})})]}),Object(p.jsxs)("div",{className:"col-sm-12 hunter-data-table-container",children:[Object(p.jsx)("div",{className:"hunter-data-table-title",children:"Price Data Table"}),Object(p.jsxs)("div",{className:"hunter-search-filter-area",children:[Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{value:h,onChange:function(e){j(e)},options:E,placeholder:"Symbol"})}),Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{value:v,onChange:function(e){O(e)},options:M,placeholder:"Time Frame"})}),Object(p.jsx)("div",{className:"input-group date hunter-date-time-picker",id:"datetimepicker1",children:Object(p.jsx)(we,{selectDateRange:function(e,t){N(e),T(t)}})})]}),Object(p.jsx)(Me.c,{hover:!0,maxHeight:"500px",entriesOptions:[10,25,50,100],entries:10,pagesAmount:4,data:U,dark:!0,noBottomColumns:!0,small:!0,striped:!0,scrollY:!0}),";"]})]})};var St=function(){var e=s.a.useState(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],r=s.a.useState("trade_data"),c=Object(d.a)(r,2),i=c[0],l=c[1],o=function(){n(!a)},u=function(e){l(e)};return Object(p.jsx)(f.Consumer,{children:function(e){e.color;return Object(p.jsx)(s.a.Fragment,{children:Object(p.jsxs)("div",{className:"wrapper hunter-wrapper",children:[!a&&Object(p.jsx)(b.a,{className:"show-sidebar-toggle-area show-sidebar-icon",onClick:o,children:Object(p.jsx)("i",{className:"tim-icons icon-align-left-2"})}),a&&Object(p.jsx)(O,{isAdminPage:!1,routes:g,subInstance:"pricedatatable",selectedInstance:i,handleSidebarChange:o,handleInstanceChange:u}),Object(p.jsx)("div",{className:"col-sm-12",children:Object(p.jsx)(yt,{})})]})})}})},kt=function(){var e=fe(),t=Object(u.g)(),n=s.a.useState(!1),r=Object(d.a)(n,1)[0],i=s.a.useState([]),l=Object(d.a)(i,2),h=l[0],j=l[1],f=Object(c.useState)(),m=Object(d.a)(f,2),v=m[0],O=m[1],g=Object(c.useState)(),x=Object(d.a)(g,2),y=x[0],N=x[1],C=Object(c.useState)("2021-01-01"),_=Object(d.a)(C,2),I=_[0],T=_[1],F=Object(c.useState)(Ie()),D=Object(d.a)(F,2),E=D[0],P=D[1],A=Object(c.useState)([]),M=Object(d.a)(A,2),L=M[0],B=M[1],R=Object(c.useState)([]),H=Object(d.a)(R,2),Y=H[0],z=H[1],U=Object(c.useState)([]),V=Object(d.a)(U,2),K=(V[0],V[1],Object(c.useState)([])),J=Object(d.a)(K,2),W=J[0],X=J[1],q=Object(c.useState)([]),G=Object(d.a)(q,2),Q=G[0],Z=G[1],$=Object(c.useState)({value:"stock",label:"stock"}),ee=Object(d.a)($,2),te=ee[0],ae=(ee[1],Object(c.useMemo)((function(){return[{label:"Symbol",field:"symbol",width:150,attributes:{"aria-controls":"DataTable","aria-label":"symbol"}},{label:"Strategy",field:"strategy",width:200},{label:"Trade Date",field:"date",sort:"date",width:150},{label:"Side",field:"side",width:270},{label:"Quantity",field:"quantity",sort:"quantity",width:100},{label:"Price",field:"price",sort:"price",width:100}]}),[])),ne=s.a.useState({columns:ae,rows:[]}),re=Object(d.a)(ne,2),ce=re[0],se=re[1],ie=Object(c.useCallback)((function(){fetch("http://3c20-23-237-32-34.ngrok.io/api/get_strategy_list").then((function(e){return e.json()})).then((function(e){var t=e.result.map((function(e){return{value:e.macro,label:e.macro}}));z(t),e.result.length&&(B(e.result),e.result.forEach((function(e){if("heikfilter"===e.macro){var t=e.micro.map((function(e){return{value:e,label:e}}));X(t),N(t[0]);var a=e.symbols.map((function(e){return{value:e,label:e}}));Z(a)}})))}))}),[]);Object(c.useEffect)((function(){ie()}),[ie]),Object(c.useEffect)((function(){var e=function(){var e=Object(k.a)(S.a.mark((function e(t,a,n,r,c){var s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be(te.value,t,a,n,r,c);case 2:s=e.sent,se({columns:ae,rows:s});case 4:case"end":return e.stop()}}),e)})));return function(t,a,n,r,c){return e.apply(this,arguments)}}();e(h?h.value:"",v?v.value:"",y?y.value:"",I,E)}),[te,h,v,y,ae,I,E]),Object(c.useEffect)((function(){var e=function(){var e=Object(k.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re();case 2:t=e.sent,Z(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[Z]);return Object(p.jsxs)("div",{className:"hunter-chart-container",children:[Object(p.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark hunter-nav-bar",children:[Object(p.jsx)("div",{className:"logo-title",children:Object(p.jsx)("a",{href:"/chart",className:"hunter-navbar-brand",children:"Violette AM - Client Portal"})}),Object(p.jsx)("div",{className:"navbar-nav mr-auto",children:Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(o.b,{to:"/chart",className:"nav-link"})})}),Object(p.jsx)(b.d,{navbar:!0,isOpen:r,children:Object(p.jsxs)(b.l,{className:"ml-auto",navbar:!0,children:[Object(p.jsxs)(b.o,{nav:!0,children:[Object(p.jsxs)(b.h,{caret:!0,color:"default",nav:!0,onClick:function(e){return e.preventDefault()},children:[Object(p.jsx)("div",{className:"photo",children:Object(p.jsx)("img",{alt:"...",src:a(90).default})}),Object(p.jsx)("p",{className:"d-lg-none",children:"Log out"})]}),Object(p.jsxs)(b.g,{className:"dropdown-navbar",right:!0,tag:"ul",children:[Object(p.jsx)(b.f,{divider:!0,tag:"li"}),Object(p.jsx)(b.m,{tag:"li",children:Object(p.jsx)(b.f,{className:"nav-item",onClick:function(){e.signout(),t.push("/login")},children:"Log out"})})]})]}),Object(p.jsx)("li",{className:"separator d-lg-none"})]})})]}),Object(p.jsxs)("div",{className:"col-sm-12 hunter-data-table-container",children:[Object(p.jsx)("div",{className:"hunter-data-table-title",children:"Trade Data Table"}),Object(p.jsxs)("div",{className:"hunter-search-filter-area",children:[Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{value:h,onChange:function(e){j(e)},options:Q,placeholder:"Symbol"})}),Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{value:v,onChange:function(e){e&&(L.length&&L.forEach((function(t){if(t.macro===e.value){var a=t.micro.map((function(e){return{value:e,label:e}}));X(a),N(a[0]);var n=t.symbols.map((function(e){return{value:e,label:e}}));Z(n)}})),O(e))},options:Y,placeholder:"Macro Strategy"})}),Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{value:y,onChange:function(e){N(e)},options:W,placeholder:"Micro Strategy"})}),Object(p.jsx)("div",{className:"input-group date hunter-date-time-picker",id:"datetimepicker1",children:Object(p.jsx)(we,{selectDateRange:function(e,t){T(e),P(t)}})})]}),Object(p.jsx)(Me.c,{hover:!0,maxHeight:"500px",entriesOptions:[10,25,50,100],entries:10,pagesAmount:4,data:ce,dark:!0,noBottomColumns:!0,small:!0,striped:!0,scrollY:!0}),";"]})]})};var wt=function(){var e=s.a.useState(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],r=s.a.useState("trade_data"),c=Object(d.a)(r,2),i=c[0],l=c[1],o=function(){n(!a)},u=function(e){l(e)};return Object(p.jsx)(f.Consumer,{children:function(e){e.color;return Object(p.jsx)(s.a.Fragment,{children:Object(p.jsxs)("div",{className:"wrapper hunter-wrapper",children:[!a&&Object(p.jsx)(b.a,{className:"show-sidebar-toggle-area show-sidebar-icon",onClick:o,children:Object(p.jsx)("i",{className:"tim-icons icon-align-left-2"})}),a&&Object(p.jsx)(O,{isAdminPage:!1,routes:g,subInstance:"tradedatatable",selectedInstance:i,handleSidebarChange:o,handleInstanceChange:u}),Object(p.jsx)("div",{className:"col-sm-12",children:Object(p.jsx)(kt,{})})]})})}})},Nt=function(e){var t=e.symbol,a=e.macroStrategy,n=e.microStrategy,r=(fe(),Object(u.g)(),s.a.useState(!1)),i=(Object(d.a)(r,1)[0],Object(c.useState)("2021-01-01")),l=Object(d.a)(i,2),o=l[0],b=l[1],h=Object(c.useState)(Ie()),j=Object(d.a)(h,2),f=j[0],m=j[1],v=Object(c.useMemo)((function(){return[{label:"Symbol",field:"symbol",width:150,attributes:{"aria-controls":"DataTable","aria-label":"symbol"}},{label:"Strategy",field:"strategy",width:200},{label:"Trade Date",field:"date",sort:"date",width:150},{label:"Side",field:"side",width:270},{label:"Quantity",field:"quantity",sort:"quantity",width:100},{label:"Price",field:"price",sort:"price",width:100}]}),[]),O=s.a.useState({columns:v,rows:[]}),g=Object(d.a)(O,2),x=g[0],y=g[1];Object(c.useEffect)((function(){var e=function(){var e=Object(k.a)(S.a.mark((function e(t,a,n,r,c){var s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be(t,a,n,r,c);case 2:s=e.sent,y({columns:v,rows:s});case 4:case"end":return e.stop()}}),e)})));return function(t,a,n,r,c){return e.apply(this,arguments)}}();e(t?t.value:"",a?a.value:"",n?n.value:"",o,f)}),[t,a,n,v,o,f]);return Object(p.jsx)("div",{className:"hunter-chart-container",children:Object(p.jsxs)("div",{className:"col-sm-12 hunter-data-table-container",children:[Object(p.jsx)("div",{className:"hunter-data-table-title",children:"Trade Data Table"}),Object(p.jsx)("div",{className:"hunter-search-filter-area",children:Object(p.jsx)("div",{className:"date hunter-item-chart hunter-date-time-picker mb-3",id:"datetimepicker1",children:Object(p.jsx)(we,{selectDateRange:function(e,t){b(e),m(t)}})})}),Object(p.jsx)(Me.c,{hover:!0,maxHeight:"500px",entriesOptions:[10,25,50,100],entries:10,pagesAmount:4,data:x,dark:!0,noBottomColumns:!0,small:!0,striped:!0,scrollY:!0}),";"]})})},Ct=function(e){var t,n=fe(),r=e.selectedInstance,i=Object(u.g)(),l=Object(c.useState)({value:"MSFT",label:"MSFT"}),h=Object(d.a)(l,2),j=h[0],f=h[1],m=Object(c.useState)([]),v=Object(d.a)(m,2),O=v[0],g=v[1],x=Object(c.useState)(!0),y=Object(d.a)(x,2),N=y[0],C=y[1],_=Object(c.useState)([]),I=Object(d.a)(_,2),T=I[0],F=I[1],D=Object(c.useState)(!1),E=Object(d.a)(D,1)[0],P=s.a.useState(!1),A=Object(d.a)(P,1)[0],M=Object(c.useState)({value:"charting",label:"Charting"}),L=Object(d.a)(M,2),B=(L[0],L[1],Object(c.useState)({value:"2m",label:"2m"})),R=Object(d.a)(B,2),H=R[0],Y=R[1],z=Object(c.useState)({value:"heikfilter",label:"heikfilter"}),U=Object(d.a)(z,2),V=U[0],K=U[1],J=Object(c.useState)([]),W=Object(d.a)(J,2),X=W[0],q=W[1],G=Object(c.useState)(JSON.parse(localStorage.getItem("user-info"))),Q=Object(d.a)(G,1)[0],Z=Object(c.useState)({value:"markettime",label:"market time"}),$=Object(d.a)(Z,2),ee=$[0],te=($[1],Object(c.useState)([{value:"charting",label:"Charting"},{value:"performance",label:"Performance"}])),ae=Object(d.a)(te,2),ne=(ae[0],ae[1]),re=Object(c.useState)([]),ce=Object(d.a)(re,2),se=ce[0],ie=ce[1],le=Object(c.useState)([]),oe=Object(d.a)(le,2),ue=oe[0],de=oe[1],he=Object(c.useState)([{value:"VOLUME",label:"VOLUME"},{value:"RSI",label:"RSI"},{value:"RSI2",label:"RSI2"},{value:"RSI3",label:"RSI3"},{value:"HEIK1",label:"HEIK1"},{value:"HEIK2",label:"HEIK2"}]),je=Object(d.a)(he,2),pe=je[0],me=(je[1],Object(c.useState)([{value:"markettime",label:"market time"},{value:"extend_markettime",label:"extend market time"}])),Oe=Object(d.a)(me,2),ge=(Oe[0],Oe[1],Object(c.useCallback)((function(){fetch("http://3c20-23-237-32-34.ngrok.io/api/get_strategy_list").then((function(e){return e.json()})).then((function(e){q(e.result);var t=e.result.map((function(e){return{value:e.macro,label:e.macro}}));de(t),e.result.length&&e.result.forEach((function(e){if("heikfilter"===e.macro){var t=e.micro.map((function(e){return{value:e,label:e}}));ie(t);var a=e.symbols.map((function(e){return{value:e,label:e}}));F(a)}}))}))}),[])),xe=Object(c.useCallback)((function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({strategy:e})};fetch("http://3c20-23-237-32-34.ngrok.io/api/tables",t).then((function(e){return e.json()})).then((function(e){var t=[];e.tables.map((function(e){return t.push({value:e,label:e}),null})),F(t),f(t[0])}))}),[]);Object(c.useEffect)((function(){return ve.a.on(),(Q.is_admin||(null===Q||void 0===Q?void 0:Q.role.length))&&(E||ge()),function(){ve.a.off()}}),[ge,E,Q]),Object(c.useEffect)((function(){(Q.is_admin||(null===Q||void 0===Q?void 0:Q.role.length))&&(!function(e){if("live_trading"===e)return C(!1),K({value:"no_strategy",label:"No Strategy"}),void de([{value:"no_strategy",label:"No Srategy"}]);ge(),C(!0)}(r),"live_trading"===r&&xe("no_strategy"),ne("optimization"===r?[{value:"optimization ",label:"Optimization"}]:[{value:"charting",label:"Charting"},{value:"performance",label:"Performance"}]))}),[r,ge,xe,Q.is_admin,null===(t=Q.role)||void 0===t?void 0:t.length]);var ye=function(){var e=Object(k.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(X.length&&X.forEach((function(e){if(e.macro===t.value){var a=e.micro.map((function(e){return{value:e,label:e}}));ie(a);a.filter((function(e){return"2m"===e.value}));Y(a[0]);var n=e.symbols.map((function(e){return{value:e,label:e}}));F(n),f({value:"MSFT",label:"MSFT"})}})),K(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"hunter-chart-container",children:[Object(p.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark hunter-nav-bar",children:[Object(p.jsx)("div",{className:"logo-title",children:Object(p.jsx)("a",{href:"/chart",className:"hunter-navbar-brand",children:"Violette AM - Client Portal"})}),Object(p.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(o.b,{to:"/chart",className:"nav-link"})}),Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{value:V,onChange:ye,options:ue,placeholder:"Macro Strategy"})}),N&&Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{value:H,onChange:function(e){e&&Y(e)},options:se,placeholder:"Micro Strategy"})}),Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{value:j,onChange:function(e){e&&f(e)},options:T,placeholder:"Symbol"})}),Object(p.jsx)("div",{className:"select-multi-option",children:Object(p.jsx)(w.a,{name:"filters",placeholder:"Indicators",value:O,onChange:function(e){g(e)},options:pe,isMulti:!0})})]}),Object(p.jsx)(b.d,{navbar:!0,isOpen:A,children:Object(p.jsxs)(b.l,{className:"ml-auto",navbar:!0,children:[Object(p.jsxs)(b.o,{children:[Object(p.jsxs)(b.h,{caret:!0,color:"default",nav:!0,onClick:function(e){return e.preventDefault()},children:[Object(p.jsx)("div",{className:"photo",children:Object(p.jsx)("img",{alt:"...",src:a(90).default})}),Object(p.jsx)("p",{className:"d-lg-none",children:"Log out"})]}),Object(p.jsxs)(b.g,{className:"dropdown-navbar",right:!0,tag:"ul",children:[Object(p.jsx)(b.f,{divider:!0,tag:"li"}),Object(p.jsx)(b.m,{tag:"li",children:Object(p.jsx)(b.f,{className:"nav-item",onClick:function(){n.signout(),i.push("/login")},children:"Log out"})})]})]}),Object(p.jsx)("li",{className:"separator d-lg-none"})]})})]}),Object(p.jsxs)("div",{className:"display-flex-j-c",children:[Object(p.jsx)("div",{className:"graphs-container half-width dark",children:Object(p.jsxs)("div",{className:"row full-height",children:[Object(p.jsx)("div",{className:"col-sm-12 col-md-".concat(12," graph-container"),children:H&&j&&Object(p.jsx)(be,{extendMarketTime:ee.value,selectedInstance:r,selectedTradeDB:"heikfilter-2mins-trades",chartPeriod:"20D 2min",symbol:j.value,indicators:O,strategy:V,isHomePage:!0,chartColumn:1,microStrategy:H.value,startDate:null,endDate:null})}),Object(p.jsx)("div",{className:"col-sm-12 col-md-".concat(12," graph-container"),children:H&&j&&Object(p.jsx)(be,{extendMarketTime:ee.value,selectedInstance:r,selectedTradeDB:"heikfilter-12mins-trades",chartPeriod:"20D 12min",symbol:j.value,indicators:O,strategy:V,isHomePage:!0,chartColumn:1,microStrategy:H.value,startDate:null,endDate:null})}),Object(p.jsx)("div",{className:"col-sm-12 col-md-".concat(12," graph-container"),children:H&&j&&Object(p.jsx)(be,{extendMarketTime:ee.value,selectedInstance:r,selectedTradeDB:"heikfilter-1hour-trades",chartPeriod:"30D 1hour",symbol:j.value,indicators:O,strategy:V,isHomePage:!0,chartColumn:1,microStrategy:H.value,startDate:null,endDate:null})}),Object(p.jsx)("div",{className:"col-sm-12 col-md-".concat(12," graph-container"),children:H&&j&&Object(p.jsx)(be,{extendMarketTime:ee.value,selectedInstance:r,selectedTradeDB:"heikfilter-4hours-trades",chartPeriod:"90D 4hour",symbol:j.value,indicators:O,strategy:V,isHomePage:!0,chartColumn:1,microStrategy:H.value,startDate:null,endDate:null})}),Object(p.jsx)("div",{className:"col-sm-12 col-md-".concat(12," graph-container"),children:H&&j&&Object(p.jsx)(be,{extendMarketTime:ee.value,selectedInstance:r,selectedTradeDB:"heikfilter-12hours-trades",chartPeriod:"90D 12hour",symbol:j.value,indicators:O,strategy:V,isHomePage:!0,chartColumn:1,microStrategy:H.value,startDate:null,endDate:null})}),Object(p.jsx)("div",{className:"col-sm-12 col-md-".concat(12," graph-container"),children:H&&j&&Object(p.jsx)(be,{extendMarketTime:ee.value,selectedInstance:r,selectedTradeDB:"heikfilter-1day-trades",chartPeriod:"1Y 1day",symbol:j.value,indicators:O,strategy:V,isHomePage:!0,chartColumn:1,microStrategy:H.value,startDate:null,endDate:null})})]})}),Object(p.jsx)("div",{className:"half-width dark",children:Object(p.jsx)(Nt,{symbol:j,macroStrategy:V,microStrategy:H})})]})]})},_t=function(){var e=s.a.useState(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],r=s.a.useState("hybrid_view"),c=Object(d.a)(r,2),i=c[0],l=c[1],o=function(){n(!a)},u=function(e){l(e)};return Object(p.jsx)(f.Consumer,{children:function(e){e.color;return Object(p.jsx)(s.a.Fragment,{children:Object(p.jsxs)("div",{className:"wrapper hunter-wrapper",children:[!a&&Object(p.jsx)(b.a,{className:"show-sidebar-toggle-area show-sidebar-icon",onClick:o,children:Object(p.jsx)("i",{className:"tim-icons icon-align-left-2"})}),a&&Object(p.jsx)(O,{isAdminPage:!1,routes:g,subInstance:"tradedatatable",selectedInstance:i,handleSidebarChange:o,handleInstanceChange:u}),Object(p.jsx)("div",{className:"col-sm-12",children:Object(p.jsx)(Ct,{selectedInstance:i})})]})})}})},It=(a(672),function(e){var t=e.selectedHeaderNav,a=e.setSelectedHeaderNav,n=e.symbol,r=e.setSymbol,c=e.optionsSymbol,s=function(e){a(e)};return Object(p.jsx)("div",{className:"container custom-container",children:Object(p.jsx)("div",{className:"row dashboard-toolbar d-block",children:Object(p.jsxs)("div",{className:"dashboard-toolbar-title d-flex",children:[Object(p.jsx)("div",{className:"financial-dashboard-title",children:Object(p.jsx)("span",{children:"Dashboard"})}),Object(p.jsxs)("div",{className:"financial-dashboard-toolbar d-flex",children:[Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{value:n,onChange:function(e){r(e)},options:c,placeholder:"Symbol"})}),Object(p.jsx)("div",{className:"dashboard-navbar",children:Object(p.jsxs)("ul",{className:"nav justify-content-center",children:[Object(p.jsxs)("li",{className:"nav-item ".concat("News"==t?"selected":""),onClick:function(){return s("News")},children:[Object(p.jsx)("i",{className:"fas fa-inbox"}),Object(p.jsx)("span",{children:"News"})]}),Object(p.jsxs)("li",{className:"nav-item ".concat("Data Table"==t?"selected":""),onClick:function(){return s("Data Table")},children:[Object(p.jsx)("i",{className:"fas fa-image"}),Object(p.jsx)("span",{children:"Data Table"})]}),Object(p.jsxs)("li",{className:"nav-item ".concat("Chart"==t?"selected":""),onClick:function(){return s("Chart")},children:[Object(p.jsx)("i",{className:"fas fa-chart-bar"}),Object(p.jsx)("span",{children:"Chart"})]})]})})]})]})})})});function Tt(e,t){var a=this;return function(n){Object(K.isNotDefined)(a.interactiveNodes)&&(a.interactiveNodes={});var c="".concat(e,"_").concat(t);(Object(K.isDefined)(n)||Object(K.isDefined)(a.interactiveNodes[c]))&&(a.interactiveNodes=Object(r.a)(Object(r.a)({},a.interactiveNodes),{},Object(J.a)({},c,{type:e,chartId:t,node:n})))}}function Ft(){return this.interactiveNodes}var Dt=function(e){Object(I.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(N.a)(this,a),(n=t.call(this,e)).onKeyPress=n.onKeyPress.bind(Object(_.a)(n)),n.onDrawComplete=n.onDrawComplete.bind(Object(_.a)(n)),n.saveInteractiveNode=n.saveInteractiveNode.bind(Object(_.a)(n)),n.saveCanvasNode=n.saveCanvasNode.bind(Object(_.a)(n)),n.handleSelection=n.handleSelection.bind(Object(_.a)(n)),n.saveInteractiveNodes=Tt.bind(Object(_.a)(n)),n.getInteractiveNodes=Ft.bind(Object(_.a)(n)),n.state={enableInteractiveObject:!0,channels_1:[],channels_3:[]},n}return Object(C.a)(a,[{key:"saveInteractiveNode",value:function(e){this.node=e}},{key:"saveCanvasNode",value:function(e){this.canvasNode=e}},{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.onKeyPress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.onKeyPress)}},{key:"handleSelection",value:function(e){var t=Object(K.toObject)(e,(function(e){return["channels_".concat(e.chartId),e.objects]}));this.setState(t)}},{key:"onDrawComplete",value:function(e){this.setState({enableInteractiveObject:!1,channels_1:e})}},{key:"onKeyPress",value:function(e){var t=e.which;switch(console.log(t),t){case 46:var a=this.state.channels_1.filter((function(e){return!e.selected})),n=this.state.channels_3.filter((function(e){return!e.selected}));this.canvasNode.cancelDrag(),this.setState({channels_1:a,channels_3:n});break;case 27:this.node.terminate(),this.canvasNode.cancelDrag(),this.setState({enableInteractiveObject:!1});break;case 68:case 69:this.setState({enableInteractiveObject:!0})}}},{key:"render",value:function(){var e=Object(z.ema)().id(0).options({windowSize:26}).merge((function(e,t){e.ema26=t})).accessor((function(e){return e.ema26})),t=Object(z.ema)().id(1).options({windowSize:12}).merge((function(e,t){e.ema12=t})).accessor((function(e){return e.ema12})),a=Object(z.macd)().options({fast:12,slow:26,signal:9}).merge((function(e,t){e.macd=t})).accessor((function(e){return e.macd})),n=this.props,r=n.type,c=n.data,s=n.width,i=n.ratio;c.dataPoints.forEach((function(e){e.date=P()(e.calendarDate).toDate()}));var l=this.state,o=(l.channels_1,l.channels_3,a(t(e(c.dataPoints)))),u=H.discontinuousTimeScaleProvider.inputDateAccessor((function(e){return e.date}))(o),d=u.data,b=u.xScale,h=u.xAccessor,j=u.displayXAccessor,f=[h(Object(K.last)(d)),h(d[Math.max(0,d.length-150)])];return Object(p.jsxs)(M.b,{ref:this.saveCanvasNode,height:380,width:s,ratio:i,margin:{left:70,right:70,top:20,bottom:30},type:r,seriesName:"MSFT",data:d,xScale:b,xAccessor:h,displayXAccessor:j,xExtents:f,children:[Object(p.jsxs)(M.a,{id:3,height:250,yExtents:[function(e){return e.value}],origin:function(e,t){return[0,t-300]},children:[Object(p.jsx)(B.XAxis,{axisAt:"bottom",orient:"bottom"}),Object(p.jsx)(B.YAxis,{axisAt:"left",orient:"left",ticks:5,tickFormat:Object(D.b)(".2s")}),Object(p.jsx)(R.MouseCoordinateX,{at:"bottom",orient:"bottom",displayFormat:Object(A.a)("%Y-%m-%d")}),Object(p.jsx)(R.MouseCoordinateY,{at:"left",orient:"left",displayFormat:Object(D.b)(".4s")}),Object(p.jsx)(L.BarSeries,{yAccessor:function(e){return e.value},fill:function(e){return c.color},baseAt:function(e,t,a){return t(0)}})]}),Object(p.jsx)(R.CrossHairCursor,{}),Object(p.jsx)(V.DrawingObjectSelector,{enabled:!this.state.enableInteractiveObject,getInteractiveNodes:this.getInteractiveNodes,drawingObjectMap:{EquidistantChannel:"channels"},onSelect:this.handleSelection})]})}}]),a}(s.a.Component);Dt.defaultProps={type:"svg"};var Et=Dt=Object(U.fitWidth)(Dt),Pt=function(e){var t=e.aggregationTypeForOne,a=e.setAggregrationTypeForOne,n=e.color,r=function(e){a(t===e?"":e)};return Object(p.jsx)("div",{className:"dashboard-chart-tool",children:Object(p.jsxs)("ul",{className:"nav justify-content-center",children:[Object(p.jsx)("li",{className:"nav-item",style:"YA"===t?{backgroundColor:n,color:"white"}:{},onClick:function(){return r("YA")},children:Object(p.jsx)("span",{children:"A"})}),Object(p.jsx)("li",{className:"nav-item",style:"QA"===t?{backgroundColor:n,color:"white"}:{},onClick:function(){return r("QA")},children:Object(p.jsx)("span",{children:"Q"})}),Object(p.jsx)("li",{className:"nav-item",style:"TA"===t?{backgroundColor:n,color:"white"}:{},onClick:function(){return r("TA")},children:Object(p.jsx)("span",{children:"T"})})]})})},At=function(e){var t=e.data,a=e.chartData,n=e.globalAggregationType,s=Object(c.useState)(),i=Object(d.a)(s,2),l=i[0],o=i[1],u=Object(c.useState)(),b=Object(d.a)(u,2),h=b[0],j=b[1],f=function(e){if(e){var t=Object(r.a)({},e),a=t.dataPoints.filter((function(e){return""===l||e.period===l}));return t.dataPoints=a,t}return e};return Object(c.useEffect)((function(){o(n);var e=f(t);j(e)}),[n]),Object(c.useEffect)((function(){var e=f(t);j(e)}),[l]),Object(p.jsx)(p.Fragment,{children:h&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"chart-toolbar",children:[Object(p.jsx)("div",{className:"chart-toolbar-select",children:Object(p.jsx)("select",{className:"browser-default custom-select",style:{borderColor:h.color,boxShadow:"unset"},onChange:function(e){var t=a.filter((function(t){return t.label===e.target.value})),n=f(t[0]);j(n)},children:[["Revenue","Cost of Revenue","Gross Profit","Ebit","Net Income","Earnings per Basic Share"],["Total Assets","Total Liabilities","Total Debt [USD]","Receivables","Payables","Cash & Cash Equivalents [USD]"],["Net Cash Flow from Operations","Net Cash Flow from Investing","Net Cash Flow from Financing","Issue/Repayment of Debt Securities","Issuance/Purchase of Equity Shares","Payment of Dividends & Other Cash Distributions"]][h.group].map((function(e,t){return Object(p.jsx)("option",{val:e,selected:e===h.label,children:e},t)}))})}),Object(p.jsx)(Pt,{aggregationTypeForOne:l,setAggregrationTypeForOne:o,color:h.color})]}),Object(p.jsxs)("div",{className:"chart-title-area",children:[Object(p.jsx)("div",{style:{backgroundColor:h.color}}),Object(p.jsx)("span",{children:h.label})]}),h.dataPoints.length>0?Object(p.jsx)(Et,{type:"svg",data:h}):Object(p.jsx)("div",{className:"no-data",children:"No data..."})]})})},Mt=function(e){var t=e.selectedAggregationType,a=e.setSelectedAggregationType,n=function(e){a(t===e?"":e)};return Object(p.jsx)("div",{className:"dashboard-graph-types",children:Object(p.jsxs)("ul",{className:"nav justify-content-center",children:[Object(p.jsx)("li",{className:"nav-item ".concat("YA"===t?"selected":""),onClick:function(){return n("YA")},children:Object(p.jsx)("span",{children:"ANN"})}),Object(p.jsx)("li",{className:"nav-item ".concat("QA"===t?"selected":""),onClick:function(){return n("QA")},children:Object(p.jsx)("span",{children:"QTR"})}),Object(p.jsx)("li",{className:"nav-item ".concat("TA"===t?"selected":""),onClick:function(){return n("TA")},children:Object(p.jsx)("span",{children:"TTM"})})]})})},Lt=function(e){var t=e.selectedStockType,a=e.setSelectedStockType,n=e.selectedHeaderNav,r=function(e){a("Chart"===n?e:t===e?"":e)};return Object(p.jsx)("div",{className:"dashboard-graph-types",children:Object(p.jsxs)("ul",{className:"nav justify-content-center",children:[Object(p.jsx)("li",{className:"nav-item ".concat("Income Statement"===t?"selected":""),onClick:function(){return r("Income Statement")},children:Object(p.jsx)("span",{children:"Income Statement"})}),Object(p.jsx)("li",{className:"nav-item ".concat("Balance Sheet"===t?"selected":""),onClick:function(){return r("Balance Sheet")},children:Object(p.jsx)("span",{children:"Balance Sheet"})}),Object(p.jsx)("li",{className:"nav-item ".concat("Cash Flow Statement"===t?"selected":""),onClick:function(){return r("Cash Flow Statement")},children:Object(p.jsx)("span",{children:"Cash Flow Statement"})})]})})},Bt=function(e){var t=e.data,a=e.selectedStockType,n=e.selectedAggregationType,r=Object(c.useState)(),s=Object(d.a)(r,2),i=s[0],l=s[1],o=Object(c.useState)(0),u=Object(d.a)(o,2),b=u[0],h=u[1];Object(c.useEffect)((function(){if(t){var e=[{label:"BreakDown",field:"BreakDown"},{label:"TTM",field:"TTM"}],r=[];t.map((function(t){if(""===n||n===t.period){var a=t.calendarDate;e.includes(a)||e.push({label:a,field:a}),Object.keys(t).map((function(e,n){n in r||(r[n]={}),r[n].BreakDown=e,r[n].TTM="1000000",r[n][a]=t[e]}))}})),l({columns:e,rows:r=""===a?[r,r,r]:[r]})}}),[t,n,a]);return Object(p.jsx)("div",{className:"hunter-chart-container",children:Object(p.jsx)("div",{className:"col-sm-12 hunter-data-table-container financial-data-table",children:i&&Object(p.jsxs)(Me.h,{hover:!0,dark:!0,maxHeight:"80vh",noBottomColumns:!0,striped:!0,scrollX:!0,scrollY:!0,paging:!1,children:[Object(p.jsx)(Me.j,{class:"financial-table-head",children:Object(p.jsx)("tr",{children:i.columns.map((function(e){return Object(p.jsxs)("th",{onClick:function(){return function(e){for(var t=0===b||2===b?1:2,a=i.rows,n=0;n<a.length;n++)1===t?a[n].sort((function(t,a){var n=t[e],r=a[e];return"string"!=typeof t[e]&&(n=n.toString()),"string"!=typeof a[e]&&(r=r.toString()),r.localeCompare(n)})):2===t&&a[n].sort((function(t,a){var n=t[e],r=a[e];return"string"!=typeof t[e]&&(n=n.toString()),"string"!=typeof a[e]&&(r=r.toString()),n.localeCompare(r)}));h(t),l({columns:i.columns,rows:a})}(e.label)},children:[e.label," ",Object(p.jsx)("span",{children:Object(p.jsx)("i",{className:"fa fa-sort"})})]},e.label)}))})}),3===i.rows.length?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Me.i,{class:"financial-table-body-1",rows:i.rows[0]}),Object(p.jsx)(Me.i,{rows:i.rows[1],class:"financial-table-body-2"}),Object(p.jsx)(Me.i,{rows:i.rows[2],class:"financial-table-body-3"})]}):Object(p.jsx)(Me.i,{rows:function(e){var t=[];return e.map((function(e){var a={};Object.keys(e).map((function(t){"TTM"===t||"string"!==typeof e[t]&&NaN!==parseInt(e[t])?a[t]=e[t].toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):a[t]=e[t]})),t.push(a)})),t}(i.rows[0]),class:"Income Statement"===a?"financial-table-body-1":"Balance Sheet"===a?"financial-table-body-2":"financial-table-body-3"})]})})})},Rt=a(60),Ht=function(e){var t=Object(c.useState)(0),a=Object(d.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(0),i=Object(d.a)(s,2),l=i[0],o=i[1],u=Object(c.useState)({columns:[{label:"Id",field:"id",width:100},{label:"Time",field:"time",width:300},{label:"Title",field:"title",width:300}],rows:[]}),h=Object(d.a)(u,2),j=h[0],f=h[1],m=e.data,v=(e.symbols,Object(c.useState)("no select")),O=Object(d.a)(v,2),g=O[0],x=O[1],y=Object(c.useState)(!1),S=Object(d.a)(y,2),k=S[0],w=S[1],N=Object(c.useState)({value:"GOOG",label:"GOOG"}),C=Object(d.a)(N,2),_=(C[0],C[1],Object(c.useState)([])),I=Object(d.a)(_,2),T=(I[0],I[1],m.columns.map((function(e,t){return 0===t?{label:e,field:e,width:100}:1===t?{label:e,field:e,width:300}:{label:e,field:e}})));Object(c.useEffect)((function(){if(m.rows.length){o(m.rows.length);var e=m.rows.slice(10*n,10);f({columns:T,rows:e.map((function(e,t){return{author:e.author,amp_url:e.amp_url,article_url:e.article_url,published_utc:e.published_utc,dataId:e.id,description:e.description,id:t,time:ne()(e.published_utc).format("YYYY-MM-DD h:mm:ss"),title:e.title,publisher:e.publisher}}))})}}),[m]);return Object(p.jsx)("div",{className:"hunter-chart-container",children:Object(p.jsxs)("div",{className:"col-sm-12 hunter-data-table-container financial-data-table mt-30 pt-100",children:[j&&Object(p.jsxs)(Me.h,{hover:!0,dark:!0,maxHeight:"80vh",noBottomColumns:!0,striped:!0,scrollX:!0,scrollY:!0,pagination:!0,children:[Object(p.jsx)(Me.j,{class:"financial-table-head",children:Object(p.jsx)("tr",{children:j.columns.map((function(e){return Object(p.jsx)("th",{children:e.label},e.label)}))})}),Object(p.jsx)(Me.i,{className:"financial-table-body-1",children:j.rows.map((function(e){return Object(p.jsxs)("tr",{onClick:function(){var t;t=e.dataId,w(!k),x(t)},children:[Object(p.jsx)("td",{className:"hunter-financial-table-column1",children:e.id},e.id),Object(p.jsx)("td",{className:"hunter-financial-table-column2",children:e.time},e.time),Object(p.jsxs)("td",{className:"hunter-financial-table-column3",children:[Object(p.jsx)("p",{children:e.title}),Object(p.jsx)(b.d,{isOpen:!1===k&&e.dataId===g,children:Object(p.jsx)(b.b,{children:Object(p.jsx)(b.c,{className:"hunter-card-body",children:Object(p.jsxs)("div",{className:"hunter-data-table-details-area",children:[Object(p.jsxs)("div",{className:"hunter-data-table-details-area-title",children:[ne()(e.date).format("YYYY-MM-DD h:mm:ss")," : ",e.title]}),Object(p.jsxs)("div",{className:"hunter-data-table-details-area-content",children:[Object(p.jsx)("p",{children:e.description}),Object(p.jsxs)("div",{className:"hunter-data-table-details-area-row",children:[Object(p.jsx)("div",{className:"hunter-data-table-details-area-key",children:"author:"})," ",e.author]}),Object(p.jsxs)("div",{className:"hunter-data-table-details-area-row",children:[Object(p.jsx)("div",{className:"hunter-data-table-details-area-key",children:"publisher:"})," ",e.publisher.name]}),Object(p.jsxs)("div",{className:"hunter-data-table-details-area-row",children:[Object(p.jsx)("div",{className:"hunter-data-table-details-area-key",children:"published_utc:"})," ",e.published_utc]}),Object(p.jsxs)("div",{className:"hunter-data-table-details-area-row",children:[Object(p.jsx)("div",{className:"hunter-data-table-details-area-key",children:"amp_url:"})," ",e.amp_url]}),Object(p.jsxs)("div",{className:"hunter-data-table-details-area-row",children:[Object(p.jsx)("div",{className:"hunter-data-table-details-area-key",children:"article_url:"})," ",e.article_url]})]})]})})})})]},e.title)]})}))})]}),Object(p.jsxs)(Rt.a,{children:[Object(p.jsx)(Rt.a.Item,{children:10*n}),Object(p.jsx)(Rt.a.Item,{children:10*n+9}),Object(p.jsx)(Rt.a.Item,{children:" of "}),Object(p.jsxs)(Rt.a.Item,{children:[" ",l," "]}),Object(p.jsx)(Rt.a.Prev,{disabled:n<=0,onClick:function(){!function(){var e=m.rows.slice(10*(n-1),10*n);f({columns:T,rows:e.map((function(e,t){return{author:e.author,amp_url:e.amp_url,article_url:e.article_url,published_utc:e.published_utc,dataId:e.id,description:e.description,id:10*(n-1)+t,time:ne()(e.published_utc).format("YYYY-MM-DD h:mm:ss"),title:e.title,publisher:e.publisher}}))}),r(n-1)}()}}),Object(p.jsx)(Rt.a.Next,{disabled:n+1>=l/10,onClick:function(){!function(){var e=m.rows.slice(10*(n+1),10*(n+2));f({columns:T,rows:e.map((function(e,t){return{author:e.author,amp_url:e.amp_url,article_url:e.article_url,published_utc:e.published_utc,dataId:e.id,description:e.description,id:10*(n+1)+t,time:ne()(e.published_utc).format("YYYY-MM-DD h:mm:ss"),title:e.title,publisher:e.publisher}}))}),r(n+1)}()}})]})]})})},Yt=function(){var e=Object(c.useState)({value:"AAPL",label:"AAPL"}),t=Object(d.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)([]),i=Object(d.a)(s,2),l=i[0],o=i[1],u=Object(c.useState)(!1),h=Object(d.a)(u,2),j=h[0],f=h[1],m=Object(c.useState)("financial_data"),v=Object(d.a)(m,2),x=v[0],y=v[1],w=Object(c.useState)("Chart"),N=Object(d.a)(w,2),C=N[0],_=N[1],I=Object(c.useState)("QA"),T=Object(d.a)(I,2),F=T[0],D=T[1],E=Object(c.useState)("Income Statement"),P=Object(d.a)(E,2),A=P[0],M=P[1],L=Object(c.useState)(null),B=Object(d.a)(L,2),R=B[0],H=B[1],Y=Object(c.useState)(),z=Object(d.a)(Y,2),U=z[0],V=z[1],K=Object(c.useState)(0),J=Object(d.a)(K,2),W=J[0],X=J[1],q=function(){f(!j)},G=Object(c.useState)({columns:["id","time","title"],rows:[]}),Q=Object(d.a)(G,2),Z=Q[0],$=Q[1],ee=function(e){var t=Object(r.a)({},e);return t.dataPoints.length>0&&t.dataPoints.sort((function(e,t){var a=e.calendarDate,n=t.calendarDate;return"string"!=typeof e.calendarDate&&(a=a.toString()),"string"!=typeof t.calendarDate&&(n=n.toString()),a.localeCompare(n)})),t};return Object(c.useEffect)((function(){ve.a.on();var e=function(){var e=Object(k.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re();case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e(),function(){ve.a.off()}}),[]),Object(c.useEffect)((function(){X(1),H();var e=function(){var e=Object(k.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st();case 2:t=e.sent,$({columns:["id","time","title"],rows:t.result});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(k.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut(a.value);case 2:t=e.sent,V(t.results),X(2);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(k.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut(a.value);case 2:t=e.sent,V(t.results),X(2);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=Object(k.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut(a.value);case 2:t=e.sent,V(t.results),X(2);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(k.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut(a.value);case 2:t=e.sent,V(t.results),X(2);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(k.a)(S.a.mark((function e(){var t,n,r,c,s,i,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it(a.value);case 2:t=e.sent,n={label:"Revenue",group:0,color:"rgb(25, 185, 154)",dataPoints:[]},r={label:"Cost of Revenue",group:0,color:"rgb(8, 64, 129)",dataPoints:[]},c={label:"Gross Profit",group:0,color:"rgb(127, 0, 0)",dataPoints:[]},s={label:"Ebit",group:0,color:"rgb(89, 201, 108)",dataPoints:[]},i={label:"Net Income",group:0,color:"rgb(75, 87, 74)",dataPoints:[]},l={label:"Earnings per Basic Share",group:0,color:"rgb(226, 71, 130)",dataPoints:[]},t&&t.results&&t.results.map((function(e){n.dataPoints.push({calendarDate:e.calendarDate,period:e.period,value:e.revenues}),r.dataPoints.push({calendarDate:e.calendarDate,period:e.period,value:e.costOfRevenue}),c.dataPoints.push({calendarDate:e.calendarDate,period:e.period,value:e.grossProfit}),s.dataPoints.push({calendarDate:e.calendarDate,period:e.period,value:e.EBITDAMargin}),i.dataPoints.push({calendarDate:e.calendarDate,period:e.period,value:e.netIncome}),l.dataPoints.push({calendarDate:e.calendarDate,period:e.period,value:e.earningsPerBasicShare})})),H([ee(n),ee(r),ee(c),ee(s),ee(i),ee(l)]),X(2);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(k.a)(S.a.mark((function e(){var t,n,r,c,s,i,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lt(a.value);case 2:t=e.sent,n={label:"Total Assets",group:1,color:"rgb(182, 116, 194)",dataPoints:[]},r={label:"Total Liabilities",group:1,color:"rgb(186, 56, 58)",dataPoints:[]},c={label:"Total Debt [USD]",group:1,color:"rgb(172, 114, 47)",dataPoints:[]},s={label:"Receivables",group:1,color:"rgb(99, 89, 135)",dataPoints:[]},i={label:"Payables",group:1,color:"rgb(179, 8, 167)",dataPoints:[]},l={label:"Cash & Cash Equivalents [USD]",group:1,color:"rgb(46, 149, 187)",dataPoints:[]},t&&t.results&&t.results.map((function(e){n.dataPoints.push({calendarDate:e.calendarDate,period:e.period,value:e.assets}),r.dataPoints.push({calendarDate:e.calendarDate,period:e.period,value:e.liabilitiesNonCurrent}),c.dataPoints.push({calendarDate:e.calendarDate,period:e.period,value:e.debt}),s.dataPoints.push({calendarDate:e.calendarDate,period:e.period,value:e.tradeAndNonTradeReceivables}),i.dataPoints.push({calendarDate:e.calendarDate,period:e.period,value:e.tradeAndNonTradePayables}),l.dataPoints.push({calendarDate:e.calendarDate,period:e.period,value:e.cashAndEquivalents})})),H([ee(n),ee(r),ee(c),ee(s),ee(i),ee(l)]),X(2);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(k.a)(S.a.mark((function e(){var t,n,r,c,s,i,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot(a.value);case 2:t=e.sent,n={label:"Net Cash Flow from Operations",group:2,color:"rgb(230, 195, 176)",dataPoints:[]},r={label:"Net Cash Flow from Investing",group:2,color:"rgb(182, 102, 232)",dataPoints:[]},c={label:"Net Cash Flow from Financing",group:2,color:"rgb(221, 171, 219)",dataPoints:[]},s={label:"Issue/Repayment of Debt Securities",group:2,color:"rgb(90, 125, 16)",dataPoints:[]},i={label:"Issuance/Purchase of Equity Shares",group:2,color:"rgb(241, 76, 34)",dataPoints:[]},l={label:"Payment of Dividends & Other Cash Distributions",group:2,color:"rgb(96, 54, 217)",dataPoints:[]},t&&t.results&&t.results.map((function(e){n.dataPoints.push({calendarDate:e.calendarDate,period:e.period,value:e.netCashFlowFromOperations}),r.dataPoints.push({calendarDate:e.calendarDate,period:e.period,value:e.netCashFlowFromInvesting}),c.dataPoints.push({calendarDate:e.calendarDate,period:e.period,value:e.netCashFlowFromFinancing}),s.dataPoints.push({calendarDate:e.calendarDate,period:e.period,value:e.issuanceDebtSecurities}),i.dataPoints.push({calendarDate:e.calendarDate,period:e.period,value:e.issuanceEquityShares}),l.dataPoints.push({calendarDate:e.calendarDate,period:e.period,value:e.paymentDividendsOtherCashDistributions})})),H([ee(n),ee(r),ee(c),ee(s),ee(i),ee(l)]),X(2);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();"News"===C?e():"Data Table"===C?""===A?t():"Income Statement"===A?n():"Balance Sheet"===A?r():"Cash Flow Statement"===A&&c():"Chart"===C&&("Income Statement"===A?s():"Balance Sheet"===A?i():"Cash Flow Statement"===A&&l())}),[C,A,a]),Object(p.jsxs)("div",{className:"financial-dashboard-container",children:[!j&&Object(p.jsx)(b.a,{className:"show-sidebar-toggle-area show-sidebar-icon",onClick:q,children:Object(p.jsx)("i",{className:"tim-icons icon-align-left-2"})}),j&&Object(p.jsx)(O,{isAdminPage:!1,routes:g,subInstance:"tradedatatable",selectedInstance:x,handleSidebarChange:q,handleInstanceChange:function(e){y(e)}}),Object(p.jsx)(It,{selectedHeaderNav:C,setSelectedHeaderNav:_,symbol:a,setSymbol:n,optionsSymbol:l}),"News"!==C&&Object(p.jsxs)("div",{className:"filter-types-section",children:[Object(p.jsx)(Mt,{selectedAggregationType:F,setSelectedAggregationType:D}),Object(p.jsx)(Lt,{selectedStockType:A,setSelectedStockType:M,selectedHeaderNav:C})]}),"Data Table"===C?Object(p.jsx)(Bt,{data:U,selectedStockType:A,selectedAggregationType:F}):"News"===C?Object(p.jsx)(Ht,{data:Z,symbols:l}):Object(p.jsx)("div",{className:"container custom-container chart-area",children:Object(p.jsx)("div",{className:"row justify-content-center",children:R?R.map((function(e){return Object(p.jsx)("div",{className:"col-lg-4 col-md-4 col-sm-6 col-xs-12 group-bar-chart",children:Object(p.jsx)(At,{data:e,chartData:R,globalAggregationType:F})},e.label)})):2===W?Object(p.jsx)("div",{className:"no-data",children:"No data"}):Object(p.jsx)("div",{className:"no-data",children:"Fetching..."})})})]})},zt=(a(673),a(674),a(675),a(676),a(677),a(678),a(679),a(680),a(365)),Ut=a(81),Vt=a(366),Kt=a.n(Vt),Jt=a(369),Wt=a(154),Xt=function(e){Object(I.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(N.a)(this,a),(n=t.call(this,e)).openAddIndicatorModal=function(){n.setState({isShowAddIndicatorModal:!0})},n.handleChange=function(e){n.setState({isCheckedStrategy:e})},n.loadConfigFiles=Object(k.a)(S.a.mark((function e(){var t,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt("bot_configs");case 2:(t=e.sent).success&&(a=t.result.map((function(e){return{value:e,label:e}})),n.setState({configFileOptions:a,selectedConfigFile:a[0],isUpdate:!0}));case 4:case"end":return e.stop()}}),e)}))),n.updateBotStatus=function(){var e=Object(k.a)(S.a.mark((function e(t,a){var r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt(t.name,a);case 2:return r=e.sent,alert(r.message),e.next=6,n.loadBotStatusList();case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.loadBotStatusList=Object(k.a)(S.a.mark((function e(){var t,a,r,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt();case 2:(t=e.sent).success?(a=t.result.map((function(e,t){return{id:t+1,name:e.name,status:e.status,updated:ne()(e.updated).format("YYYY-MM-DD h:mm:ss"),action:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Me.b,{className:"mr-10",color:"blue",size:"sm",onClick:function(){n.updateBotStatus(e,"live"===e.status?"pause":"start")},children:"live"===e.status?"pause":"start"}),Object(p.jsx)(Me.b,{color:"blue",size:"sm",onClick:function(){n.updateBotStatus(e,"kill")},children:"kill"})]})}})),r={columns:n.state.headerColumnsBotStatus,rows:a},n.setState({botStatusDatatable:r})):(c={columns:n.state.headerColumnsBotStatus,rows:[]},n.setState({botStatusDatatable:c}));case 4:case"end":return e.stop()}}),e)}))),n.loadBotConfigList=Object(k.a)(S.a.mark((function e(){var t,a,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct();case 2:(t=e.sent).result&&(a=t.result.map((function(e,t){return{id:t+1,bot_name:e.bot_name,timeframe:e.timeframe,indicator:e.indicator,watchlist:e.watchlist,position_sizing:e.position_sizing,order_routing:e.order_routing,data_source:e.data_source,live_trading:e.live_trading,starting_cash:e.starting_cash,hours:e.hours,name:e.name,macro_strategy:e.macro_strategy,indicator_signalling:e.indicator_signalling,asset_class:e.asset_class}})),r={columns:n.state.headerColumnsBotConfig.map((function(e,t){return 0===t?e.width=50:1===t?e.width=150:3===t?e.width=300:4===t||5===t||6===t||7===t||8===t||9===t?e.width=150:10!==t&&11!==t&&12!==t&&13!==t||(e.width=200),e})),rows:a},n.setState({botConfigDatatable:r}));case 4:case"end":return e.stop()}}),e)}))),n.loadModuleTypes=Object(k.a)(S.a.mark((function e(){var t,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke();case 2:(t=e.sent).success&&(a=t.result.map((function(e){return{value:e,label:e}})),n.setState({moduleTypeOptions:a,selectedModuleType:a[0],isUpdate:!0}));case 4:case"end":return e.stop()}}),e)}))),n.handleScriptFileChange=function(e){n.setState({selectedFileType:e,filename:e.value})},n.handleScriptFileSave=Object(k.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.filename){e.next=3;break}return alert("Please input the file name!"),e.abrupt("return");case 3:if(n.state.content.length){e.next=6;break}return alert("File content is empty!"),e.abrupt("return");case 6:if(!n.state.isSelectedStrategyFile){e.next=12;break}if(n.state.strategyIndicators.length){e.next=10;break}return console.log("content is empty!"),e.abrupt("return");case 10:e.next=15;break;case 12:if(!n.state.isCheckedStrategy){e.next=15;break}return console.log("content is empty!"),e.abrupt("return");case 15:if(!n.state.isSelectedStrategyFile){e.next=21;break}return e.next=18,Qe(n.state.isUpdate?n.state.selectedFileType.value:n.state.filename,n.state.content,n.state.isUpdate,n.state.isCheckedStrategy);case 18:t=e.sent,e.next=24;break;case 21:return e.next=23,Ge(n.state.isUpdate?n.state.selectedFileType.value:n.state.filename,n.state.processConfigSetting,n.state.isUpdate);case 23:t=e.sent;case 24:if(!t.success){e.next=27;break}return n.SaveScriptModalClose(),e.abrupt("return");case 27:alert(t.message);case 28:case"end":return e.stop()}}),e)}))),n.handleScriptFileNameChange=function(e){n.setState({filename:e.target.value})},n.onEditorStateChange=function(e){n.setState({editorState:e})},n.handleScriptFileCreate=Object(k.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({isUpdate:!1,scriptfiles:null,filename:"",selectedFileType:null,editorState:Ut.EditorState.createEmpty()});case 1:case"end":return e.stop()}}),e)}))),n.handleOpenScriptFile=Object(k.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({isShowOpenModal:!0,isUpdate:!0});case 1:case"end":return e.stop()}}),e)}))),n.handleOpenProcessConfigModal=Object(k.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({isShowConfigOpenModal:!0,isUpdate:!0});case 1:case"end":return e.stop()}}),e)}))),n.handleFileTypeChange=function(){var e=Object(k.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({selectedFileType:t,isUpdate:!0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleFile1TypeChange=function(){var e=Object(k.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({selectedFile1Type:t,isUpdate:!0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleConfigFileChange=function(){var e=Object(k.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({selectedConfigFile:t,isUpdate:!0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleModuleTypeChange=function(){var e=Object(k.a)(S.a.mark((function e(t){var a,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({selectedModuleType:t,isUpdate:!0}),e.next=3,Je(t.value);case 3:(a=e.sent).success&&(r=a.result.map((function(e){return{value:e.name,label:e.name}})),n.setState({selectedModuleContents:a.result,fileTypeOptions:r,selectedFileType:r[0],isUpdate:!0}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleModule1TypeChange=function(){var e=Object(k.a)(S.a.mark((function e(t){var a,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({selectedModule1Type:t,isUpdate:!0}),e.next=3,Je(t.value);case 3:(a=e.sent).success&&(r=a.result.length?a.result.map((function(e){return{value:e.name,label:e.name}})):null,n.setState({selectedModuleContents:a.result,file1TypeOptions:r,selectedFile1Type:r?r[0]:null,isUpdate:!0}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleSaveModalShow=Object(k.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({isShowSaveModal:!0});case 1:case"end":return e.stop()}}),e)}))),n.ProcessConfigModalClose=function(){n.setState({isShowConfigOpenModal:!1})},n.OpenScriptModalClose=function(){n.setState({isShowOpenModal:!1})},n.AddIndicatorModalClose=function(){n.setState({isShowAddIndicatorModal:!1})},n.SaveScriptModalClose=function(){n.setState({isShowSaveModal:!1})},n.handleScriptFileOpen=Object(k.a)(S.a.mark((function e(){var t,a,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state.selectedModuleContents.filter((function(e){return e.name===n.state.selectedFileType.value})),a=Object(Ut.convertFromHTML)(t[0]?"<pre>".concat(t[0].contents,"</pre>"):""),r=Ut.ContentState.createFromBlockArray(a.contentBlocks,a.entityMap),n.setState({editorState:Ut.EditorState.createWithContent(r),scriptfile:t}),n.OpenScriptModalClose();case 5:case"end":return e.stop()}}),e)}))),n.handleConfigFileOpen=Object(k.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at("bot_configs",n.state.selectedConfigFile.value);case 2:t=e.sent,n.setState({processConfigSetting:t,isUpdate:!0}),n.ProcessConfigModalClose();case 5:case"end":return e.stop()}}),e)}))),n.handleSave=function(e){n.setState({content:e,isSelectedStrategyFile:!0}),n.handleSaveModalShow()},n.handleProcessConfigSettingSave=Object(k.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.processConfigSetting.name.length){e.next=3;break}return alert("name field is required!"),e.abrupt("return");case 3:return e.next=5,Ge(n.state.processConfigSetting,n.state.isUpdate);case 5:(t=e.sent).success?alert(t.message):alert("The config is not saved"),n.loadConfigFiles(),n.loadBotConfigList();case 9:case"end":return e.stop()}}),e)}))),n.showFile=function(){var e=Object(k.a)(S.a.mark((function e(t){var a,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=t.target.files[0],(r=new FileReader).onload=function(){var e=Object(k.a)(S.a.mark((function e(t){var r,c,s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.target.result,c=Object(Ut.convertFromHTML)(r),s=Ut.ContentState.createFromBlockArray(c.contentBlocks,c.entityMap),n.setState({editorState:Ut.EditorState.createWithContent(s),file:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.readAsText(t.target.files[0]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleModuleAndTypeSelect=function(){var e=n.state.strategyIndicators;e.push("".concat(n.state.selectedModule1Type.value,"-").concat(n.state.selectedFile1Type.value)),n.setState({strategyIndicators:e})},n.handleIndicatorDelete=function(e){var t=n.state.strategyIndicators;t=t.filter((function(t){return t!==e})),n.setState({strategyIndicators:t})},n.handleBotNameChange=function(e,t){n.state.processConfigSetting[t]=e.target.value,n.setState({processConfigSetting:n.state.processConfigSetting})},n.handleProcessChange=function(e,t){n.state.processConfigSetting[t]=e,n.setState({processConfigSetting:n.state.processConfigSetting})},n.displayProcessEditor=function(){return Object.keys(n.state.processConfigOptions).map((function(e,t){return Object(p.jsxs)("li",{className:"list-group-item strategy-indicator-edit-list",children:[Object(p.jsx)("div",{className:"strategy-indicator-edit-list-no display-flex-j-c",children:Object(p.jsx)(Me.b,{tag:"a",size:"sm",children:t})}),Object(p.jsx)("div",{className:"strategy-indicator-edit-list-content ml-30",children:Object(p.jsx)(Me.b,{tag:"a",size:"sm",className:"hunter-process-mdb-btn",children:e})}),Object(p.jsx)("div",{className:"strategy-indicator-edit-list-action",children:"bot_name"===e||"name"===e||"starting_cash"===e?Object(p.jsx)("input",{type:"name",className:"form-control hunter-bot-name-input",placeholder:"bot_name"===e?"Enter bot name":"name"===e?"Enter name":"Enter starting cash",value:n.state.processConfigSetting[e],onChange:function(t){n.handleBotNameChange(t,e)}}):Object(p.jsx)(w.a,{value:n.state.processConfigSetting[e],onChange:function(t){n.handleProcessChange(t,e)},options:n.state.processConfigOptions[e],placeholder:"select",isMulti:!0})})]},e)}))},n.handleIndicatorReset=function(){n.setState({processConfigSetting:{bot_name:"",timeframe:null,indicator:null,watchlist:null,position_sizing:null,order_routing:null,data_source:null,live_trading:null,starting_cash:1e4,hours:null,name:"",macro_strategy:null,indicator_signalling:null,asset_class:null}})},n.state={key:"parameter",editorState:Ut.EditorState.createEmpty(),textdata:["hello"],scriptfiles:[],scriptfile:null,selectedFileType:null,selectedModuleType:null,selectedModule1Type:null,module1TypeOptions:[{value:"watchlists",label:"watchlists"},{value:"indicator_signaling",label:"indicator_signaling"},{value:"order_signalling",label:"order_signalling"},{value:"order_routing",label:"order_routing"},{value:"indicators",label:"pass in processed data into indicators"},{value:"core",label:"core"}],processConfigOptions:{bot_name:"",timeframe:[{value:"2m",label:"2m"},{value:"4m",label:"4m"},{value:"12m",label:"12m"}],indicator:[{value:"heik_diff",label:"heik_diff"},{value:"heik",label:"heik"},{value:"rsi1",label:"rsi1"},{value:"rsi2",label:"rsi2"},{value:"rsi3",label:"rsi3"}],watchlist:[{value:"tech",label:"tech"},{value:"buffett",label:"buffett"}],position_sizing:[{value:"equal",label:"equal"}],order_routing:[{value:"alphaca",label:"alphaca"}],data_source:[{label:"polygon",value:"polygon"}],live_trading:[{value:!0,label:"true"},{value:!1,label:"false"}],starting_cash:1e4,extended_hours:[{value:!0,label:"true"},{value:!1,label:"false"}],name:"",macro_strategy:[{value:"tsrh_dc",label:"tsrh_dc"}],indicator_signalling:[{label:"alternative",value:"alternative"},{value:"default",label:"default"}],asset_class:[{label:"crypto",value:"crypto"},{label:"equities",value:"equities"}]},processConfigSetting:{bot_name:"",timeframe:null,indicator:null,watchlist:null,position_sizing:null,order_routing:null,data_source:null,live_trading:null,starting_cash:1e4,hours:null,name:"",macro_strategy:null,indicator_signalling:null,asset_class:null},selectedConfigFile:null,selectedModuleContents:[],filename:"",file:[],content:null,isUpdate:!1,isShowOpenModal:!1,isShowAddIndicatorModal:!1,isShowSaveModal:!1,isCheckedStrategy:!1,isShowConfigOpenModal:!1,strategyIndicators:[],headerColumnsBotStatus:[{label:"ID",field:"id",width:100,attributes:{"aria-controls":"DataTable","aria-label":"symbol"}},{label:"BOT NAME",field:"name",width:200},{label:"STATUS",field:"status",width:150},{label:"UPDATED",field:"updated",width:150},{label:"Action",field:"action",sort:!1,width:100}],headerColumnsBotConfig:[{label:"ID",field:"id",wdith:100,attributes:{"aria-controls":"DataTable","aria-label":"ID"}},{label:"BOT NAME",field:"name",width:200},{label:"Time Frame",field:"timeframe",with:200},{label:"Indicator",field:"indicator",with:500},{label:"Watch List",field:"watchlist",with:100},{label:"Position Sizing",field:"position_sizing",sort:!1,with:100},{label:"Order Routing",field:"order_routing",sort:!1,with:100},{label:"Data Source",field:"data_source",sort:!1,with:100},{label:"Live Trading",field:"live_trading",sort:!1,with:100},{label:"Starting Cash",field:"starting_cash",sort:!1,with:100},{label:"Hours",field:"hours",sort:!1,with:100},{label:"Macro Strategy",field:"macro_strategy",sort:!1,with:100},{label:"Indicator Signalling",field:"indicator_signalling",sort:!1,with:100},{label:"Asset Class",field:"asset_class",sort:!1,with:100}],botStatusDatatable:{columns:[],rows:[]},botConfigDatatable:{columns:[],rows:[]}},n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadModuleTypes(),this.loadConfigFiles(),this.loadBotStatusList(),this.loadBotConfigList();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.editorState;return Object(p.jsx)(s.a.Fragment,{children:Object(p.jsxs)("div",{className:"hunter-textedit-container",children:[Object(p.jsxs)(Jt.a,{id:"controlled-tab-example",activeKey:this.state.key,onSelect:function(t){return e.setState({key:t})},className:"mb-3",children:[Object(p.jsxs)(Wt.a,{eventKey:"parameter",title:"Parameter Editor",children:[Object(p.jsx)(zt.Editor,{editorState:t,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",editorStyle:{backgroundColor:"whitesmoke"},onEditorStateChange:this.onEditorStateChange}),Object(p.jsx)("div",{className:"hunter-editor-button-area",children:Object(p.jsxs)("div",{className:"display-flex-left",children:[Object(p.jsx)("button",{className:"btn btn-md btn-secondary",onClick:function(){return e.handleScriptFileCreate()},children:"New"}),Object(p.jsx)("button",{className:"btn btn-md btn-secondary",onClick:function(){return e.handleOpenScriptFile()},children:"Open"}),Object(p.jsx)("button",{className:"btn btn-md btn-secondary",onClick:function(){return e.handleSave(Kt()(Object(Ut.convertToRaw)(t.getCurrentContent())))},children:"Save"})]})})]}),Object(p.jsx)(Wt.a,{eventKey:"process",title:"Process Config Editor",children:Object(p.jsxs)("div",{className:"strategy-indicator-edit-area",children:[Object(p.jsx)("ul",{className:"list-group",children:this.displayProcessEditor()}),Object(p.jsxs)("div",{className:"strategy-edit-icon-area",children:[Object(p.jsx)("button",{className:"btn btn-md btn-secondary mr-10",onClick:function(){return e.handleIndicatorReset()},children:"Reset"}),Object(p.jsx)("button",{className:"btn btn-md btn-secondary mr-10",onClick:function(){return e.handleOpenProcessConfigModal()},children:"Open"}),Object(p.jsx)("button",{className:"btn btn-md btn-secondary mr-10",onClick:function(){return e.handleProcessConfigSettingSave()},children:"Save"})]})]})}),Object(p.jsxs)(Wt.a,{eventKey:"bot-status-manager",title:"Bot Status Manager",children:[Object(p.jsx)(Me.c,{hover:!0,maxHeight:"500px",entriesOptions:[10,25,50,100],entries:10,pagesAmount:4,data:this.state.botStatusDatatable,dark:!0,noBottomColumns:!0,small:!0,striped:!0,scrollY:!0}),";"]}),Object(p.jsxs)(Wt.a,{eventKey:"bot-config-manager",title:"Bot Config Manager",children:[Object(p.jsx)(Me.c,{hover:!0,maxHeight:"500px",entriesOptions:[10,25,50,100],entries:10,pagesAmount:4,data:this.state.botConfigDatatable,noBottomColumns:!0,small:!0,sortable:!1,striped:!0,scrollX:!0}),";"]})]}),Object(p.jsxs)(Ae.a,{show:this.state.isShowOpenModal,className:"hunter-modal",onHide:this.OpenScriptModalClose,children:[Object(p.jsx)(Ae.a.Header,{closeButton:!0,children:Object(p.jsx)(Ae.a.Title,{children:"Open Script File"})}),Object(p.jsx)(Ae.a.Body,{children:Object(p.jsxs)("div",{className:"hunter-select-module-area",children:[Object(p.jsxs)("div",{className:"select-multi-option",children:[Object(p.jsx)("label",{children:"Select module type"}),Object(p.jsx)(w.a,{className:"hunter-module-type-select",name:"select-module-type",placeholder:"Module Type",value:this.state.selectedModuleType,onChange:this.handleModuleTypeChange,options:this.state.moduleTypeOptions})]}),Object(p.jsxs)("div",{className:"select-multi-option",children:[Object(p.jsx)("label",{children:"Select file type"}),Object(p.jsx)(w.a,{name:"select-file-type",placeholder:"File Type",value:this.state.selectedFileType,onChange:this.handleFileTypeChange,options:this.state.fileTypeOptions})]})]})}),Object(p.jsx)(Ae.a.Footer,{className:"hunter-modal-footer",children:Object(p.jsx)(b.a,{variant:"primary",className:"btn-md",onClick:function(){e.handleScriptFileOpen(e.state.selectedFileType)},children:"Open"})})]}),Object(p.jsxs)(Ae.a,{show:this.state.isShowConfigOpenModal,className:"hunter-modal",onHide:this.ProcessConfigModalClose,children:[Object(p.jsx)(Ae.a.Header,{closeButton:!0,children:Object(p.jsx)(Ae.a.Title,{children:"Open Script File"})}),Object(p.jsx)(Ae.a.Body,{children:Object(p.jsx)("div",{className:"hunter-select-module-area",children:Object(p.jsxs)("div",{className:"select-multi-option",children:[Object(p.jsx)("label",{children:"Select Config File"}),Object(p.jsx)(w.a,{className:"hunter-module-type-select",name:"select-config-file",placeholder:"Config File",value:this.state.selectedConfigFile,onChange:this.handleConfigFileChange,options:this.state.configFileOptions})]})})}),Object(p.jsx)(Ae.a.Footer,{className:"hunter-modal-footer",children:Object(p.jsx)(b.a,{variant:"primary",className:"btn-md",onClick:function(){e.handleConfigFileOpen()},children:"Open"})})]}),Object(p.jsxs)(Ae.a,{show:this.state.isShowSaveModal,className:"hunter-modal",onHide:this.SaveScriptModalClose,children:[Object(p.jsx)(Ae.a.Header,{closeButton:!0,children:Object(p.jsx)(Ae.a.Title,{children:"Save Script File"})}),Object(p.jsx)(Ae.a.Body,{children:Object(p.jsx)("div",{className:"hunter-form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control hunter-form-control",placeholder:"script file name",value:this.state.filename,onChange:function(t){e.handleScriptFileNameChange(t)}})})}),Object(p.jsx)(Ae.a.Footer,{className:"hunter-modal-footer",children:Object(p.jsx)(b.a,{variant:"primary",onClick:this.handleScriptFileSave,className:"btn-md",children:"Save"})})]})]})})}}]),a}(c.Component);function qt(){var e=s.a.useState(!0),t=Object(d.a)(e,2),a=t[0],n=t[1],r=s.a.useState("forward_test"),c=Object(d.a)(r,2),i=c[0],l=c[1],o=function(){n(!a)};return Object(p.jsxs)(s.a.Fragment,{children:[Object(p.jsx)(Ee,{}),Object(p.jsxs)("div",{className:"wrapper hunter-wrapper",children:[!a&&Object(p.jsx)(b.a,{className:"show-sidebar-toggle-area show-sidebar-icon",onClick:o,children:Object(p.jsx)("i",{className:"tim-icons icon-align-left-2"})}),a&&Object(p.jsx)(O,{isAdminPage:!1,routes:g,subInstance:"systemfilemanager",handleSidebarChange:o,selectedInstance:i,handleInstanceChange:function(e){l(e)}}),Object(p.jsx)(Xt,{})]})]})}var Gt="",Qt="white-content",Zt=Object(c.createContext)({theme:Gt,changeTheme:function(){}});function $t(e){var t=Object(c.useState)(Gt),a=Object(d.a)(t,2),n=a[0],r=a[1];return Object(c.useEffect)((function(){if(n===Qt)document.body.classList.add("white-content");else document.body.classList.remove("white-content")}),[n]),Object(p.jsx)(Zt.Provider,{value:{theme:n,changeTheme:function(e){r(e)}},children:e.children})}function ea(e){var t=Object(c.useState)(j),a=Object(d.a)(t,2),n=a[0],r=a[1];return Object(p.jsx)(f.Provider,{value:{color:n,changeColor:function(e){r(e)}},children:e.children})}var ta=a(371),aa=["children"];function na(e){var t=e.children,a=Object(ta.a)(e,aa),n=fe();return Object(p.jsx)(u.b,Object(r.a)(Object(r.a)({},a),{},{render:function(e){var a=e.location;return n.authUser.isAuthenticated?t:Object(p.jsx)(u.a,{to:{pathname:"/login",state:{from:a}}})}}))}var ra=function(){var e=Object(u.g)(),t=fe(),a=Object(c.useState)(!1),n=Object(d.a)(a,2),r=n[0],s=n[1],i=Object(c.useState)(""),l=Object(d.a)(i,2),o=l[0],b=l[1],h=Object(c.useState)(""),j=Object(d.a)(h,2),f=j[0],m=j[1],v=Object(c.useState)(-1),O=Object(d.a)(v,2),g=O[0],x=O[1],y=Object(c.useState)(),w=Object(d.a)(y,2),N=w[0],C=w[1],_=Object(c.useState)(""),I=Object(d.a)(_,2),T=I[0],F=I[1],D=Object(c.useState)(""),E=Object(d.a)(D,2),P=E[0],A=E[1],M=Object(c.useState)(e.location.pathname),L=Object(d.a)(M,1)[0];Object(c.useEffect)((function(){var e=function(e){"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),B())};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]);var B=function(){var a=Object(k.a)(S.a.mark((function a(){var n;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(o.length){a.next=4;break}return x(1),C("user name is wrong"),a.abrupt("return");case 4:if(f.length){a.next=8;break}return x(1),C("user email is wrong"),a.abrupt("return");case 8:if(T.length&&P.length){a.next=12;break}return x(1),C("password or confirm password is wrong"),a.abrupt("return");case 12:if(T===P){a.next=16;break}return x(1),C("password and confirm password is not matched"),a.abrupt("return");case 16:if(_e(f)){a.next=20;break}return x(1),C("Invalid email"),a.abrupt("return");case 20:return s(!0),a.next=23,t.authUser.signup(o,f,T,P,L);case 23:if(n=a.sent,s(!1),!n.success){a.next=29;break}e.push("/login"),a.next=32;break;case 29:return x(1),C(n.error),a.abrupt("return");case 32:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"login-form",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{children:"Sign Up"}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Name"}),Object(p.jsx)("input",{type:"name",className:"form-control hunter-form-control",placeholder:"Enter user name",value:o,onChange:function(e){!function(e){b(e.target.value)}(e)}})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Email"}),Object(p.jsx)("input",{type:"email",className:"form-control hunter-form-control",placeholder:"Enter email",value:f,onChange:function(e){!function(e){m(e.target.value)}(e)}})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Password"}),Object(p.jsx)("input",{type:"password",className:"form-control hunter-form-control",placeholder:"Enter password",value:T,onChange:function(e){!function(e){F(e.target.value)}(e)}})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Confirm Password"}),Object(p.jsx)("input",{type:"password",className:"form-control hunter-form-control",placeholder:"Enter confirm password",value:P,onChange:function(e){!function(e){A(e.target.value)}(e)}})]}),Object(p.jsxs)("button",{className:"btn btn-dark btn-lg btn-block hunter-signin-button",onClick:B,children:[r&&Object(p.jsx)("span",{className:"spinner-border spinner-border-sm hunter-spinner-button",role:"status","aria-hidden":"true"}),"Sign up"]}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("p",{className:"sign-up-area text-right",children:Object(p.jsx)("a",{href:"/signin",children:"Sign In?"})})})]}),-1!==g&&Object(p.jsx)("div",{className:"alert alert-primary",role:"alert",children:Object(p.jsxs)("div",{className:"alert-container",children:[Object(p.jsx)("div",{className:"alert-content",children:N}),Object(p.jsx)("button",{type:"button",className:"btn btn-primary modal-close-button hunter-modal-small-button",onClick:function(){x(-1),C("")},children:"Close"})]})})]})},ca=function(){var e=fe(),t=Object(u.g)(),a=Object(c.useState)(""),n=Object(d.a)(a,2),r=n[0],s=n[1],i=Object(c.useState)(-1),l=Object(d.a)(i,2),o=l[0],b=l[1],h=Object(c.useState)(!1),j=Object(d.a)(h,2),f=j[0],m=j[1],v=Object(c.useState)(""),O=Object(d.a)(v,2),g=O[0],x=O[1],y=t.location.state?t.location.state.userId:null;Object(c.useEffect)((function(){var e=function(e){"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),w())};return document.addEventListener("keydown",e),y||t.push("/login"),function(){document.removeEventListener("keydown",e)}}),[y,t]);var w=function(){var a=Object(k.a)(S.a.mark((function a(){var n,c;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.length){a.next=4;break}return b(1),x("confirmation code is empty"),a.abrupt("return");case 4:return m(!0),a.next=7,e.authUser.verify(y,r);case 7:if(n=a.sent,m(!1),!n.verify){a.next=16;break}c={email:n.user_email,role:n.is_admin?"forward_test,stress_test,optimization,live_trade,macket_watch,trade_data":n.role,is_admin:n.is_admin},localStorage.setItem("user-info",JSON.stringify(c)),localStorage.setItem("auth-token",JSON.stringify(n.token)),t.push("/"),a.next=19;break;case 16:return b(1),x(n.error),a.abrupt("return");case 19:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"login-form",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{children:"Verify"}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Verify Code"}),Object(p.jsx)("input",{type:"text",className:"form-control hunter-form-control",placeholder:"Enter verify code",value:r,onChange:function(e){!function(e){s(e.target.value)}(e)}})]}),Object(p.jsxs)("button",{className:"btn btn-dark btn-lg btn-block hunter-signin-button",onClick:w,children:[f&&Object(p.jsx)("span",{className:"spinner-border spinner-border-sm hunter-spinner-button",role:"status","aria-hidden":"true"}),"Verify"]})]}),-1!==o&&Object(p.jsx)("div",{class:"alert alert-primary",role:"alert",children:Object(p.jsxs)("div",{className:"alert-container",children:[Object(p.jsx)("div",{className:"alert-content",children:g}),Object(p.jsx)("button",{type:"button",className:"btn btn-primary modal-close-button hunter-modal-small-button",onClick:function(){b(-1),x("")},children:"Close"})]})})]})},sa=(a(777),function(){var e,t=fe(),n=Object(u.g)(),r=s.a.useState(!1),i=Object(d.a)(r,1)[0],l=s.a.useState(null),h=Object(d.a)(l,2),j=h[0],f=h[1],m=Object(c.useState)(null),v=Object(d.a)(m,2),O=v[0],g=v[1],x=Object(c.useState)(null),y=Object(d.a)(x,2),N=y[0],C=y[1],_=Object(c.useState)([]),I=Object(d.a)(_,2),T=I[0],F=(I[1],Object(c.useState)(10)),D=Object(d.a)(F,2),E=D[0],P=(D[1],Object(c.useState)(0)),A=Object(d.a)(P,2),M=A[0],L=A[1],B=Object(c.useState)(0),R=Object(d.a)(B,2),H=R[0],Y=R[1],z=Object(c.useState)([]),U=Object(d.a)(z,2),V=U[0],K=U[1],W=Object(c.useState)([]),X=Object(d.a)(W,2),q=X[0],G=X[1],Q=Object(c.useState)([]),Z=Object(d.a)(Q,2),$=Z[0],ee=Z[1],te=Object(c.useMemo)((function(){return[{label:"Industry",field:"Industry",attributes:{"aria-controls":"DataTable","aria-label":"symbol"}},{label:"Symbol",field:"Symbol"},{label:"AssetType",field:"AssetType"},{label:"Name",field:"Name"},{label:"SharesFloat",field:"SharesFloat"},{label:"ShortPercentFloat",field:"ShortPercentFloat"},{label:"Description",field:"Description"},{label:"CIK",field:"CIK"},{label:"Exchange",field:"Exchange"},{label:"Currency",field:"Currency"},{label:"Country",field:"Country"},{label:"Sector",field:"Sector"},{label:"Industry",field:"Industry"},{label:"Address",field:"Address"},{label:"FiscalYearEnd",field:"FiscalYearEnd"},{label:"LatestQuarter",field:"LatestQuarter"},{label:"MarketCapitalization",field:"MarketCapitalization"},{label:"EBITDA",field:"EBITDA"},{label:"PERatio",field:"PERatio"},{label:"PEGRatio",field:"PEGRatio"},{label:"BookValue",field:"BookValue"},{label:"DividendPerShare",field:"DividendPerShare"},{label:"DividendYield",field:"DividendYield"},{label:"EPS",field:"EPS"},{label:"RevenuePerShareTTM",field:"RevenuePerShareTTM"},{label:"ProfitMargin",field:"ProfitMargin"},{label:"OperatingMarginTTM",field:"OperatingMarginTTM"},{label:"ReturnOnAssetsTTM",field:"ReturnOnAssetsTTM"},{label:"ReturnOnEquityTTM",field:"ReturnOnEquityTTM"},{label:"RevenueTTM",field:"RevenueTTM"},{label:"GrossProfitTTM",field:"GrossProfitTTM"},{label:"DilutedEPSTTM",field:"DilutedEPSTTM"},{label:"QuarterlyEarningsGrowthYOY",field:"QuarterlyEarningsGrowthYOY"},{label:"AnalystTargetPrice",field:"AnalystTargetPrice"},{label:"TrailingPE",field:"TrailingPE"},{label:"ForwardPE",field:"ForwardPE"},{label:"PriceToSalesRatioTTM",field:"PriceToSalesRatioTTM"},{label:"PriceToBookRatio",field:"PriceToBookRatio"},{label:"EVToRevenue",field:"EVToRevenue"},{label:"EVToEBITDA",field:"EVToEBITDA"},{label:"Beta",field:"Beta"},{label:"52WeekHigh",field:"52WeekHigh"},{label:"50DayMovingAverage",field:"50DayMovingAverage"},{label:"200DayMovingAverage",field:"200DayMovingAverage"},{label:"SharesOutstanding",field:"SharesOutstanding"},{label:"SharesShort",field:"SharesShort"},{label:"SharesShortPriorMonth",field:"SharesShortPriorMonth"},{label:"ShortRatio",field:"ShortRatio"},{label:"ShortPercentOutstanding",field:"ShortPercentOutstanding"},{label:"PercentInsiders",field:"PercentInsiders"},{label:"PercentInstitutions",field:"PercentInstitutions"},{label:"ForwardAnnualDividendRate",field:"ForwardAnnualDividendRate"},{label:"ForwardAnnualDividendYield",field:"ForwardAnnualDividendYield"},{label:"PayoutRatio",field:"PayoutRatio"},{label:"DividendDate",field:"DividendDate"},{label:"ExDividendDate",field:"ExDividendDate"},{label:"LastSplitFactor",field:"LastSplitFactor"},{label:"ShortPercentOutstanding",field:"ShortPercentOutstanding"},{label:"LastSplitDate",field:"LastSplitDate"}]}),[]),ae=s.a.useState({columns:te,rows:T}),ne=Object(d.a)(ae,2),re=ne[0],ce=ne[1],se=function(){var e=Object(k.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("pageNum",t),e.next=3,vt(t,E);case 3:(a=e.sent)&&(Y(a.page_total),ce({columns:te,rows:a.floats}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(k.a)(S.a.mark((function e(){var t,a,n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt();case 2:(t=e.sent).success&&(a=[{value:"",label:"All"}],t.result.exchanges.map((function(e){if(""===e)return null;a.push({value:e,label:e})})),n=[{value:"",label:"All"}],t.result.industry.map((function(e){""!==e&&null!==e&&n.push({value:e,label:e})})),r=[{value:"",label:"All"}],t.result.sector.forEach((function(e){""!==e&&null!==e&&r.push({value:e,label:e})})),K(a),ee(n),G(r));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){se(M),ie()}),[]);var le=function(){var e=Object(k.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(t),e.next=3,vt(M,E,j?j.value:"",N?N.value:"",t.value);case 3:(a=e.sent)&&(Y(a.page_total),ce({columns:te,rows:a.floats}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(k.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(t),e.next=3,vt(M,E,t.value,N?N.value:"",O?O.value:"");case 3:(a=e.sent)&&(Y(a.page_total),ce({columns:te,rows:a.floats}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(k.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(t),e.next=3,vt(M,E,j?j.value:"",t.value,O?O.value:"");case 3:a=e.sent,Y(a.page_total),ce({columns:te,rows:a.floats});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"hunter-chart-container",children:[Object(p.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark hunter-nav-bar",children:[Object(p.jsx)("div",{className:"logo-title",children:Object(p.jsx)("a",{href:"/chart",className:"hunter-navbar-brand",children:"Violette AM - Client Portal"})}),Object(p.jsx)("div",{className:"navbar-nav mr-auto",children:Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(o.b,{to:"/chart",className:"nav-link"})})}),Object(p.jsx)(b.d,{navbar:!0,isOpen:i,children:Object(p.jsxs)(b.l,{className:"ml-auto",navbar:!0,children:[Object(p.jsxs)(b.o,{nav:!0,children:[Object(p.jsxs)(b.h,{caret:!0,color:"default",nav:!0,onClick:function(e){return e.preventDefault()},children:[Object(p.jsx)("div",{className:"photo",children:Object(p.jsx)("img",{alt:"...",src:a(90).default})}),Object(p.jsx)("p",{className:"d-lg-none",children:"Log out"})]}),Object(p.jsxs)(b.g,{className:"dropdown-navbar",right:!0,tag:"ul",children:[Object(p.jsx)(b.f,{divider:!0,tag:"li"}),Object(p.jsx)(b.m,{tag:"li",children:Object(p.jsx)(b.f,{className:"nav-item",onClick:function(){t.signout(),n.push("/login")},children:"Log out"})})]})]}),Object(p.jsx)("li",{className:"separator d-lg-none"})]})})]}),Object(p.jsxs)("div",{className:"col-sm-12 hunter-data-table-container scanner-page-container",children:[Object(p.jsx)("div",{className:"hunter-data-table-title",children:"Floats Table"}),Object(p.jsxs)("div",{className:"hunter-search-filter-area",children:[Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{value:j,onChange:oe,options:V,placeholder:"Exchange"})}),Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{value:O,onChange:le,options:q,placeholder:"Sector"})}),Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{value:N,onChange:ue,options:$,placeholder:"Industry"})})]}),Object(p.jsxs)(Me.h,(e={hover:!0,small:!0,maxHeight:"500px",entriesOptions:[10,25,50,100],entries:10,pagesAmount:50,data:re,dark:!0,noBottomColumns:!0},Object(J.a)(e,"small",!0),Object(J.a)(e,"scrollX",!0),Object(J.a)(e,"scrollY",!0),Object(J.a)(e,"children",[Object(p.jsx)(Me.j,{className:"watch-list-data-table-header",children:Object(p.jsx)("tr",{children:te.map((function(e){return Object(p.jsx)("th",{className:"hunter-custom-table-floats-chart-th",children:e.label},e.label)}))})}),Object(p.jsx)(Me.i,{className:"financial-table-body-1",children:re.rows.map((function(e){return Object(p.jsx)("tr",{children:te.map((function(t){return Object(p.jsx)("td",{className:"".concat("Description"===t.field?"hunter-custom-table-description-td":""," hunter-custom-table-td"),children:e[t.field]},"".concat(e.symbol,"-").concat(t.field))}))},"row-".concat(e.Symbol))}))})]),e)),Object(p.jsxs)(Rt.a,{children:[Object(p.jsx)(Rt.a.Item,{children:10*M}),Object(p.jsx)(Rt.a.Item,{children:10*M+9}),Object(p.jsx)(Rt.a.Item,{children:" of "}),Object(p.jsxs)(Rt.a.Item,{children:[" ",H," "]}),Object(p.jsx)(Rt.a.Prev,{disabled:M<=0,onClick:function(){L(M-1),se(M-1)}}),Object(p.jsx)(Rt.a.Next,{disabled:M+1>=H/10,onClick:function(){L(M+1),se(M+1)}})]})]})]})});var ia=function(){var e=s.a.useState(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],r=s.a.useState("floats"),c=Object(d.a)(r,2),i=c[0],l=c[1],o=function(){n(!a)},u=function(e){l(e)};return Object(p.jsx)(f.Consumer,{children:function(e){e.color;return Object(p.jsx)(s.a.Fragment,{children:Object(p.jsxs)("div",{className:"wrapper hunter-wrapper",children:[!a&&Object(p.jsx)(b.a,{className:"show-sidebar-toggle-area show-sidebar-icon",onClick:o,children:Object(p.jsx)("i",{className:"tim-icons icon-align-left-2"})}),a&&Object(p.jsx)(O,{isAdminPage:!1,routes:g,subInstance:"tradedatatable",selectedInstance:i,handleSidebarChange:o,handleInstanceChange:u}),Object(p.jsx)("div",{className:"col-sm-12",children:Object(p.jsx)(sa,{})})]})})}})},la=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(-1),s=Object(d.a)(r,2),i=s[0],l=s[1],o=Object(c.useState)(!1),u=Object(d.a)(o,2),b=u[0],h=u[1],j=Object(c.useState)(""),f=Object(d.a)(j,2),m=f[0],v=f[1],O=function(){var e=Object(k.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_e(a)){e.next=4;break}return l(1),v("Invalid Email!"),e.abrupt("return");case 4:return h(!0),e.next=7,Ue(a);case 7:if(t=e.sent,h(!1),!t.success){e.next=13;break}return l(0),v("Password is sent to your email"),e.abrupt("return");case 13:return l(1),v("Invalid Email!"),e.abrupt("return");case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"login-form",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{className:"hunter-mb-3",children:"Forgot Password"}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Email"}),Object(p.jsx)("input",{type:"text",className:"form-control hunter-form-control",placeholder:"Enter email",value:a,onChange:function(e){!function(e){n(e.target.value)}(e)}})]}),Object(p.jsxs)("button",{className:"btn btn-dark btn-lg btn-block hunter-signin-button",onClick:O,children:[b&&Object(p.jsx)("span",{className:"spinner-border spinner-border-sm hunter-spinner-button",role:"status","aria-hidden":"true"}),"Send"]}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("p",{className:"sign-up-area text-right",children:Object(p.jsx)("a",{href:"/signin",children:"Sign In?"})})})]}),-1!==i&&Object(p.jsx)("div",{class:"alert alert-primary",role:"alert",children:Object(p.jsxs)("div",{className:"alert-container",children:[Object(p.jsx)("div",{className:"alert-content",children:m}),Object(p.jsx)("button",{type:"button",className:"btn btn-primary modal-close-button hunter-modal-small-button",onClick:function(){l(-1),v("")},children:"Close"})]})})]})},oa=function(){var e=Object(u.g)(),t=Object(c.useState)(""),a=Object(d.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(""),i=Object(d.a)(s,2),l=i[0],o=i[1],b=Object(c.useState)(-1),h=Object(d.a)(b,2),j=h[0],f=h[1],m=Object(c.useState)(!1),v=Object(d.a)(m,2),O=v[0],g=v[1],x=Object(c.useState)(""),y=Object(d.a)(x,2),w=y[0],N=y[1],C=Object(c.useState)(e.location.pathname),_=Object(d.a)(C,1)[0],I=function(e){return new Promise((function(t){return setTimeout(t,e)}))},T=function(){var t=Object(k.a)(S.a.mark((function t(){var a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.length&&l.length){t.next=4;break}return f(1),N("password is empty"),t.abrupt("return");case 4:if(n.length&&l.length){t.next=8;break}return f(1),N("password did not match"),t.abrupt("return");case 8:return g(!0),t.next=11,Ve(n,l,_);case 11:if(a=t.sent,g(!1),f(0),!a.success){t.next=21;break}return N("success: ".concat(a.content)),t.next=18,I(3e3);case 18:e.push("/login"),t.next=22;break;case 21:N("error: ".concat(a.content));case 22:return t.abrupt("return");case 23:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"login-form",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{className:"hunter-mb-3",children:"Forgot Password"}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"New Password"}),Object(p.jsx)("input",{type:"password",className:"form-control hunter-form-control",placeholder:"Enter new password",value:n,onChange:function(e){!function(e){r(e.target.value)}(e)}})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"ConfirmPassword"}),Object(p.jsx)("input",{type:"password",className:"form-control hunter-form-control",placeholder:"Enter confirm password",value:l,onChange:function(e){!function(e){o(e.target.value)}(e)}})]}),Object(p.jsxs)("button",{className:"btn btn-dark btn-lg btn-block hunter-signin-button",onClick:T,children:[O&&Object(p.jsx)("span",{className:"spinner-border spinner-border-sm hunter-spinner-button",role:"status","aria-hidden":"true"}),"Reset"]}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("p",{className:"sign-up-area text-right",children:Object(p.jsx)("a",{href:"/signin",children:"Sign In?"})})})]}),-1!==j&&Object(p.jsx)("div",{class:"alert alert-primary",role:"alert",children:Object(p.jsxs)("div",{className:"alert-container",children:[Object(p.jsx)("div",{className:"alert-content",children:w}),Object(p.jsx)("button",{type:"button",className:"btn btn-primary modal-close-button hunter-modal-small-button",onClick:function(){f(-1),N("")},children:"Close"})]})})]})};function ua(e,t){var a=this;return function(n){Object(K.isNotDefined)(a.interactiveNodes)&&(a.interactiveNodes={});var c="".concat(e,"_").concat(t);(Object(K.isDefined)(n)||Object(K.isDefined)(a.interactiveNodes[c]))&&(a.interactiveNodes=Object(r.a)(Object(r.a)({},a.interactiveNodes),{},Object(J.a)({},c,{type:e,chartId:t,node:n})))}}function da(){return this.interactiveNodes}var ba=function(e){Object(I.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(N.a)(this,a),(n=t.call(this,e)).onKeyPress=n.onKeyPress.bind(Object(_.a)(n)),n.saveInteractiveNode=n.saveInteractiveNode.bind(Object(_.a)(n)),n.saveCanvasNode=n.saveCanvasNode.bind(Object(_.a)(n)),n.handleSelection=n.handleSelection.bind(Object(_.a)(n)),n.saveInteractiveNodes=ua.bind(Object(_.a)(n)),n.getInteractiveNodes=da.bind(Object(_.a)(n)),n.state={enableInteractiveObject:!0,channels_1:[],channels_3:[]},n}return Object(C.a)(a,[{key:"saveInteractiveNode",value:function(e){this.node=e}},{key:"saveCanvasNode",value:function(e){this.canvasNode=e}},{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.onKeyPress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.onKeyPress)}},{key:"handleSelection",value:function(e){var t=Object(K.toObject)(e,(function(e){return["channels_".concat(e.chartId),e.objects]}));this.setState(t)}},{key:"onKeyPress",value:function(e){}},{key:"render",value:function(){var e=Object(z.ema)().id(0).options({windowSize:26}).merge((function(e,t){e.ema26=t})).accessor((function(e){return e.ema26})),t=Object(z.ema)().id(1).options({windowSize:12}).merge((function(e,t){e.ema12=t})).accessor((function(e){return e.ema12})),a=Object(z.macd)().options({fast:12,slow:26,signal:9}).merge((function(e,t){e.macd=t})).accessor((function(e){return e.macd})),n=this.props,r=n.type,c=n.data,s=n.width,i=n.ratio;c.dataPoints.forEach((function(e){e.date=P()(e.calendarDate).toDate()}));var l=this.state,o=(l.channels_1,l.channels_3,a(t(e(c.dataPoints)))),u=H.discontinuousTimeScaleProvider.inputDateAccessor((function(e){return e.date}))(o),d=u.data,b=u.xScale,h=u.xAccessor,j=u.displayXAccessor,f=[h(Object(K.last)(d)),h(d[Math.max(0,d.length-150)])];return Object(p.jsx)(M.b,{ref:this.saveCanvasNode,height:50,width:s,ratio:i,margin:{left:0,right:0,top:20,bottom:30},type:r,seriesName:"MSFT",data:d,xScale:b,xAccessor:h,displayXAccessor:j,xExtents:f,children:Object(p.jsx)(M.a,{id:3,height:50,yExtents:[function(e){return e.value}],children:Object(p.jsx)(L.BarSeries,{yAccessor:function(e){return e.value},fill:function(e){return c.color},baseAt:function(e,t,a){return t(0)}})})})}}]),a}(s.a.Component);ba.defaultProps={type:"svg"};var ha=ba=Object(U.fitWidth)(ba),ja=(a(778),function(e){var t=e.data,a=(e.chartData,e.globalAggregationType),n=Object(c.useState)(),s=Object(d.a)(n,2),i=s[0],l=s[1],o=Object(c.useState)(),u=Object(d.a)(o,2),b=u[0],h=u[1],j=function(e){if(e){var t=Object(r.a)({},e),a=t.dataPoints.filter((function(e){return""===i||e.period===i}));return t.dataPoints=a,t}return e};return Object(c.useEffect)((function(){l(a);var e=j(t);h(e)}),[a]),Object(c.useEffect)((function(){var e=j(t);h(e)}),[i]),Object(p.jsx)("div",{className:"small-bar-chart",children:b&&(b.dataPoints.length>0?Object(p.jsx)(ha,{type:"svg",data:b}):Object(p.jsx)("div",{className:"no-data",children:"No data..."}))})}),fa=a(245),pa=a.n(fa),ma=a(65),va=(a(779),function(e){var t=e.nodes,a=e.onChange,n=e.inputvalue,r=Object(c.useState)(),s=Object(d.a)(r,2),i=s[0],l=s[1],o=Object(c.useState)(),u=Object(d.a)(o,2),b=u[0];u[1];return Object(c.useEffect)((function(){var e=[{label:"All",value:"All"}];t.map((function(t){"children"in t&&t.children.map((function(t){e.push({value:t.value,label:t.label})}))})),l(e)}),[t]),Object(p.jsx)("div",{className:"dropdown-container",children:Object(p.jsx)(w.a,{ref:n,value:b,onChange:a,options:i,className:"modal-filter-select-box",placeholder:""})})}),Oa=(a(780),a(781),function(e){Object(I.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(N.a)(this,a),(n=t.call(this,e)).state={checkedAvailableItem:[],expandedAvailableItem:[],selectedNode:{value:"",label:""},nodesFilteredAvailableItem:[],nodesAvailableItem:[],restoreAvailableItems:[],restoreCurrentItems:n.props.currentNodes,checkedCurrrentItem:[],expandedCurrrentItem:[],currentNodes:n.props.currentNodes},n.onCheckAvailableItem=n.onCheckAvailableItem.bind(Object(_.a)(n)),n.onExpandAvailableItem=n.onExpandAvailableItem.bind(Object(_.a)(n)),n.onFilterChangeAvailableItem=n.onFilterChangeAvailableItem.bind(Object(_.a)(n)),n.onCheckCurrentItem=n.onCheckCurrentItem.bind(Object(_.a)(n)),n.onExpandCurrentItem=n.onExpandCurrentItem.bind(Object(_.a)(n)),n.onAddItems=n.onAddItems.bind(Object(_.a)(n)),n.onRemoveItems=n.onRemoveItems.bind(Object(_.a)(n)),n.onLoadDefaults=n.onLoadDefaults.bind(Object(_.a)(n)),n.onMoveUp=n.onMoveUp.bind(Object(_.a)(n)),n.onMoveDown=n.onMoveDown.bind(Object(_.a)(n)),n.onRestoreClicked=n.onRestoreClicked.bind(Object(_.a)(n)),n.onOkClicked=n.onOkClicked.bind(Object(_.a)(n)),n.onCancelClicked=n.onCancelClicked.bind(Object(_.a)(n)),n.onGetAvailabelNodes=n.onGetAvailabelNodes.bind(Object(_.a)(n)),n.onLoadTotalNodes=n.onLoadTotalNodes.bind(Object(_.a)(n)),n.isExistItem=n.isExistItem.bind(Object(_.a)(n)),n}return Object(C.a)(a,[{key:"onGetAvailabelNodes",value:function(){var e=Object(ma.cloneDeep)(this.state.currentNodes),t=Object(ma.cloneDeep)(this.props.totalNodes),a=[];t.map((function(t){var n=!1;e.map((function(e){if(t.value===e.value&&(n=!0,"children"in e&&"children"in t)){var c=[];e.children.map((function(e){c.push(e.value)})),t.children.map((function(n){if(!c.includes(n.value)){var s=!1;a.map((function(t,r){t.value===e.value&&(a[r].children.push(n),s=!0)})),s||a.push(Object(r.a)(Object(r.a)({},t),{},{children:[n]}))}}))}})),n||a.push(t)})),this.setState({nodesAvailableItem:a,nodesFilteredAvailableItem:a,restoreAvailableItems:a})}},{key:"onCheckAvailableItem",value:function(e){this.setState({checkedAvailableItem:e})}},{key:"onExpandAvailableItem",value:function(e){var t=this;this.setState({expandedAvailableItem:e},(function(){console.log(t.state.expandedAvailableItem)}))}},{key:"onCheckCurrentItem",value:function(e){this.setState({checkedCurrentItem:e})}},{key:"onExpandCurrentItem",value:function(e){var t=this;this.setState({expandedCurrentItem:e},(function(){console.log(t.state.expandedCurrentItem)}))}},{key:"onFilterChangeAvailableItem",value:function(e){this.setState({selectedNode:e});var t=[];if("All"===e.value)t=Object(ma.cloneDeep)(this.state.nodesAvailableItem);else{var a=Object(ma.cloneDeep)(this.state.nodesAvailableItem);e.label.includes("parent")?t=a.filter((function(t){return t.label===e.label})):a.map((function(a){"children"in a&&a.children.map((function(n){n.label===e.label&&t.push(a)}))}))}this.setState({nodesFilteredAvailableItem:t})}},{key:"sortNodes",value:function(e){return e}},{key:"onAddItems",value:function(){var e=Object(ma.cloneDeep)(this.state.checkedAvailableItem),t=Object(ma.cloneDeep)(this.state.nodesAvailableItem),a=Object(ma.cloneDeep)(this.props.totalNodes),n=[],c=[];if(e){e.map((function(e){t.map((function(t){if(e.includes("child")){var a=[];"children"in t&&(t.children.map((function(t){t.value===e&&a.push(t)})),a.length>0&&c.push(Object(r.a)(Object(r.a)({},t),{},{children:a})))}else t.value===e&&c.push(t)}))}));var s=Object(ma.cloneDeep)(this.state.currentNodes),i=[];c.map((function(e){var t=!1;if(s.map((function(a){if(a.value===e.value){var n=a.children;e.children.map((function(e){n.push(e)})),i.push(Object(r.a)(Object(r.a)({},a),{},{children:n})),t=!0}})),!t){var a=!1;i.map((function(t,n){t.value===e.value&&(i[n].children.push(e.children[0]),a=!0)})),a||i.push(e)}}));var l=i;s.map((function(e){var t=!1;i.map((function(a){e.value===a.value&&(t=!0)})),t||l.push(e)})),a.map((function(e){var t=!1;l.map((function(a){if(e.value===a.value&&(t=!0,"children"in a&&"children"in e)){var c=[];a.children.map((function(e){c.push(e.value)})),e.children.map((function(t){if(!c.includes(t.value)){var s=!1;n.map((function(e,r){e.value===a.value&&(n[r].children.push(t),s=!0)})),s||n.push(Object(r.a)(Object(r.a)({},e),{},{children:[t]}))}}))}})),t||n.push(e)})),this.setState({currentNodes:l,nodesAvailableItem:n,nodesFilteredAvailableItem:n})}}},{key:"onRemoveItems",value:function(){var e=Object(ma.cloneDeep)(this.state.checkedCurrentItem),t=Object(ma.cloneDeep)(this.state.currentNodes),a=Object(ma.cloneDeep)(this.props.totalNodes),n=[],c=[];if(e){e.map((function(e){t.map((function(t){if(e.includes("child")){var a=[];if("children"in t&&(t.children.map((function(t){t.value===e&&a.push(t)})),a.length>0)){var n,s=c.filter((function(e){return e.value===t.value}));if(s.length)(n=s[0].children).push.apply(n,a);else c.push(Object(r.a)(Object(r.a)({},t),{},{children:a}))}}else t.value===e&&c.push(t)}))}));var s=Object(ma.cloneDeep)(this.state.nodesAvailableItem),i=[];c.map((function(e){var t,a=!1;if(s.map((function(n){n.value===e.value&&(t=n.children,e.children.map((function(e){t.push(e)})),i.push(Object(r.a)(Object(r.a)({},n),{},{children:t})),a=!0)})),!a){var n=!1;i.map((function(t,a){t.value===e.value&&(i[a].children.push(e.children[0]),n=!0)})),n||i.push(e)}}));var l=i;s.map((function(e){var t=!1;i.map((function(a){e.value===a.value&&(t=!0)})),t||l.push(e)})),a.map((function(e){var t=!1;l.map((function(a){if(e.value===a.value&&(t=!0,"children"in a&&"children"in e)){var c=[];a.children.map((function(e){c.push(e.value)})),e.children.map((function(t){if(!c.includes(t.value)){var s=!1;n.map((function(e,r){e.value===a.value&&(n[r].children.push(t),s=!0)})),s||n.push(Object(r.a)(Object(r.a)({},e),{},{children:[t]}))}}))}})),t||n.push(e)})),this.setState({currentNodes:n,nodesAvailableItem:l,nodesFilteredAvailableItem:l})}}},{key:"isExistItem",value:function(e,t,a){var n=!1;return a.forEach((function(a){a.value===e&&a.children.forEach((function(e){e.value!==t.value||(n=!0)}))})),n}},{key:"onLoadTotalNodes",value:function(){var e=this,t=this.props.totalNodes,a=[];this.props.currentNodes&&(t.map((function(t){var n=Object(r.a)({},t);if("children"in n&&n.children.length>0){var c=[];n.children.map((function(t){e.isExistItem(n.value,t,e.props.currentNodes)||c.push(t)})),c.length>0&&a.push(Object(r.a)(Object(r.a)({},n),{},{children:c}))}})),this.setState({nodesAvailableItem:a,nodesFilteredAvailableItem:a}))}},{key:"onLoadDefaults",value:function(){var e=this.props.totalNodes,t=[],a=[];e.map((function(e){var n=Object(r.a)({},e);if(n.default)if("children"in n)if(n.children.length>0){var c=[],s=[];n.children.map((function(e){e.default?c.push(e):s.push(e)})),c.length>0&&t.push(Object(r.a)(Object(r.a)({},n),{},{children:c})),s.length>0&&a.push(Object(r.a)(Object(r.a)({},n),{},{children:s}))}else t.push(n);else t.push(n);else a.push(n)})),this.setState({currentNodes:t,nodesAvailableItem:a,nodesFilteredAvailableItem:a})}},{key:"moveItem",value:function(e){var t=Object(ma.cloneDeep)(this.state.checkedCurrentItem),a=Object(ma.cloneDeep)(this.state.currentNodes);if(t&&Array.isArray(t)){var n=!0;t.sort();var r=[],c=!1;t.map((function(e){e.includes("child")&&(r.push(e.split("_")[2]),c=!0),e.includes("parent")&&(r.length>0?(alert("Please select one node"),n=!1):r.push(e.split("_")[2]))}));var s=Object($.a)(new Set(r));if(1!==s.length)alert("Please select one node"),n=!1;else{var i,l;if(i="parent_value_"+s[0],a.map((function(e,a){e.value===i&&(c?e.children.length===t.length?l={status:"parent",parentIndex:a,childIndex:null}:1!==t.length?(alert("Please select one node"),n=!1):e.children.map((function(e,n){e.value===t[0]&&(l={status:"child",parentIndex:a,childIndex:n})})):l={status:"parent",parentIndex:a,childIndex:null})})),n)if("up"===e){if("parent"===l.status){if(l.parentIndex>0){var o=a[l.parentIndex-1];a[l.parentIndex-1]=a[l.parentIndex],a[l.parentIndex]=o}}else if(l.childIndex>0){var u=a[l.parentIndex].children[l.childIndex-1];a[l.parentIndex].children[l.childIndex-1]=a[l.parentIndex].children[l.childIndex],a[l.parentIndex].children[l.childIndex]=u}}else if("parent"===l.status){if(l.parentIndex<a.length-1){var d=a[l.parentIndex+1];a[l.parentIndex+1]=a[l.parentIndex],a[l.parentIndex]=d}}else if(l.childIndex<a[l.parentIndex].children.length-1){var b=a[l.parentIndex].children[l.childIndex+1];a[l.parentIndex].children[l.childIndex+1]=a[l.parentIndex].children[l.childIndex],a[l.parentIndex].children[l.childIndex]=b}this.setState({currentNodes:a})}}else alert("You didn't select the node")}},{key:"onMoveUp",value:function(){this.moveItem("up")}},{key:"onMoveDown",value:function(){this.moveItem("down")}},{key:"onRestoreClicked",value:function(){this.setState({nodesAvailableItem:this.state.restoreAvailableItems,currentNodes:this.state.restoreCurrentItems})}},{key:"onOkClicked",value:function(){this.props.handleCurrentNodesChanged(this.state.currentNodes),this.props.handleVisible(!1)}},{key:"onCancelClicked",value:function(){this.setState({nodesAvailableItem:this.state.restoreAvailableItems,currentNodes:this.state.restoreCurrentItems}),this.props.handleVisible(!1)}},{key:"componentDidMount",value:function(){this.onGetAvailabelNodes(),this.onLoadTotalNodes()}},{key:"render",value:function(){var e=this.state,t=e.checkedAvailableItem,a=e.expandedAvailableItem,n=e.nodesFilteredAvailableItem;return Object(p.jsxs)("div",{className:"widget-container",children:[Object(p.jsxs)("div",{className:"modal-main",children:[Object(p.jsxs)("div",{className:"filter-container left-group",children:[Object(p.jsx)("div",{className:"left-box-header",children:Object(p.jsx)("span",{children:"Available Items"})}),Object(p.jsxs)("div",{className:"items-area",children:[Object(p.jsx)(va,{nodes:this.state.nodesAvailableItem,onChange:this.onFilterChangeAvailableItem}),Object(p.jsx)(pa.a,{checked:t,expanded:a,nodes:n,onCheck:this.onCheckAvailableItem,onExpand:this.onExpandAvailableItem})]}),Object(p.jsx)("div",{className:"left-box-footer",children:Object(p.jsx)("div",{className:"modal-btn btn-exchange",onClick:this.onAddItems,children:Object(p.jsx)("span",{children:"Add Item(s) >>"})})})]}),Object(p.jsxs)("div",{className:"filter-container right-group",children:[Object(p.jsx)("div",{className:"right-box-header",children:Object(p.jsx)("span",{children:"Available Items"})}),Object(p.jsxs)("div",{className:"items-container",children:[Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"items-area",children:Object(p.jsx)(pa.a,{checked:this.state.checkedCurrentItem,expanded:this.state.expandedCurrentItem,nodes:this.state.currentNodes,onCheck:this.onCheckCurrentItem,onExpand:this.onExpandCurrentItem})})}),Object(p.jsxs)("div",{className:"right-box-btn-group",children:[Object(p.jsx)("div",{className:"right-top-btn",children:Object(p.jsx)("div",{className:"modal-btn",onClick:this.onLoadDefaults,children:Object(p.jsx)("span",{children:"Load Defaults"})})}),Object(p.jsxs)("div",{className:"right-bottom-btn",children:[Object(p.jsx)("div",{className:"modal-btn",onClick:this.onMoveUp,children:Object(p.jsx)("span",{children:"Move Up"})}),Object(p.jsx)("div",{className:"modal-btn",onClick:this.onMoveDown,children:Object(p.jsx)("span",{children:"Move Down"})})]})]})]}),Object(p.jsx)("div",{className:"right-box-footer",children:Object(p.jsx)("div",{className:"modal-btn btn-exchange",onClick:this.onRemoveItems,children:Object(p.jsx)("span",{children:"<< Remove Item(s)"})})})]})]}),Object(p.jsxs)("div",{className:"modal-footer",children:[Object(p.jsx)("div",{className:"modal-footer-left-button-group",children:Object(p.jsx)("div",{className:"modal-btn restore-btn",onClick:this.onRestoreClicked,children:Object(p.jsx)("span",{children:"Restore"})})}),Object(p.jsxs)("div",{className:"modal-footer-right-button-group",children:[Object(p.jsx)("div",{className:"modal-btn ok-btn",onClick:this.onOkClicked,children:Object(p.jsx)("span",{children:"Ok"})}),Object(p.jsx)("div",{className:"modal-btn cancel-btn",onClick:this.onCancelClicked,children:Object(p.jsx)("span",{children:"Cancel"})})]})]})]})}}]),a}(s.a.Component)),ga=function(e){var t=Object(c.useState)([]),a=Object(d.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(e.selectedColumns),i=Object(d.a)(s,2),l=i[0],o=i[1];return Object(c.useEffect)((function(){var e=[],t=[],a=function(){var a=Object(k.a)(S.a.mark((function a(){var n,c,s,i;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,dt();case 2:(n=a.sent).result&&(c=n.result.stock_financials,s=n.result.indicators,n.result.ticker_news,i=n.result.ticker_details,t=[],c.total.map((function(e,a){t.push({label:e,value:"child_value_1_"+(a+1),default:!!c.defaults.includes(e)})})),t.length>0?e.push({label:"Stock Financials",value:"parent_value_1",children:t,default:!0}):e.push({label:"Stock Financials",value:"parent_value_1",default:!1}),t=[],s.total.map((function(e,a){t.push({label:e,value:"child_value_2_"+(a+1),default:!!s.defaults.includes(e)})})),t.length>0?e.push({label:"Indicators",value:"parent_value_2",children:t,default:!0}):e.push({label:"Indicators",value:"parent_value_2",default:!1}),t=[],i.total.map((function(e,a){t.push({label:e,value:"child_value_4_"+(a+1),default:!!i.defaults.includes(e)})})),t.length>0?e.push({label:"Ticker Details",value:"parent_value_4",children:t,default:!0}):e.push({label:"Ticker Details",value:"parent_value_4",default:!1}),e.push({label:"Ticker Prices",value:"parent_value_5",children:[{label:"o",value:"child_value_5_1",default:!0},{label:"h",value:"child_value_5_2",default:!0},{label:"l",value:"child_value_5_3",default:!0},{label:"c",value:"child_value_5_4",default:!0},{label:"v",value:"child_value_5_5",default:!0},{label:"mark",value:"child_value_5_6",default:!0}]})),r(e);case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();a()}),[]),Object(p.jsx)("div",{className:"watch-list-edit-column-widget",children:n.length>0&&Object(p.jsx)(Oa,{totalNodes:n,currentNodes:l,handleCurrentNodesChanged:function(t){o(t),e.setColumns(t)},handleVisible:function(t){e.handleModalClose()}})})},xa=(a(782),function(e){var t=Object(c.useState)(!1),a=Object(d.a)(t,2),n=a[0],s=a[1],i=Object(c.useState)([{label:"Indicators",value:"parent_value_2",children:[{label:"rsi",value:"child_value_2_1",default:!0},{label:"rsi2",value:"child_value_2_2",default:!0},{label:"rsi3",value:"child_value_2_3",default:!1},{label:"heik",value:"child_value_2_4",default:!1},{label:"heik2",value:"child_value_2_5",default:!1}],default:!0}]),l=Object(d.a)(i,2),o=l[0],u=l[1],h=Object(c.useState)([]),j=Object(d.a)(h,2),f=j[0],m=j[1],v=Object(c.useState)(!1),O=Object(d.a)(v,2),g=O[0],x=O[1],y=Object(c.useState)(null),N=Object(d.a)(y,2),C=N[0],_=N[1],I=Object(c.useState)(!1),T=Object(d.a)(I,2),F=T[0],D=T[1],E=Object(c.useState)({value:"tech",label:"tech"}),P=Object(d.a)(E,2),A=P[0],M=P[1],L=Object(c.useState)([{value:"crypto",label:"crypto"},{value:"buffett",label:"buffett"},{value:"tech",label:"tech"},{value:"tech2",label:"tech2"}]),B=Object(d.a)(L,1)[0],R=Object(c.useState)("QA"),H=Object(d.a)(R,2),Y=H[0],z=(H[1],Object(c.useState)(!1)),U=Object(d.a)(z,2),V=U[0],K=U[1],W=Object(c.useState)([]),X=Object(d.a)(W,2),q=X[0],G=X[1],Q=Object(c.useState)([{value:"symbol",label:"symbol",width:100}]),Z=Object(d.a)(Q,1)[0],ee=Object(c.useState)(!1),te=Object(d.a)(ee,2),ae=(te[0],te[1]),ne=Object(c.useState)(!1),re=Object(d.a)(ne,2),ce=re[0],se=re[1],ie=Object(c.useState)([]),le=Object(d.a)(ie,2),oe=le[0],ue=le[1],de=Object(c.useState)([]),be=Object(d.a)(de,2),he=(be[0],be[1]),je=Object(c.useState)([{value:"symbol",label:"symbol",width:100},{value:"rsi",label:"rsi",width:100},{value:"rsi2",label:"rsi2",width:100},{value:"rsi3",label:"rsi3",width:100},{value:"heik",label:"heik",width:100},{value:"heik2",label:"heik2",width:100},{value:"chart",label:"chart",width:100}]),fe=Object(d.a)(je,2),pe=fe[0],me=fe[1],ve=Object(c.useState)([]),Oe=Object(d.a)(ve,2),ge=Oe[0],xe=Oe[1],ye=Object(c.useState)([{value:"1d",label:"1d"},{value:"3d",label:"3d"}]),Se=Object(d.a)(ye,2),ke=Se[0],we=(Se[1],Object(c.useState)([])),Ne=Object(d.a)(we,2),Ce=Ne[0],_e=Ne[1],Ie=Object(c.useState)([]),Te=Object(d.a)(Ie,2),Fe=Te[0],De=Te[1],Ee=function(){D(!1)};Object(c.useEffect)((function(){var t=function(){var t=Object(k.a)(S.a.mark((function t(){var a,n,r,c,s;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jt(e.chart_number);case 2:(a=t.sent)&&(n=a.fields)&&(r=[],c=[],s=[],Object.keys(n).forEach((function(e){n[e].children.forEach((function(e){r.push(e.label),c.push(e.label)})),s.push(Object(J.a)({},n[e].label,c)),c=[]})),G(r),u(n),K(!V));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]),Object(c.useEffect)((function(){var e=function(){var e=Object(k.a)(S.a.mark((function e(){var t,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:A.value})},a=[],e.prev=2,e.next=5,fetch("http://3c20-23-237-32-34.ngrok.io/scanner/watchlists/",t).then((function(e){return e.json()})).then(function(){var e=Object(k.a)(S.a.mark((function e(t){var n,r,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.result,e.next=3,bt(a,"income_statement");case 3:n=e.sent,Le(n),r=[],c=[],a.forEach((function(e){var t={};pe.forEach((function(e){"chart"===e.value?t[e.value]="fetching ...":t[e.value]="0.00"})),t.symbol=e,c.push({value:e,label:e}),r.push(t)})),Re(c),he(c),ue(c),De(r),ae(!0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}();x(1),e()}),[A]),Object(c.useEffect)((function(){if(Object.keys(q).length){var e=Object($.a)(Z);q.forEach((function(t){"symbol"!==t&&e.push({value:t,label:t,width:100})})),e.push({value:"chart",label:"chart",width:100}),me(e)}}),[V]);var Pe=function(e){if(!f.length)return!1;var t=f.filter((function(t){return t.symbol===e}));return!!t.length&&!!t[0].chartData.length},Le=function(e){e.length&&e.forEach((function(e){ze(e[1],e[0])}))},Be=function(e,t){if(!f.length)return[];var a=f.filter((function(t){return t.symbol===e}));if(!a.length)return[];var n=a[0].chartData.map((function(e){return e.dataPoints.splice(0,e.dataPoints.length-50),e}));return t?n[0]:n};Object(c.useEffect)((function(){var e=[],t=!0;Fe.forEach((function(a){Ce.forEach((function(n){if(n.symbol===a.symbol){var c=Object(r.a)(Object(r.a)({symbol:n.symbol},n.data),{},{chart:Object(p.jsx)("div",{className:"container custom-container chart-area hunter-scanner-page-chart-area",children:Object(p.jsx)("div",{className:"row justify-content-center hunter-scanner-page-chart-area-wrap",children:Pe(n.symbol)?Object(p.jsx)(ja,{data:Be(n.symbol,!0),chartData:Be(n.symbol,!1),globalAggregationType:Y}):2===g?Object(p.jsx)("div",{className:"no-data",children:"No data"}):Object(p.jsx)("div",{className:"no-data",children:"Fetching..."})})})});e.push(c),t=!1}})),t&&e.push(a),t=!0})),De(e),se(!1)}),[ce]),Object(c.useEffect)((function(){var t=[],a=[],r=[];if(Object.keys(o).forEach((function(e){o[e].children.forEach((function(e){t.push(e.label),a.push(e.label)})),r.push(Object(J.a)({},o[e].label,a)),a=[]})),n){var c=oe.map((function(e){return e.value})),s={action:"create_fields",chart_number:e.chart_number,symbols:c,symbol_type:"stock",fields:r};C.send(JSON.stringify(s)),console.log("First Connection options sent to BE",s)}}),[n]);var Re=function(t){var a=[],r=[],c=[],s=o;if(Object.keys(s).forEach((function(e){s[e].children.forEach((function(e){a.push(e.label),r.push(e.label)})),c.push(Object(J.a)({},s[e].label,r)),r=[]})),n){var i=t.map((function(e){return e.value})),l={action:"crypto"===A.value?"create_fields":"change_fields",chart_number:e.chart_number,symbols:i,symbol_type:"crypto"===A.value?"crypto":"stock",fields:c};C.send(JSON.stringify(l))}},He=function(e,t){if(["rsi","rsi2","rsi3","heik","heik2"].includes(e))switch(e){case"rsi":return"buy"===t.rsi_side?"background-pink-color":"sell"===t.rsi_side?"background-orange-color":"hold"===t.rsi_side?"background-light-green-color":"background-red-color";case"rsi2":return"l_g"===t.rsi2_color?"background-light-green":"d_g"===t.rsi2_color?"background-dark-green":"l_r"===t.rsi2_color?"background-light-red":"background-dark-red";case"rsi3":return"l_g"===t.rsi3_color?"background-light-green":"d_g"===t.rsi3_color?"background-dark-green":"l_r"===t.rsi3_color?"background-light-red":"background-dark-red";case"heik":return"l_g"===t.heik1_color?"background-light-green":"d_g"===t.heik_color?"background-dark-green":"l_r"===t.heik_color?"background-light-red":"background-dark-red";case"heik2":return"l_g"===t.heik2_color?"background-light-green":"d_g"===t.heik2_color?"background-dark-green":"l_r"===t.heik2_color?"background-light-red":"background-dark-red";default:return""}return""},Ye=function(){var e=Object(k.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue(!0);case 2:se(!0),M(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Object(k.a)(S.a.mark((function e(t,a){var n,r,c,s,i,l,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={label:"Revenue",group:0,color:"rgb(25, 185, 154)",dataPoints:[]},r={label:"Cost of Revenue",group:0,color:"rgb(8, 64, 129)",dataPoints:[]},c={label:"Gross Profit",group:0,color:"rgb(127, 0, 0)",dataPoints:[]},s={label:"Ebit",group:0,color:"rgb(89, 201, 108)",dataPoints:[]},i={label:"Net Income",group:0,color:"rgb(75, 87, 74)",dataPoints:[]},l={label:"Earnings per Basic Share",group:0,color:"rgb(226, 71, 130)",dataPoints:[]},t&&t.length&&t.forEach((function(e){n.dataPoints.push({calendarDate:e.calendarDate,period:e.period,value:e.revenues}),r.dataPoints.push({calendarDate:e.calendarDate,period:e.period,value:e.costOfRevenue}),c.dataPoints.push({calendarDate:e.calendarDate,period:e.period,value:e.grossProfit}),s.dataPoints.push({calendarDate:e.calendarDate,period:e.period,value:e.EBITDAMargin}),i.dataPoints.push({calendarDate:e.calendarDate,period:e.period,value:e.netIncome}),l.dataPoints.push({calendarDate:e.calendarDate,period:e.period,value:e.earningsPerBasicShare})})),(o=f).push({symbol:a,chartData:[Ve(n),Ve(r),Ve(c),Ve(s),Ve(i),Ve(l)]}),m(o),x(2);case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(k.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C){e.next=6;break}if(!t){e.next=5;break}C.close(),e.next=6;break;case 5:return e.abrupt("return");case 6:a=new WebSocket("ws://0c99-23-237-32-34.ngrok.io"),_(a),a.onopen=function(){s(!0),console.log("Opened Connection!")},a.onmessage=function(e){try{var t=JSON.parse(e.data);_e(t),se(!0)}catch(a){console.log(a)}},a.onclose=function(){console.log("Closed Connection!")};case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){2===g&&Ue(!1)}),[g]);var Ve=function(e){var t=Object(r.a)({},e);return t.dataPoints.length>0&&t.dataPoints.sort((function(e,t){var a=e.calendarDate,n=t.calendarDate;return"string"!=typeof e.calendarDate&&(a=a.toString()),"string"!=typeof t.calendarDate&&(n=n.toString()),a.localeCompare(n)})),t};return Object(p.jsxs)("div",{className:"watch-list-item-container",children:[Object(p.jsx)(Ae.a,{show:F,className:"hunter-widget-modal",onHide:function(){return Ee()},children:Object(p.jsx)(ga,{handleModalClose:Ee,setColumns:function(t){var a=[],r=[],c=[];if(Object.keys(t).forEach((function(e){t[e].children.forEach((function(e){a.push(e.label),r.push(e.label)})),c.push(Object(J.a)({},t[e].label,r)),r=[]})),K(!V),G(a),u(t),n){var s=oe.map((function(e){return e.value})),i={action:"change_fields",chart_number:e.chart_number,symbols:s,symbol_type:"crypto"===A.value?"crypto":"stock",fields:c};C.send(JSON.stringify(i))}},selectedColumns:o})}),Object(p.jsxs)("div",{className:"watch-list-item-wrap hunter-watch-list-item-wrap",children:[Object(p.jsxs)("div",{className:"watch-list-item-header",children:[Object(p.jsx)("div",{className:"select-multi-option mr-1 ml-1",children:Object(p.jsx)(w.a,{name:"filters",placeholder:"Time Frame",value:ge,onChange:function(e){xe(e)},options:ke})}),Object(p.jsx)("div",{className:"select-multi-option mr-1",children:Object(p.jsx)(w.a,{name:"filters",placeholder:"Time Frame",value:A,onChange:Ye,options:B})}),Object(p.jsx)(b.a,{size:"sm",className:"",onClick:function(){D(!0)},children:"change columns"}),Object(p.jsx)(b.a,{size:"sm",className:"",onClick:Object(k.a)(S.a.mark((function t(){var a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=oe.map((function(e){return e.value})),t.next=3,ht(e.chart_number,a,o);case 3:t.sent,alert("Fields saved successfully!!!");case 5:case"end":return t.stop()}}),t)}))),children:"save default"})]}),Object(p.jsx)("div",{className:"watch-list-item-content",children:Object(p.jsxs)(Me.h,{hover:!0,dark:!0,maxHeight:"100%",height:"".concat(1===e.chartColumn||2===e.chartColumn?"800px":"100%"),noBottomColumns:!0,striped:!0,scrollX:!0,scrollY:!0,children:[Object(p.jsx)(Me.j,{className:"watch-list-data-table-header",children:Object(p.jsx)("tr",{children:pe.map((function(e){return Object(p.jsx)("th",{className:"".concat("chart"===e.value?"hunter-custom-table-chart-th":""),children:e.label},e.label)}))})}),Object(p.jsx)(Me.i,{className:"financial-table-body-1",children:Fe&&Fe.map((function(e){return t=e.symbol,!!oe.filter((function(e){return e.value===t})).length&&Object(p.jsx)("tr",{children:pe.map((function(t){return Object(p.jsx)("td",{className:"hunter-financial-table-column ".concat("chart"===t.value?"table-chart-column":""," ").concat(He(t.value,e)),children:(a=e[t.value],isNaN(parseFloat(a))?e[t.value]:e[t.value]||""===e[t.value]?parseFloat(e[t.value]).toFixed(2):"")},"".concat(e.symbol,"-").concat(t.value));var a}))},"row-".concat(e.symbol));var t}))})]})})]})]})}),ya=function(e){var t,n=fe(),r=e.selectedInstance,i=Object(u.g)(),l=s.a.useState(!1),h=Object(d.a)(l,1)[0],j=Object(c.useState)({value:6,label:"6"}),f=Object(d.a)(j,2),m=f[0],v=f[1],O=Object(c.useState)(JSON.parse(localStorage.getItem("user-info"))),g=Object(d.a)(O,1)[0];Object(c.useEffect)((function(){return ve.a.on(),function(){ve.a.off()}}),[]);var x=function(){return 1===m.value?12:2===m.value||4===m.value?6:4};return Object(p.jsxs)("div",{className:"hunter-chart-container",children:[Object(p.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark hunter-nav-bar",children:[Object(p.jsx)("div",{className:"logo-title",children:Object(p.jsx)("a",{href:"/chart",className:"hunter-navbar-brand",children:"Violette AM - Client Portal"})}),(g.is_admin||(null===(t=g.role)||void 0===t?void 0:t.length))&&Object(p.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(o.b,{to:"/chart",className:"nav-link"})}),Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{value:m,onChange:function(e){v(e)},options:[{value:1,label:"1"},{value:2,label:"2"},{value:4,label:"4"},{value:6,label:"6"}],placeholder:"Columns"})})]}),Object(p.jsx)(b.d,{navbar:!0,isOpen:h,children:Object(p.jsxs)(b.l,{className:"ml-auto",navbar:!0,children:[Object(p.jsxs)(b.o,{children:[Object(p.jsxs)(b.h,{caret:!0,color:"default",nav:!0,onClick:function(e){return e.preventDefault()},children:[Object(p.jsx)("div",{className:"photo",children:Object(p.jsx)("img",{alt:"...",src:a(90).default})}),Object(p.jsx)("p",{className:"d-lg-none",children:"Log out"})]}),Object(p.jsxs)(b.g,{className:"dropdown-navbar",right:!0,tag:"ul",children:[Object(p.jsx)(b.f,{divider:!0,tag:"li"}),Object(p.jsx)(b.m,{tag:"li",children:Object(p.jsx)(b.f,{className:"nav-item",onClick:function(){n.signout(),i.push("/login")},children:"Log out"})})]})]}),Object(p.jsx)("li",{className:"separator d-lg-none"})]})})]}),g.is_admin||(null===g||void 0===g?void 0:g.role.length)?"stress_test"===r||"optimization"===r?Object(p.jsx)("div",{className:"development-in-content dark",children:"In development"}):Object(p.jsx)("div",{className:"graphs-container dark",children:Object(p.jsxs)("div",{className:"row ".concat(1===m.value||2===m.value?"full-height":"half-height"),children:[Object(p.jsx)("div",{className:"watch-list col-sm-12 col-md-".concat(x()," graph-container"),children:Object(p.jsx)(xa,{chart_number:1,chartColumn:m.value})}),Object(p.jsx)("div",{className:"watch-list col-sm-12 col-md-".concat(x()," graph-container"),children:Object(p.jsx)(xa,{chart_number:2,chartColumn:m.value})}),Object(p.jsx)("div",{className:"watch-list col-sm-12 col-md-".concat(x()," graph-container"),children:Object(p.jsx)(xa,{chart_number:3,chartColumn:m.value})}),Object(p.jsx)("div",{className:"watch-list col-sm-12 col-md-".concat(x()," graph-container"),children:Object(p.jsx)(xa,{chart_number:4,chartColumn:m.value})}),Object(p.jsx)("div",{className:"watch-list col-sm-12 col-md-".concat(x()," graph-container"),children:Object(p.jsx)(xa,{chart_number:5,chartColumn:m.value})}),Object(p.jsx)("div",{className:"watch-list col-sm-12 col-md-".concat(x()," graph-container"),children:Object(p.jsx)(xa,{chart_number:6,chartColumn:m.value})})]})}):Object(p.jsx)("div",{className:"development-in-content dark",children:"No Permission"})]})};var Sa=function(){var e=s.a.useState(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],r=s.a.useState("macket_watch"),c=Object(d.a)(r,2),i=c[0],l=c[1],o=function(){n(!a)},u=function(e){l(e)};return Object(p.jsx)(f.Consumer,{children:function(e){e.color;return Object(p.jsx)(s.a.Fragment,{children:Object(p.jsxs)("div",{className:"wrapper hunter-wrapper",children:[!a&&Object(p.jsx)(b.a,{className:"show-sidebar-toggle-area show-sidebar-icon",onClick:o,children:Object(p.jsx)("i",{className:"tim-icons icon-align-left-2"})}),a&&Object(p.jsx)(O,{isAdminPage:!1,routes:g,selectedInstance:i,handleSidebarChange:o,handleInstanceChange:u}),Object(p.jsx)("div",{className:"col-sm-12 hunter-watch-list-area",children:Object(p.jsx)(ya,{})})]})})}})},ka=function(){var e=fe(),t=Object(u.g)(),n=s.a.useState(!1),r=Object(d.a)(n,1)[0],i=s.a.useState(null),l=Object(d.a)(i,2),h=l[0],j=l[1],f=Object(c.useState)(null),m=Object(d.a)(f,2),v=m[0],O=m[1],g=Object(c.useState)(null),x=Object(d.a)(g,2),y=x[0],N=x[1],C=Object(c.useState)([]),_=Object(d.a)(C,2),I=_[0],T=_[1],F=Object(c.useState)([]),D=Object(d.a)(F,2),E=D[0],P=D[1],A=Object(c.useState)([]),M=Object(d.a)(A,2),L=M[0],B=M[1],R=Object(c.useState)([]),H=Object(d.a)(R,2),Y=H[0],z=(H[1],Object(c.useMemo)((function(){return[{label:"Industry",field:"industry",width:200,attributes:{"aria-controls":"DataTable","aria-label":"symbol"}},{label:"Sector",field:"sector",width:200},{label:"Exchange",field:"exchange",width:200},{label:"Country",field:"country",width:200},{label:"Market Cap",field:"marketcap",width:200},{label:"Cik Id",field:"cik"}]}),[])),U=s.a.useState({columns:z,rows:Y}),V=Object(d.a)(U,2),K=V[0],J=V[1];Object(c.useEffect)((function(){var e=function(){var e=Object(k.a)(S.a.mark((function e(){var t,a,n,r,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft();case 2:return(t=e.sent).length&&J({columns:z,rows:t}),e.next=6,pt();case 6:(a=e.sent).success&&(n=[{value:"",label:"All"}],a.result.exchanges.map((function(e){if(""===e)return null;n.push({value:e,label:e})})),r=[{value:"",label:"All"}],a.result.industry.map((function(e){""!==e&&null!==e&&r.push({value:e,label:e})})),c=[{value:"",label:"All"}],a.result.sector.forEach((function(e){""!==e&&null!==e&&c.push({value:e,label:e})})),T(n),B(r),P(c));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var W=function(){var e=Object(k.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(t),e.next=3,ft(h?h.value:"",y?y.value:"",t.value);case 3:(a=e.sent).length&&J({columns:z,rows:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(k.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(t),e.next=3,ft(t.value,y?y.value:"",v?v.value:"");case 3:(a=e.sent).length&&J({columns:z,rows:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(k.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(t),e.next=3,ft(h?h.value:"",t.value,v?v.value:"");case 3:a=e.sent,J({columns:z,rows:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"hunter-chart-container",children:[Object(p.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark hunter-nav-bar",children:[Object(p.jsx)("div",{className:"logo-title",children:Object(p.jsx)("a",{href:"/chart",className:"hunter-navbar-brand",children:"Violette AM - Client Portal"})}),Object(p.jsx)("div",{className:"navbar-nav mr-auto",children:Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(o.b,{to:"/chart",className:"nav-link"})})}),Object(p.jsx)(b.d,{navbar:!0,isOpen:r,children:Object(p.jsxs)(b.l,{className:"ml-auto",navbar:!0,children:[Object(p.jsxs)(b.o,{nav:!0,children:[Object(p.jsxs)(b.h,{caret:!0,color:"default",nav:!0,onClick:function(e){return e.preventDefault()},children:[Object(p.jsx)("div",{className:"photo",children:Object(p.jsx)("img",{alt:"...",src:a(90).default})}),Object(p.jsx)("p",{className:"d-lg-none",children:"Log out"})]}),Object(p.jsxs)(b.g,{className:"dropdown-navbar",right:!0,tag:"ul",children:[Object(p.jsx)(b.f,{divider:!0,tag:"li"}),Object(p.jsx)(b.m,{tag:"li",children:Object(p.jsx)(b.f,{className:"nav-item",onClick:function(){e.signout(),t.push("/login")},children:"Log out"})})]})]}),Object(p.jsx)("li",{className:"separator d-lg-none"})]})})]}),Object(p.jsxs)("div",{className:"col-sm-12 hunter-data-table-container scanner-page-container",children:[Object(p.jsx)("div",{className:"hunter-data-table-title",children:"Scanner Table"}),Object(p.jsxs)("div",{className:"hunter-search-filter-area",children:[Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{value:h,onChange:X,options:I,placeholder:"Exchange"})}),Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{value:v,onChange:W,options:E,placeholder:"Sector"})}),Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{value:y,onChange:q,options:L,placeholder:"Industry"})})]}),Object(p.jsx)(Me.c,{hover:!0,maxHeight:"500px",entriesOptions:[10,25,50,100],entries:10,pagesAmount:4,data:K,dark:!0,noBottomColumns:!0,small:!0,striped:!0,scrollY:!0}),";"]})]})};var wa=function(){var e=s.a.useState(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],r=s.a.useState("scanner"),c=Object(d.a)(r,2),i=c[0],l=c[1],o=function(){n(!a)},u=function(e){l(e)};return Object(p.jsx)(f.Consumer,{children:function(e){e.color;return Object(p.jsx)(s.a.Fragment,{children:Object(p.jsxs)("div",{className:"wrapper hunter-wrapper",children:[!a&&Object(p.jsx)(b.a,{className:"show-sidebar-toggle-area show-sidebar-icon",onClick:o,children:Object(p.jsx)("i",{className:"tim-icons icon-align-left-2"})}),a&&Object(p.jsx)(O,{isAdminPage:!1,routes:g,subInstance:"tradedatatable",selectedInstance:i,handleSidebarChange:o,handleInstanceChange:u}),Object(p.jsx)("div",{className:"col-sm-12",children:Object(p.jsx)(ka,{})})]})})}})},Na=function(e){Object(I.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(N.a)(this,a),(n=t.call(this,e)).state={series:n.getSeries(),options:{chart:{height:350,type:"line",zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{show:!0,curve:"smooth",lineCap:"butt",colors:void 0,width:2,dashArray:0},title:{text:e.isPercent?"Percent Gain/Lost":"Efficiency",align:"left",style:{fontSize:"18px",fontWeight:"bold",color:"#FFFFFF"}},grid:{show:!1},xaxis:{categories:n.getCategories(),labels:{show:!0,style:{colors:"#FFFFFF"},formatter:function(e,t){return ne.a.utc(e).format("MM/DD hh:mm")}},datetimeUTC:!0},yaxis:{labels:{show:!0,style:{colors:"#FFFFFF"},formatter:function(e){return e.toFixed(2)}},axisBorder:{show:!0},min:n.getMinValue(),max:n.getMaxValue()},legend:{show:!0,labels:{colors:["#FFFFFF"]},position:"top"}}},n}return Object(C.a)(a,[{key:"getSeries",value:function(){var e=this,t=[];return this.props.chartData.map((function(a){for(var n in a)t.push({name:n,data:a[n].map((function(t){return e.props.isPercent?t.percent:t.efficiency}))});return null})),t}},{key:"componentDidUpdate",value:function(e){e.chartData!==this.props.chartData&&this.setState({series:this.getSeries(),options:{xaxis:{categories:this.getCategories(),labels:{show:!0,style:{colors:"#FFFFFF"},formatter:function(e){return ne.a.utc(e).format("MM/DD hh:mm")}},datetimeUTC:!0},yaxis:{labels:{show:!0,style:{colors:"#FFFFFF"},formatter:function(e){return e},min:this.getMinValue(),max:this.getMaxValue()},axisBorder:{show:!0}}}})}},{key:"getMinValue",value:function(){var e=this,t=[];return this.props.chartData.map((function(a){for(var n in a){var r=a[n].map((function(t){return e.props.isPercent?t.percent:t.efficiency}));t.push(Math.min.apply(Math,Object($.a)(r)))}return null})),Math.min.apply(Math,t)}},{key:"getMaxValue",value:function(){var e=this,t=[];return this.props.chartData.map((function(a){for(var n in a){var r=a[n].map((function(t){return e.props.isPercent?t.percent:t.efficiency}));t.push(Math.max.apply(Math,Object($.a)(r)))}return null})),Math.max.apply(Math,t)}},{key:"getCategories",value:function(){return this.props.chartData.map((function(e){for(var t in e)return e[t].map((function(e){return e.date}));return[]}))[0]}},{key:"render",value:function(){return Object(p.jsx)("div",{id:"chart",children:Object(p.jsx)(te.a,{options:this.state.options,series:this.state.series,type:"line",height:350})})}}]),a}(s.a.Component),Ca=function(e){var t=function(e,t){for(var a=[],n=0;n<e;n++){var r=Math.ceil(t.min),c=Math.floor(t.max);a.push(Math.floor(Math.random()*(c-r)+r))}return a},a=Object(c.useState)([]),n=Object(d.a)(a,2),r=n[0],s=n[1],i=Object(c.useState)({chart:{height:350,type:"heatmap"},dataLabels:{enabled:!1},stroke:{width:1},colors:["#008FFB"],title:{align:"center",text:"HeatMap Chart Per Symbols",style:{color:"#FFFFFF"}}}),l=Object(d.a)(i,2),o=l[0];l[1];return Object(c.useEffect)((function(){if(e.multiSymbol&&e.multiSymbol.length){var a=e.multiSymbol.map((function(e){return{name:e.value,data:t(20,{min:-30,max:55})}}));console.log("props.symbols",a),s(a)}}),[e.multiSymbol]),Object(p.jsx)("div",{id:"chart",children:Object(p.jsx)(te.a,{options:o,series:r,type:"heatmap",height:350})})},_a=function(e,t){return e.map((function(e){return t?e.avgWinning/100:e.winning}))},Ia=function(e,t){return e.map((function(e){return t?e.avgLosing/100:e.losing}))},Ta=function(e){return e.map((function(e){return e.symbol}))},Fa=function(e,t){return{chart:{type:"bar",width:"100%",toolbar:{show:!1},events:{click:function(e,t,a){console.log("clicked")}}},states:{normal:{filter:{type:"none"}},active:{filter:{type:"darken",value:.35}}},colors:["#00ff00","rgba(255,0,0, ".concat(.5,")")],title:{text:t?"Winning & Losing Avg Percent":"Wining & Losing Trades",align:"left",offsetX:8,offsetY:-2,style:{fontSize:"16px",color:"#FFFFFF"}},plotOptions:{bar:{endingShape:"rounded",columnWidth:"75%",barHeight:"100%",dataLabels:{position:"top"}}},dataLabels:{enabled:!0,offsetY:-20,style:{fontSize:"16px",colors:["#FFFFFF","#FFFFFF"]},formatter:function(e,a){return t?e.toFixed(5):0|e}},stroke:{show:!0,width:1,colors:["#fff"]},xaxis:{categories:Ta(e),labels:{show:!0,style:{colors:"#FFFFFF"}}},grid:{show:!1},yaxis:{labels:{show:!0,style:{colors:"#FFFFFF"},formatter:function(e){return t?e.toFixed(5):0|e}},axisBorder:{show:!0}},tooltip:{enabled:!0},legend:{position:"top",horizontalAlign:"right",offsetY:-50,fontSize:"14px",labels:{colors:"#FFFFFF"},markers:{width:16,height:16,radius:4},itemMargin:{horizontal:5,vertical:5},onItemHover:{highlightDataSeries:!0}}}};function Da(e){var t=e.data,a=e.isAverage,n=Object(c.useState)(Fa(t,a)),r=Object(d.a)(n,2),s=r[0],i=r[1],l=Object(c.useState)([{data:_a(t,a)},{data:Ia(t,a)}]),o=Object(d.a)(l,2),u=o[0],b=o[1];return Object(c.useEffect)((function(){i(Fa(t,a)),b([{name:a?"Winning Average":"Winning",data:_a(t,a)},{name:a?"Losing Average":"Losing",data:Ia(t,a)}])}),[t,a]),Object(p.jsx)("div",{id:"chart",children:Object(p.jsx)(te.a,{options:s,series:u,type:"bar",width:"100%",height:400})})}var Ea=function(e){Object(I.a)(a,e);var t=Object(T.a)(a);function a(){return Object(N.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.multiSymbol;return null==t?Object(p.jsx)("div",{children:"Loading..."}):Object(p.jsxs)("div",{children:[Object(p.jsx)(Ca,{multiSymbol:a}),Object(p.jsx)(Na,{chartData:t.percentEfficiency,isPercent:!0}),Object(p.jsx)(U.TypeChooser,{children:function(e){return Object(p.jsx)(Da,{type:e,data:t.winningLosing,isAverage:!1})}}),Object(p.jsx)(U.TypeChooser,{children:function(e){return Object(p.jsx)(Da,{type:e,data:t.winningLosingAvg,isAverage:!0})}}),Object(p.jsx)(Na,{chartData:t.percentEfficiency,isPercent:!1})]})}}]),a}(s.a.Component);Ea.defaultProps={type:"svg"};var Pa=Ea=Object(U.fitWidth)(Ea),Aa=function(e){var t=e.strategy,a=e.chartPeriod,n=e.multiSymbol,r=e.microStrategy,s=e.startDate,i=e.endDate,l=Object(c.useState)(null),o=Object(d.a)(l,2),u=o[0],b=o[1];Object(c.useEffect)((function(){n.length&&function(){var e=n.map((function(e){return e.value}));if(!(!e.length|!r)){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbols:e,macro:t.value,micro:r.value,start_date:s,end_date:i})};try{fetch("http://3c20-23-237-32-34.ngrok.io/api/get_backtesting_result",a).then((function(e){return e.json()})).then((function(e){b(e.chart_data)}))}catch(c){console.log(c)}}}()}),[n,r,s,i,t]);var h;return Object(p.jsx)(p.Fragment,{children:null==u?Object(p.jsx)("div",{children:"Loading..."}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"select-wrape",children:Object(p.jsx)("div",{children:Object(p.jsxs)("strong",{children:[a," [NASDAQ]"]})})}),Object(p.jsx)(Pa,{type:h,data:u,multiSymbol:n})]})})},Ma=function(){var e=fe(),t=Object(u.g)(),n=s.a.useState(!1),r=Object(d.a)(n,1)[0],i=Object(c.useState)({value:"2min",label:"2min"}),l=Object(d.a)(i,2),h=l[0],j=l[1],f=Object(c.useState)([{value:"2min",label:"2min"},{value:"12min",label:"12min"}]),m=Object(d.a)(f,1)[0],v=Object(c.useState)({value:"Optimization",label:"Optimization"}),O=Object(d.a)(v,1)[0],g=Object(c.useState)([]),x=Object(d.a)(g,2),y=x[0],N=x[1],C=Object(c.useState)(null),_=Object(d.a)(C,2),I=_[0],T=_[1],F=Object(c.useState)([]),D=Object(d.a)(F,2),E=D[0],P=D[1],A=Object(c.useState)(null),M=Object(d.a)(A,2),L=M[0],B=M[1],R=Object(c.useState)(!1),H=Object(d.a)(R,2),Y=H[0],z=H[1],U=Object(c.useState)(""),V=Object(d.a)(U,2),K=V[0],J=V[1],W=Object(c.useState)(""),X=Object(d.a)(W,2),q=X[0],G=X[1],Q=Object(c.useState)([]),Z=Object(d.a)(Q,2),$=Z[0],ee=Z[1],te=Object(c.useState)([]),ae=Object(d.a)(te,2),ne=ae[0],re=ae[1],ce=Object(c.useState)([]),se=Object(d.a)(ce,2),ie=se[0],le=se[1],oe=Object(c.useCallback)((function(){fetch("http://3c20-23-237-32-34.ngrok.io/api/get_strategy_list").then((function(e){return e.json()})).then((function(e){ee(e.result);var t=e.result.map((function(e){return{value:e.macro,label:e.macro}}));le(t),T(t[0]),e.result.length&&e.result.forEach((function(e){if(e.macro){var t=e.micro.map((function(e){return{value:e,label:e}}));re(t),B(t[0]);var a=e.symbols.map((function(e){return{value:e,label:e}}));P(a)}}))}))}),[]);Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user-info"));return(e.is_admin||e.role.length)&&oe(),ve.a.on(),function(){ve.a.off()}}),[oe]),Object(c.useEffect)((function(){!Y&&I&&(!function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({strategy:I.value})};fetch("http://3c20-23-237-32-34.ngrok.io/api/tables",e).then((function(e){return e.json()})).then((function(e){var t=[];e.tables.map((function(e){return t.push({value:e,label:e}),null})),P(t),N([t[0]])}))}(),z(!0))}),[Y,z,I]);var ue=function(){var e=Object(k.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(T(t),$.length&&$.forEach((function(e){if(e.macro===t.value){var a=e.micro.map((function(e){return{value:e,label:e}}));re(a),a.filter((function(e){return"2m"===e.value})).length?B({value:"2m",label:"2m"}):B(a[2]);var n=e.symbols.map((function(e){return{value:e,label:e}}));P(n),N([n[0]])}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"hunter-chart-container",children:[Object(p.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark hunter-nav-bar",children:[Object(p.jsx)("div",{className:"logo-title",children:Object(p.jsx)("a",{href:"/chart",className:"hunter-navbar-brand",children:"Violette AM - Client Portal"})}),Object(p.jsxs)("div",{className:"navbar-nav ma-auto hunter-nav-bar-nav",children:[Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(o.b,{to:"/chart",className:"nav-link"})}),Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{value:h,onChange:function(e){j(e)},options:m,placeholder:"Time Frame"})}),Object(p.jsx)("div",{className:"select-multi-option hunter-multi-select-checkboxes",children:Object(p.jsx)(xe.a,{options:E,value:y,onChange:function(e){N(e)}})}),Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{value:I,onChange:ue,options:ie,placeholder:"Macro Strategy"})}),Object(p.jsx)("div",{className:"select-option",children:Object(p.jsx)(w.a,{name:"filters",placeholder:"Micro Strategy",value:L,onChange:function(e){B(e)},options:ne})}),Object(p.jsx)("div",{className:"date hunter-item-chart hunter-date-time-picker",id:"datetimepicker1",children:Object(p.jsx)(we,{selectDateRange:function(e,t){J(e),G(t)}})})]}),Object(p.jsx)(b.d,{navbar:!0,isOpen:r,children:Object(p.jsxs)(b.l,{className:"ml-auto",navbar:!0,children:[Object(p.jsxs)(b.o,{children:[Object(p.jsxs)(b.h,{caret:!0,color:"default",nav:!0,onClick:function(e){return e.preventDefault()},children:[Object(p.jsx)("div",{className:"photo",children:Object(p.jsx)("img",{alt:"...",src:a(90).default})}),Object(p.jsx)("p",{className:"d-lg-none",children:"Log out"})]}),Object(p.jsxs)(b.g,{className:"dropdown-navbar",right:!0,tag:"ul",children:[Object(p.jsx)(b.f,{divider:!0,tag:"li"}),Object(p.jsx)(b.m,{tag:"li",children:Object(p.jsx)(b.f,{className:"nav-item",onClick:function(){e.signout(),t.push("/login")},children:"Log out"})})]})]}),Object(p.jsx)("li",{className:"separator d-lg-none"})]})})]}),Object(p.jsx)("div",{className:"graphs-container dark",children:L&&Object(p.jsx)(Aa,{selectedInstance:O.value,microStrategy:L,multiSymbol:y,strategy:I,isHomePage:!1,startDate:K,endDate:q})})]})};var La=function(){var e=s.a.useState(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],r=s.a.useState("macket_watch"),c=Object(d.a)(r,2),i=c[0],l=c[1],o=function(){n(!a)},u=function(e){l(e)};return Object(p.jsx)(f.Consumer,{children:function(e){e.color;return Object(p.jsx)(s.a.Fragment,{children:Object(p.jsxs)("div",{className:"wrapper hunter-wrapper",children:[!a&&Object(p.jsx)(b.a,{className:"show-sidebar-toggle-area show-sidebar-icon",onClick:o,children:Object(p.jsx)("i",{className:"tim-icons icon-align-left-2"})}),a&&Object(p.jsx)(O,{isAdminPage:!1,routes:g,selectedInstance:i,handleSidebarChange:o,handleInstanceChange:u}),Object(p.jsx)("div",{className:"col-sm-12 hunter-watch-list-area",children:Object(p.jsx)(Ma,{})})]})})}})};l.a.render(Object(p.jsx)($t,{children:Object(p.jsx)(ea,{children:Object(p.jsx)(pe,{children:Object(p.jsx)(o.a,{children:Object(p.jsxs)(u.d,{children:[Object(p.jsx)(na,{path:"/admin/usermanage",children:Object(p.jsx)(gt,{})}),Object(p.jsx)(na,{path:"/admin/linkmanage",children:Object(p.jsx)(xt,{})}),Object(p.jsx)(na,{path:"/admin",children:Object(p.jsx)(gt,{})}),Object(p.jsx)(u.b,{path:"/login",render:function(e){return Object(p.jsx)(Te,Object(r.a)({},e))}}),Object(p.jsx)(u.b,{path:"/signup",render:function(e){return Object(p.jsx)(ra,Object(r.a)({},e))}}),Object(p.jsx)(u.b,{path:"/verify",render:function(e){return Object(p.jsx)(ca,Object(r.a)({},e))}}),Object(p.jsx)(u.b,{path:"/forgot_password",render:function(e){return Object(p.jsx)(la,Object(r.a)({},e))}}),Object(p.jsx)(u.b,{path:"/password-reset-confirm/:uuid/:token",render:function(e){return Object(p.jsx)(oa,Object(r.a)({},e))}}),Object(p.jsx)(na,{path:"/botmanagement",children:Object(p.jsx)(qt,{})}),Object(p.jsx)(na,{path:"/floats",children:Object(p.jsx)(ia,{})}),Object(p.jsx)(na,{path:"/macket_watch",children:Object(p.jsx)(Sa,{})}),Object(p.jsx)(na,{path:"/optimization",children:Object(p.jsx)(La,{})}),Object(p.jsx)(na,{path:"/pricedatatable",children:Object(p.jsx)(St,{})}),Object(p.jsx)(na,{path:"/tradedatatable",children:Object(p.jsx)(wt,{})}),Object(p.jsx)(na,{path:"/hybrid_view",children:Object(p.jsx)(_t,{})}),Object(p.jsx)(na,{path:"/financial_data",children:Object(p.jsx)(Yt,{})}),Object(p.jsx)(na,{path:"/scanner",children:Object(p.jsx)(wa,{})}),Object(p.jsx)(na,{path:"/",children:Object(p.jsx)(Ce,{})})]})})})})}),document.getElementById("root"))},90:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/anime3.4438e506.png"}},[[783,1,2]]]);
//# sourceMappingURL=main.1856e012.chunk.js.map