{"version":3,"sources":["components/Sidebar/Sidebar.js","contexts/BackgroundColorContext.js","components/Dropdown/Dropdown.js","routes.js","components/Interactiveutils.js","components/trades-chart/TradesChart.js","components/performance-chart/MultiLineChart.js","components/performance-chart/GroupBarChart.js","components/performance-chart/PerformanceChart.js","components/stock-chart/StockChart.js","contexts/authContext.js","layouts/User/HomePage.js","components/HeiknStockChart.js","components/MultiRangeSlider/MultiRangeSlider.js","components/ItemChart.js","utils/helper.js","layouts/User/Login.js","components/Navbars/AdminNavbar.js","layouts/Admin/Admin.js","layouts/Admin/UserManage.js","api/Api.js","layouts/Admin/LinkManage.js","components/Datatable/PriceDataTable.js","layouts/User/PriceData.js","components/Datatable/TradeDataTable.js","layouts/User/TradeData.js","components/HybridViewChartTable/HybridViewTable.js","components/HybridViewChartTable/HybridViewChartTable.js","layouts/User/HybridView.js","components/FinancialDashboard/Header.js","components/FinancialDashboard/BarChart/interactiveutils.js","components/FinancialDashboard/BarChart/Chart.js","components/FinancialDashboard/ChartTools.js","components/FinancialDashboard/BarChart/index.js","components/FinancialDashboard/GraphTypes.js","components/FinancialDashboard/StockTypes.js","components/FinancialDashboard/FinancialDataTable.js","components/FinancialDashboard/FinancialStatementsDataTable.js","layouts/User/FinancialDashboard.js","components/TextEditor/Editor.js","components/SystemFileManager/FileManager.js","contexts/ThemeContext.js","components/ThemeWrapper/ThemeWrapper.js","components/BackgroundColorWrapper/BackgroundColorWrapper.js","layouts/Auth/PrivateRoute.js","layouts/User/SignUp.js","layouts/User/Verify.js","components/Floats/FloatsComponent.js","layouts/User/Floats.js","layouts/User/ForgotPassword.js","layouts/User/PasswordResetConfirm.js","components/FinancialDashboard/SmallBarChart/interactiveutils.js","components/FinancialDashboard/SmallBarChart/Chart.js","components/FinancialDashboard/SmallBarChart/index.js","components/WatchListEditColumnWidget/components/modal/dropDown/index.js","components/WatchListEditColumnWidget/components/modal/Widget.js","components/WatchListEditColumnWidget/WatchListEditColumnWidget.js","components/WatchListItem/WatchListItem.js","components/WatchList.js","layouts/User/MacketWatch.js","components/Scanner/ScannerComponent.js","layouts/User/Scanner.js","components/optimization-chart/MultiLineChart.js","components/optimization-chart/HeatMapChart.js","components/optimization-chart/GroupBarChart.js","components/optimization-chart/OptimizationChartItem.js","components/optimization-chart/OptimizationChart.js","components/optimization-chart/OptimizationChartPage.js","layouts/User/Optimization.js","index.js","assets/img/anime3.png"],"names":["ps","backgroundColors","BackgroundColorContext","createContext","color","changeColor","Dropdown","props","items","title","icon","instance","handleClick","isActive","subInstance","useState","isOpen","setOpen","className","onClick","map","item","e","pathname","id","label","Sidebar","history","useHistory","sidebarRef","React","useRef","JSON","parse","localStorage","getItem","user","userRole","setUserRole","useEffect","role","navigator","platform","indexOf","PerfectScrollbar","current","suppressScrollX","suppressScrollY","destroy","handleInstanceChange","locationState","initInstance","push","state","isAdminPage","routes","selectedInstance","handleSidebarChange","Consumer","data","ref","prop","key","name","is_admin","includes","defaultProps","rtlActive","adminRoutes","saveInteractiveNodes","type","chartId","node","isNotDefined","interactiveNodes","getInteractiveNodes","this","rsiAppearance","stroke","macd","signal","fille","bearPower","CandleStickChartWithEquidistantChannel","handleEvents","handleZoom","hideTextLabel","addTextLable","bind","onKeyPress","onDrawComplete","saveInteractiveNode","saveCanvasNode","handleSelection","enableInteractiveObject","x","y","channels_1","channels_3","valueText","dateText","status","isFullChart","canvasNode","document","addEventListener","subscribe","listener","unsubscribe","removeEventListener","setState","formatter","Intl","DateTimeFormat","month","formatterW","weekday","month2","format","datum","date","week2","dateElem","getDate","getFullYear","high","action","interactives","toObject","each","objects","indicator","indicators","filter","value","length","keyCode","which","console","log","selected","cancelDrag","terminate","isHomePage","index","isIncludeIndicators","ema20","ema","options","windowSize","merge","d","c","accessor","ema50","ha","heikinAshi","macdCalculator","fast","slow","atr14","atr","initialData","width","ratio","chartColumn","extendMarketTime","forEach","line","dayjs","toDate","calculatedData","discontinuousTimeScaleProvider","inputDateAccessor","xScaleProvider","xScale","xAccessor","displayXAccessor","defaultAnnotationProps","longAnnotationProps","yScale","low","calculateTooltipOffset0","fill","path","buyPath","tooltip","trades","trade","longShort","price","trade_date","replace","shortAnnotationProps","calculateTooltipOffset1","sellPath","xExtents","last","Math","max","xDisplayFormatProps","xDisplayFormat","timeFormat","ohlcFormat","volumeFormat","percentFormat","displayTexts","xDisplayFormatProps1","o","h","l","v","na","xDisplayFormatProps2","symbol","SMATooltipProps","valueFill","height","calculateHeight","margin","left","right","top","bottom","seriesName","redraw","yExtents","padding","axisAt","orient","tickStroke","ticks","at","displayFormat","close","open","wickStroke","origin","with","SvgPathAnnotation","when","strategy","microStrategy","usingProps","volume","w","calculateMainHeightOffset","tickFormat","yAccessor","rsi","calculateOffset","baseAt","side","yValue","yLabel","yDisplayFormat","appearance","rsi2","rsi3","heik","heik2","enabled","drawingObjectMap","EquidistantChannel","onSelect","classes","CandleChart","rx","ry","CandleChart_type_date","textAnchor","dy","CandleChart_type_value","Component","fitWidth","withStyles","fontSize","borderRadius","fontWeight","deal_green_shadowed","textShadow","deal_red_shadowed","MultiLineChart","series","getSeries","chart","zoom","dataLabels","show","curve","lineCap","colors","undefined","dashArray","text","isPercent","align","style","grid","xaxis","categories","getCategories","labels","val","opt","moment","utc","datetimeUTC","yaxis","toFixed","axisBorder","min","getMinValue","getMaxValue","legend","position","chartData","property","percent","efficiency","prevProps","rows","getWiningData","isAverage","avgWinning","winning","getLosingData","avgLosing","losing","getSymbols","optionCreator","toolbar","events","click","event","chartContext","config","states","normal","active","offsetX","offsetY","plotOptions","bar","endingShape","columnWidth","barHeight","opts","horizontalAlign","markers","radius","itemMargin","horizontal","vertical","onItemHover","highlightDataSeries","GroupApexBar","setOptions","setSeries","PerformanceChart","mainData","percentEfficiency","winningLosing","winningLosingAvg","StockChart","viewType","multiSymbol","selectedTradeDB","selectedSymbolType","chartPeriod","startDate","endDate","dbname","setDbname","setChartData","requestOptions","method","headers","body","stringify","apiName","fetch","process","then","response","json","converDate","Date","error","symbols","get_data","displayChart","authContext","authUser","isAuthenticated","signin","email","password","formData","username","res","user_id","Error","success","catch","err","signup","password1","password2","first_name","last_name","signup_path","verify","userId","code","num","signout","removeItem","useAuth","useContext","ProvideAuth","children","auth","a","useProvideAuth","Provider","HeiknStockChart","handleChartRedirect","setSymbol","setIndicators","isShowMicro","setIsShowMicro","symbolList","setSymbolList","isGetSymbolList","collapseOpen","setChartColumn","selectedViewType","setSelectedViewType","setMicroStrategy","setStrategy","strategyList","setStrategyList","setExtendMarketTime","optionsViewTypes","setOptionsViewTypes","optionsMicroStrategy","setOptionsMicroStrategy","optionsStratgy","setOptionsStrategy","optionsIndicator","setOptionsIndicator","optionsMarketTime","getStrategyList","useCallback","result","strategyOptions","macro","microStrategyOptions","micro","symbolOptions","get_tables","temp_data","tables","disableScroll","on","off","handleStrategy","calculateGridColumn","href","to","onChange","initStrategy","initMicroStrategy","initIndicators","initSymbol","placeholder","isMulti","option","navbar","caret","nav","preventDefault","alt","src","require","default","tag","divider","selectDateRange","startedDate","subtract","endedDate","tradeStartDate","setTradeStartDate","tradeEndDate","setTradeEndDate","handleDateRangeChange","rangeValue","isFlag","add","Form","Group","as","Row","disabled","defaultValue","step","onAfterChange","HeiknStockChartItem","location","setMultiSymbol","apiFlag","setApiFlag","handleStrategyChange","MultiRangeSlider","HomePage","setIsHomePage","isShowSidebar","setShowSidebar","setSelectedInstance","useLocation","mainPanelRef","documentElement","classList","remove","querySelectorAll","i","scrollTop","scrollingElement","flag","Fragment","validateEmail","test","String","toLowerCase","currentDateString","getMonth","day","Login","setError","isLoading","setIsLoading","message","setMessage","setEmail","setPassword","login","alert","historyState","target","handleEmailChange","required","handlePasswordChange","htmlFor","AdminNavbar","modalSearch","setmodalSearch","setcolor","window","updateColor","innerWidth","toggleModalSearch","classNames","expand","fluid","modalClassName","toggle","Admin","filterPriceData","timeFrame","candles","filterTradesData","macroStrategy","trades_data","macro_strategy","micro_strategy","quantity","getAllSymbols","createSignUpLink","roles","link","getActiveLinks","sendSignUpLink","forgotPassword","url","passwordConfirmReset","getModuleTypeNames","getFileTypeNames","moduleType","param_type","convertArraytoString","dest","comma","convertStringtoArray","split","transformingProcessConfigToQuery","settings","bot_name","timeframe","watchlist","position_sizing","order_routing","data_source","live_trading","starting_cash","hours","indicator_signalling","asset_class","saveConfigFile","config_collection","saveScriptFile","filename","content","isUpdate","isCheckedStrategy","isStrategyScript","api","getUserList","updateUserRole","deleteUser","getConfigFileList","collection","getConfigFileDetail","getBotStatusList","updateBotStatus","botName","botAction","apiUrl","getBotConfigList","getNewsFinancialData","getIncomeStatement","getBalanceSheet","getCashStatement","getFinancialTotalData","getStockModalData","getMultiFinancials","statement_type","results","saveScannerView","chart_number","fields","getScannerViewData","getScannerDetails","exchange","industry","sector","apiURL","getTickerScannerOptions","getFloatsFilterOptions","getFloatsDetails","pageNumber","pageAmount","UserManage","isRequest","setIsRequest","isShowUpdateRoleModal","setIsShowUpdateRoleModal","setRoles","userlist","setUserList","selectedUserId","setSelectedUserId","sidebarOpened","setsidebarOpened","optionsRole","fetchUserList","list","users","is_superuser","size","showUpdateUserRoleModal","confirm","toggleSidebar","getBrandText","layout","columns","field","handleRolesChange","handleUpdateRoleModalClose","transformUserRole","roleValues","coma","handleUserRoleUpdate","Modal","onHide","Header","closeButton","Title","Body","Footer","variant","brandText","btn","LinkManage","isShowSendModal","setIsShowSendModal","isShowCreateLinkModal","setShowCreateLinkModal","selectedLink","setSelectedLink","fetchActiveLinks","links","linklist","showSendEmailModal","setLinkList","handleCreateLinkModalClose","handleCreateLinkClick","handleLinkCreate","handleSendEmailModalClose","handleLinkToEmailSend","PriceDataTable","setTimeFrame","optionsSymbol","setOptionsSymbol","optionsTimeFrame","hearder_columns","useMemo","attributes","sort","datatable","setDatatable","getPriceTrades","hover","maxHeight","entriesOptions","entries","pagesAmount","dark","noBottomColumns","small","striped","scrollY","PriceData","TradeDataTable","setMacroStrategy","optionsStrategy","get_trades","macroStrat","microStrat","TradeData","HybridViewTable","HybridViewChartTable","HybridView","selectedHeaderNav","setSelectedHeaderNav","handleNavClicked","isDefined","ema26","ema12","dataPoints","calendarDate","ChartTools","aggregationTypeForOne","setAggregrationTypeForOne","handleAggregationForOneClicked","aggregationType","backgroundColor","GroupBarChart","globalAggregationType","currentData","setCurrentData","filterByAggregationTyoe","selectedData","filteredData","period","filteredSelectedData","borderColor","boxShadow","group","Chart","GraphTypes","selectedAggregationType","setSelectedAggregationType","handleAggregationTypeClicked","StockTypes","selectedStockType","setSelectedStockType","handleStockTypeClicked","stockType","FinancialDataTable","sorted","setSorted","calendarDateKey","Object","keys","scrollX","paging","class","b","valueA","valueB","toString","localeCompare","handleSortClicked","newRows","row","newObject","NaN","parseInt","formatData","FinancialStatementsDataTable","currentPage","setCurrentPage","wholeRows","setWholeRows","selectedRow","setSelectedRow","isOpened","setIsOpened","realData","slice","author","amp_url","article_url","published_utc","dataId","description","time","publisher","pagination","Pagination","Item","Prev","handlePrevClick","Next","handleNextClick","FinancialDashboard","setDataTable","financialStatements","setFinancialStatements","sortDataPointsByDate","sortedData","getNewsFinancials","getTotalData","getIncomeForDataTable","getBalanceForDataTable","getCashForDataTable","getIncome","revenus","costOfRevenue","grossProfit","EBITDAMargin","NetIncome","earningsPerBasicShare","revenues","netIncome","getBalance","assets","liabilitiesNonCurrent","debt","tradeAndNonTradeReceivables","tradeAndNonTradePayables","cashAndEquivalents","getCash","netCashFlowFromOperations","netCashFlowFromInvesting","netCashFlowFromFinancing","issuanceDebtSecurities","issuanceEquityShares","paymentDividendsOtherCashDistributions","BarChart","TextEditor","openAddIndicatorModal","isShowAddIndicatorModal","handleChange","checked","loadConfigFiles","configFiles","configFileOptions","selectedConfigFile","bot","loadBotStatusList","botStatusList","updated","headerColumnsBotStatus","botStatusDatatable","loadBotConfigList","botConfigList","headerColumnsBotConfig","col","botConfigDatatable","loadModuleTypes","moduleTypes","moduleTypeOptions","selectedModuleType","handleScriptFileChange","selectedFileType","handleScriptFileSave","isSelectedStrategyFile","strategyIndicators","processConfigSetting","SaveScriptModalClose","handleScriptFileNameChange","onEditorStateChange","editorState","handleScriptFileCreate","scriptfiles","EditorState","createEmpty","handleOpenScriptFile","isShowOpenModal","handleOpenProcessConfigModal","isShowConfigOpenModal","handleFileTypeChange","handleFile1TypeChange","selectedFile1Type","handleConfigFileChange","handleModuleTypeChange","fileTypes","selectedModuleContents","fileTypeOptions","handleModule1TypeChange","selectedModule1Type","file1TypeOptions","handleSaveModalShow","isShowSaveModal","ProcessConfigModalClose","OpenScriptModalClose","AddIndicatorModalClose","handleScriptFileOpen","selectedFile","file","blocksFromHTML","convertFromHTML","contents","blockContent","ContentState","createFromBlockArray","contentBlocks","entityMap","createWithContent","scriptfile","handleConfigFileOpen","handleSave","handleProcessConfigSettingSave","showFile","currFile","files","reader","FileReader","onload","readAsText","handleModuleAndTypeSelect","handleIndicatorDelete","handleBotNameChange","handleProcessChange","displayProcessEditor","processConfigOptions","handleIndicatorReset","textdata","module1TypeOptions","extended_hours","wdith","Tabs","activeKey","k","Tab","eventKey","toolbarClassName","wrapperClassName","editorClassName","editorStyle","draftToHtml","convertToRaw","getCurrentContent","sortable","FileManager","themes","ThemeContext","theme","changeTheme","ThemeContextWrapper","setTheme","BackgroundColorWrapper","setColor","PrivateRoute","rest","render","from","SignUp","setUserName","confirmPassword","setConfirmPassword","handleUserNameChange","handleConfirmPasswordChange","Verify","setCode","userInfo","user_email","setItem","token","handleCodeChange","ScannerComponent","setExchange","setSector","setIndustry","scannerData","optionsExchange","setOptionsExchanges","optionsSector","setOptionsSector","optionsIndustry","setOptionsIndustry","loadFloatDetails","pageNum","floatDetails","page_total","floats","loadFloatsFilterOption","scannerOptions","exchanges","industries","sectors","handleSectorChange","handleExchangeChange","handleIndustryChange","column","Symbol","Floats","ForgotPassword","handleForgotPassword","PasswordResetConfirm","setPassword1","setPassword2","delay","ms","Promise","setTimeout","handlePasswordResetConfirm","handlePassword1Change","handlePassword2Change","CustomDropDown","nodes","inputvalue","selectedNode","nodeOptions","child","Widget","checkedAvailableItem","expandedAvailableItem","nodesFilteredAvailableItem","nodesAvailableItem","restoreAvailableItems","restoreCurrentItems","currentNodes","checkedCurrrentItem","expandedCurrrentItem","onCheckAvailableItem","onExpandAvailableItem","onFilterChangeAvailableItem","onCheckCurrentItem","onExpandCurrentItem","onAddItems","onRemoveItems","onLoadDefaults","onMoveUp","onMoveDown","onRestoreClicked","onOkClicked","onCancelClicked","onGetAvailabelNodes","onLoadTotalNodes","isExistItem","currentItems","cloneDeep","totalNodes","availableNodes","totalNode","parentFlag","totalCurrentNode","totalCurrnetChildrens","totalCurrentChild","totalChild","childFlag","availableNode","checkedCurrentItem","expandedCurrentItem","filteredNodes","childNode","checkedItems","availableItems","newCurrentNodes","availableItem","currentChildItems","childItem","originCurrentNodes","totalNewCurrentNodes","newCurrentNode","exist","currentNode","newChildItem","parentExist","totalCurrentNodes","originNode","newNode","filteredNode","isExist","pushItem","availableChildItems","defaultNodes","direction","Array","isArray","moveEnable","parentSuffix","uniqParentSuffix","Set","parentValue","nodeIndex","parentIndex","childIndex","temp","moveItem","handleCurrentNodesChanged","handleVisible","expanded","onCheck","onExpand","WatchListEditColumnWidget","setTotalNodes","selectedColumns","setCurrentNodes","childNodes","getModalData","stockFinancialsData","stock_financials","ticker_news","tickerDetails","ticker_details","total","defaults","setColumns","visibleStatus","handleModalClose","WatchListItem","isConnected","setIsConnected","setSelectedColumns","chartMultiData","setChartMultiData","ws","setWs","isOpenedEditColumnWidget","setIsOpenedEditColumnWidget","selectedWatchList","setSelectedWatchList","selectedWatchListOptions","isUpdatedCols","setIsUpdatedCols","columnItems","setColumnItems","initColumnItems","setIsInited","isUpdatedWatchList","setIsUpdatedWatchList","selectedSymbols","setSelectedSymbols","setSymbolOptions","timeFrames","setTimeFrames","timeFrameOptions","watchListData","setWatchListData","watchListInitData","setWatchListInitData","getScannerAvailableFields","cols","temps","colObjects","loadRows","financials","loadMultiFinancials","object","updateChangeSymbol","isValidChartData","filtered","financial","getIncomeFromFinancial","getChartDataBySymbol","isChild","slicedChartData","splice","newData","isValid","init","symbol_type","send","indicatorStyle","rsi_side","rsi2_color","rsi3_color","heik1_color","heik_color","heik2_color","handleWatchListChange","createWebSocket","multiCharts","socket","WebSocket","onopen","onmessage","msg","onclose","number","isNaN","parseFloat","WatchList","MacketWatch","loadWholeOptions","scannerDetails","Scanner","HeatMapChart","generateData","count","randomArray","ceil","floor","random","chartOptions","seriesBuffer","OptimizationChartItem","OptimizationChart","OptimizationChartPage","Optimization","ReactDOM","getElementById"],"mappings":"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l1B,MAAO,KACP4oB,MAAO,KACPlgB,MAAO,IACP2iB,WAAY,CACV,gBAAiB,YACjB,aAAc,WAGlB,CACErrB,MAAO,WACP4oB,MAAO,OACPlgB,MAAO,KAET,CACE1I,MAAO,SACP4oB,MAAO,SACPlgB,MAAO,KAET,CACE1I,MAAO,UACP4oB,MAAO,UACPlgB,MAAO,KAET,CACE1I,MAAO,SACP4oB,MAAO,SACP0C,MAAM,EACN5iB,MAAO,MAGX4sB,uBAAwB,CACtB,CACEt1B,MAAO,KACP4oB,MAAO,KACPoR,MAAO,IACP3O,WAAY,CACV,gBAAiB,YACjB,aAAc,OAGlB,CACErrB,MAAO,WACP4oB,MAAO,OACPlgB,MAAO,KAET,CACE1I,MAAO,aACP4oB,MAAO,YACPvb,KAAM,KAER,CACErN,MAAO,YACP4oB,MAAO,YACPvb,KAAM,KAER,CACErN,MAAO,aACP4oB,MAAO,YACPvb,KAAM,KAER,CACErN,MAAO,kBACP4oB,MAAO,kBACP0C,MAAM,EACNje,KAAM,KAER,CACErN,MAAO,gBACP4oB,MAAO,gBACP0C,MAAM,EACNje,KAAM,KAER,CACErN,MAAO,cACP4oB,MAAO,cACP0C,MAAM,EACNje,KAAM,KAER,CACErN,MAAO,eACP4oB,MAAO,eACP0C,MAAM,EACNje,KAAM,KAER,CACErN,MAAO,gBACP4oB,MAAO,gBACP0C,MAAM,EACNje,KAAM,KAER,CACErN,MAAO,QACP4oB,MAAO,QACP0C,MAAM,EACNje,KAAM,KAER,CACErN,MAAO,iBACP4oB,MAAO,iBACP0C,MAAM,EACNje,KAAM,KAER,CACErN,MAAO,uBACP4oB,MAAO,uBACP0C,MAAM,EACNje,KAAM,KAER,CACErN,MAAO,cACP4oB,MAAO,cACP0C,MAAM,EACNje,KAAM,MAGR8nB,mBAAoB,CAClBxM,QAAS,GACTnW,KAAM,IAERgjB,mBAAoB,CAClB7M,QAAS,GACTnW,KAAM,KA3QO,E,4FAwRnB,sBAAAsG,EAAA,sDACE3V,KAAKsyB,kBACLtyB,KAAKuxB,kBACLvxB,KAAK4xB,oBACL5xB,KAAKiyB,oBAJP,gD,0EAydA,WAAU,IAAD,OACCkB,EAAgBnzB,KAAKvB,MAArB00B,YACR,OACE,cAAC,IAAM5W,SAAP,UACE,sBAAKjgB,UAAU,4BAAf,UACE,eAACw6B,GAAA,EAAD,CACEl6B,GAAG,yBACHm6B,UAAW/2B,KAAKvB,MAAMS,IACtB0M,SAAU,SAACorB,GAAD,OAAO,EAAK90B,SAAS,CAAEhD,IAAK83B,KACtC16B,UAAU,OAJZ,UAME,eAAC26B,GAAA,EAAD,CAAKC,SAAS,YAAYr7B,MAAM,mBAAhC,UACE,cAAC,UAAD,CACEs3B,YAAaA,EACbgE,iBAAiB,mBACjBC,iBAAiB,mBACjBC,gBAAgB,kBAChBC,YAAa,CAAC7M,gBAAgB,cAC9ByI,oBAAqBlzB,KAAKkzB,sBAE5B,qBAAK52B,UAAU,4BAAf,SACE,sBAAKA,UAAU,oBAAf,UACE,wBAAQA,UAAU,2BAA2BC,QAAS,kBAAI,EAAK62B,0BAA/D,iBACA,wBAAQ92B,UAAU,2BAA2BC,QAAS,kBAAI,EAAKi3B,wBAA/D,kBACA,wBAAQl3B,UAAU,2BAA2BC,QAAS,kBAAI,EAAKm5B,WAAW6B,KAAYC,wBAAarE,EAAYsE,wBAA/G,0BAIN,cAACR,GAAA,EAAD,CAAKC,SAAS,UAAUr7B,MAAM,wBAA9B,SACE,sBAAKS,UAAW,+BAAhB,UACE,oBAAIA,UAAU,aAAd,SACG0D,KAAKu2B,yBAER,sBAAKj6B,UAAU,0BAAf,UACE,wBAAQA,UAAU,iCAAiCC,QAAS,kBAAI,EAAKk6B,wBAArE,mBACA,wBAAQn6B,UAAU,iCAAiCC,QAAS,kBAAI,EAAKm3B,gCAArE,kBACA,wBAAQp3B,UAAU,iCAAiCC,QAAS,kBAAI,EAAKo5B,kCAArE,0BAIN,eAACsB,GAAA,EAAD,CAAKC,SAAS,qBAAqBr7B,MAAM,qBAAzC,UACA,cAAC,KAAD,CACE0sB,OAAK,EACLC,UAAU,QACVC,eAAgB,CAAC,GAAI,GAAI,GAAI,KAC7BC,QAAS,GACTC,YAAa,EACb5pB,KAAMiB,KAAKvB,MAAMuzB,mBACjBpJ,MAAM,EACNC,iBAAiB,EACjBC,OAAO,EACPC,SAAS,EACTC,SAAS,IAZX,OAeA,eAACiO,GAAA,EAAD,CAAKC,SAAS,qBAAqBr7B,MAAM,qBAAzC,UACE,cAAC,KAAD,CACE0sB,OAAK,EACLC,UAAU,QACVC,eAAgB,CAAC,GAAI,GAAI,GAAI,KAC7BC,QAAS,GACTC,YAAa,EACb5pB,KAAMiB,KAAKvB,MAAM4zB,mBACjBxJ,iBAAiB,EACjBC,OAAO,EACP4O,UAAU,EACV3O,SAAS,EACTuD,SAAO,IAZX,UAgBF,eAACtG,GAAA,EAAD,CAAO5Y,KAAMpN,KAAKvB,MAAMg1B,gBAAiBn3B,UAAU,eAAe2pB,OAAQjmB,KAAK00B,qBAA/E,UACE,cAAC1O,GAAA,EAAME,OAAP,CAAcC,aAAW,EAAzB,SACE,cAACH,GAAA,EAAMI,MAAP,iCAEF,cAACJ,GAAA,EAAMK,KAAP,UACE,sBAAK/pB,UAAU,4BAAf,UACE,sBAAKA,UAAU,sBAAf,UACE,uDACA,cAAC,IAAD,CACEA,UAAU,4BACV6C,KAAK,qBACL6Z,YAAY,cACZtV,MAAO1D,KAAKvB,MAAMg0B,mBAClB9Z,SAAU3Y,KAAKg0B,uBACfxvB,QAASxE,KAAKvB,MAAM+zB,uBAGxB,sBAAKl2B,UAAU,sBAAf,UACE,qDACA,cAAC,IAAD,CACE6C,KAAK,mBACL6Z,YAAY,YACZtV,MAAO1D,KAAKvB,MAAMk0B,iBAClBha,SAAU3Y,KAAK4zB,qBACfpvB,QAASxE,KAAKvB,MAAM01B,0BAK5B,cAACnO,GAAA,EAAMM,OAAP,CAAchqB,UAAU,sBAAxB,SACE,cAAC,IAAD,CACEiqB,QAAQ,UACRjqB,UAAU,SACVC,QAAW,WACT,EAAKq4B,qBAAqB,EAAKn2B,MAAMk0B,mBAJzC,uBAWJ,eAAC3M,GAAA,EAAD,CAAO5Y,KAAMpN,KAAKvB,MAAMk1B,sBAAuBr3B,UAAU,eAAe2pB,OAAQjmB,KAAKy0B,wBAArF,UACE,cAACzO,GAAA,EAAME,OAAP,CAAcC,aAAW,EAAzB,SACE,cAACH,GAAA,EAAMI,MAAP,iCAEF,cAACJ,GAAA,EAAMK,KAAP,UACE,qBAAK/pB,UAAU,4BAAf,SACE,sBAAKA,UAAU,sBAAf,UACE,uDACA,cAAC,IAAD,CACEA,UAAU,4BACV6C,KAAK,qBACL6Z,YAAY,cACZtV,MAAO1D,KAAKvB,MAAMizB,mBAClB/Y,SAAU3Y,KAAK+zB,uBACfvvB,QAASxE,KAAKvB,MAAMgzB,2BAK5B,cAACzL,GAAA,EAAMM,OAAP,CAAchqB,UAAU,sBAAxB,SACE,cAAC,IAAD,CACEiqB,QAAQ,UACRjqB,UAAU,SACVC,QAAW,WACT,EAAKk5B,wBAJT,uBAWJ,eAACzP,GAAA,EAAD,CAAO5Y,KAAMpN,KAAKvB,MAAM+1B,gBAAiBl4B,UAAU,eAAe2pB,OAAQjmB,KAAKgzB,qBAA/E,UACE,cAAChN,GAAA,EAAME,OAAP,CAAcC,aAAW,EAAzB,SACE,cAACH,GAAA,EAAMI,MAAP,iCAEF,cAACJ,GAAA,EAAMK,KAAP,UACE,qBAAK/pB,UAAU,oBAAf,SACE,uBACIoD,KAAK,OACLpD,UAAU,mCACV0c,YAAY,mBACZtV,MACE1D,KAAKvB,MAAM+iB,SAEb7I,SAAU,SAACjc,GAAQ,EAAKu2B,2BAA2Bv2B,UAI3D,cAACspB,GAAA,EAAMM,OAAP,CAAchqB,UAAU,sBAAxB,SACE,cAAC,IAAD,CAAQiqB,QAAQ,UAAUhqB,QAASyD,KAAK4yB,qBAAsBt2B,UAAU,SAAxE,gC,GAn5B0B+P,aCpBzB,SAASsrB,KACtB,MAAwCz6B,IAAMf,UAAS,GAAvD,mBAAOuf,EAAP,KAAsBC,EAAtB,KACA,EAAgDze,IAAMf,SAAS,gBAA/D,mBAAOyC,EAAP,KAAyBgd,EAAzB,KACM/c,EAAsB,WAC1B8c,GAAgBD,IAMlB,OACE,eAAC,IAAMa,SAAP,WACE,cAAC,GAAD,IACA,sBAAKjgB,UAAU,yBAAf,WACMof,GACA,cAAC,IAAD,CACEpf,UAAY,6CACZC,QAASsC,EAFX,SAIE,mBAAGvC,UAAU,kCAGhBof,GACC,cAAC,EAAD,CACEhd,aAAa,EACbC,OAAQA,EACRzC,YAAa,oBACb2C,oBAAqBA,EACrBD,iBAAkBA,EAClBP,qBAvBiB,SAACtC,GAC5B6f,EAAoB7f,MAyBd,cAAC,GAAD,UCtCH,IAAM67B,GACL,GADKA,GAEJ,gBAGIC,GAAet8B,wBAAc,CACxCu8B,MAAOF,GACPG,YAAa,eCNA,SAASC,GAAoBr8B,GAC1C,MAA0BQ,mBAASy7B,IAAnC,mBAAOE,EAAP,KAAcG,EAAd,KAkBA,OAZAt6B,qBAAU,WACR,GAAQm6B,IACDF,GACHh2B,SAASkR,KAAKkJ,UAAUxB,IAAI,sBAI5B5Y,SAASkR,KAAKkJ,UAAUC,OAAO,mBAGlC,CAAC6b,IAGF,cAACD,GAAahiB,SAAd,CAAuBnS,MAAO,CAAEo0B,MAAOA,EAAOC,YAjBhD,SAAqBD,GACnBG,EAASH,KAgBT,SACGn8B,EAAM8Z,WClBE,SAASyiB,GAAuBv8B,GAC7C,MAA0BQ,mBAASd,GAAnC,mBAAOG,EAAP,KAAc28B,EAAd,KAMA,OACE,cAAC78B,EAAuBua,SAAxB,CACEnS,MAAO,CAAElI,MAAOA,EAAOC,YAN3B,SAAqBD,GACnB28B,EAAS38B,KAIT,SAGGG,EAAM8Z,W,8BCXE,SAAS2iB,GAAT,GAA8C,IAAtB3iB,EAAqB,EAArBA,SAAa4iB,EAAQ,mBACtD3iB,EAAOJ,KACX,OACE,cAAC,IAAD,2BACM+iB,GADN,IAEEC,OAAQ,gBAAGpd,EAAH,EAAGA,SAAH,OACNxF,EAAK7B,SAASC,gBACZ2B,EAEA,cAAC,IAAD,CACEiD,GAAI,CACF/b,SAAU,SACV8B,MAAO,CAAE85B,KAAMrd,UCb7B,IAyKesd,GAzKA,WACX,IAAIz7B,EAAUC,cAEV0Y,EAAOJ,KACX,EAAkCnZ,oBAAS,GAA3C,mBAAO8gB,EAAP,KAAkBC,EAAlB,KACA,EAAgC/gB,mBAAS,IAAzC,mBAAOgY,EAAP,KAAiBskB,EAAjB,KACA,EAA0Bt8B,mBAAS,IAAnC,mBAAO6X,EAAP,KAAcqJ,EAAd,KACA,EAA0BlhB,oBAAU,GAApC,mBAAOqX,EAAP,KAAcwJ,EAAd,KACA,EAA8B7gB,qBAA9B,mBAAOghB,EAAP,KAAgBC,EAAhB,KACA,EAAgCjhB,mBAAS,IAAzC,mBAAO8X,EAAP,KAAiBqJ,EAAjB,KACA,EAA8CnhB,mBAAS,IAAvD,mBAAOu8B,EAAP,KAAwBC,EAAxB,KACA,EAAmBx8B,mBAASY,EAAQme,SAASve,UAAtCA,EAAP,oBAEAgB,qBAAU,WACN,IAAMoE,EAAW,SAAAmO,GACM,UAAfA,EAAMgF,MAAmC,gBAAfhF,EAAMgF,OAChChF,EAAMoJ,iBACN5E,MAIR,OADA9S,SAASC,iBAAiB,UAAWE,GAC9B,WACHH,SAASK,oBAAoB,UAAWF,MAE7C,IAEH,IAgBM2S,EAAM,uCAAG,4BAAAiB,EAAA,yDACNxB,EAASxQ,OADH,uBAEPqZ,EAAS,GACTI,EAAW,sBAHJ,6BAMNpJ,EAAMrQ,OANA,uBAOPqZ,EAAS,GACTI,EAAW,uBARJ,6BAWNnJ,EAAStQ,QAAW+0B,EAAgB/0B,OAX9B,wBAYPqZ,EAAS,GACTI,EAAW,yCAbJ,8BAgBPnJ,IAAaykB,EAhBN,wBAiBP1b,EAAS,GACTI,EAAW,gDAlBJ,8BAqBNZ,GAAcxI,GArBR,wBAsBPgJ,EAAS,GACTI,EAAW,iBAvBJ,kCA2BXF,GAAa,GA3BF,UA4BOxH,EAAK7B,SAASa,OAAOP,EAAUH,EAAOC,EAAUykB,EAAiB/7B,GA5BxE,WA4BLyX,EA5BK,OA6BX8I,GAAa,IAET9I,EAAIG,QA/BG,iBAkCPxX,EAAQyB,KAAK,UAlCN,+BAoCPwe,EAAS,GACTI,EAAWhJ,EAAIZ,OArCR,+DAAH,qDA+CZ,OACI,sBAAKlX,UAAW,aAAhB,UACI,gCAEI,yCAEA,sBAAKA,UAAU,aAAf,UACI,yCACA,uBACIoD,KAAK,OACLpD,UAAU,mCACV0c,YAAY,kBACZtV,MAAOyQ,EACPwE,SAAU,SAACjc,IAhEF,SAACA,GAC1B+7B,EAAY/7B,EAAEghB,OAAOha,OA+Dck1B,CAAqBl8B,SAIhD,sBAAKJ,UAAU,aAAf,UACI,0CACA,uBACIoD,KAAK,QACLpD,UAAU,mCACV0c,YAAY,cACZtV,MAAOsQ,EACP2E,SAAU,SAACjc,IAvFL,SAACA,GACvB2gB,EAAS3gB,EAAEghB,OAAOha,OAsFiBia,CAAkBjhB,SAI7C,sBAAKJ,UAAU,aAAf,UACI,6CACA,uBACIoD,KAAK,WACLpD,UAAU,mCACV0c,YAAY,iBACZtV,MAAOuQ,EACP0E,SAAU,SAACjc,IA9FF,SAACA,GAC1B4gB,EAAY5gB,EAAEghB,OAAOha,OA6Fcma,CAAqBnhB,SAIhD,sBAAKJ,UAAU,aAAf,UACI,qDACA,uBACIoD,KAAK,WACLpD,UAAU,mCACV0c,YAAY,yBACZtV,MAAOg1B,EACP/f,SAAU,SAACjc,IArGK,SAACA,GACjCi8B,EAAmBj8B,EAAEghB,OAAOha,OAoGOm1B,CAA4Bn8B,SAIvD,yBACIJ,UAAU,qDACVC,QAASmY,EAFb,UAIKuI,GACG,sBAAM3gB,UAAU,yDAAyDsB,KAAK,SAAS,cAAY,SAL3G,aAUA,qBAAKtB,UAAU,aAAf,SACI,mBAAGA,UAAU,0BAAb,SACI,mBAAGmc,KAAK,UAAR,8BAIA,IAAXjF,GACG,qBAAKlX,UAAU,sBAAsBsB,KAAK,QAA1C,SACI,sBAAKtB,UAAU,kBAAf,UACI,qBAAKA,UAAU,gBAAf,SACK6gB,IAEL,wBAAQzd,KAAK,SAASpD,UAAU,+DAA+DC,QAAS,WA5ExHygB,GAAU,GACVI,EAAW,KA2EK,4BC1DT0b,GAtGA,WACX,IAAIpjB,EAAOJ,KACPvY,EAAUC,cACd,EAAwBb,mBAAS,IAAjC,mBAAO+Y,EAAP,KAAa6jB,EAAb,KACA,EAA0B58B,oBAAU,GAApC,mBAAOqX,EAAP,KAAcwJ,EAAd,KACA,EAAkC7gB,oBAAS,GAA3C,mBAAO8gB,EAAP,KAAkBC,EAAlB,KACA,EAA8B/gB,mBAAS,IAAvC,mBAAOghB,EAAP,KAAgBC,EAAhB,KACMnI,EAASlY,EAAQme,SAASzc,MAAQ1B,EAAQme,SAASzc,MAAMwW,OAAS,KAMxEtX,qBAAU,WACN,IAAMoE,EAAW,SAAAmO,GACM,UAAfA,EAAMgF,MAAmC,gBAAfhF,EAAMgF,OAChChF,EAAMoJ,iBACNtE,MASR,OANApT,SAASC,iBAAiB,UAAWE,GAEhCkT,GACDlY,EAAQyB,KAAK,UAGV,WACHoD,SAASK,oBAAoB,UAAWF,MAE7C,CAACkT,EAAQlY,IAEZ,IAAMiY,EAAM,uCAAG,8BAAAW,EAAA,yDACNT,EAAKvR,OADC,uBAEPqZ,EAAS,GACTI,EAAW,8BAHJ,iCAMXF,GAAa,GANF,SAOOxH,EAAK7B,SAASmB,OAAOC,EAAQC,GAPpC,UAOLd,EAPK,OAQX8I,GAAa,IACT9I,EAAIY,OATG,iBAUDgkB,EAAW,CACbhlB,MAAOI,EAAI6kB,WACXr7B,KAAMwW,EAAIhV,SAAW,2EAA6EgV,EAAIxW,KACtGwB,SAAUgV,EAAIhV,UAElB9B,aAAa47B,QAAQ,YAAa97B,KAAK2V,UAAUimB,IACjD17B,aAAa47B,QAAQ,aAAc97B,KAAK2V,UAAUqB,EAAI+kB,QACtDp8B,EAAQyB,KAAK,KAjBN,+BAmBPwe,EAAS,GACTI,EAAWhJ,EAAIZ,OApBR,+DAAH,qDA8BZ,OACI,sBAAKlX,UAAW,aAAhB,UACI,gCAEI,wCAEA,sBAAKA,UAAU,aAAf,UACI,gDACA,uBACIoD,KAAK,OACLpD,UAAU,mCACV0c,YAAY,oBACZtV,MAAOwR,EACPyD,SAAU,SAACjc,IAjEN,SAACA,GACtBq8B,EAAQr8B,EAAEghB,OAAOha,OAgEkB01B,CAAiB18B,SAI5C,yBACIJ,UAAU,qDACVC,QAASyY,EAFb,UAIKiI,GACG,sBAAM3gB,UAAU,yDAAyDsB,KAAK,SAAS,cAAY,SAL3G,gBAUQ,IAAX4V,GACG,qBAAKgZ,MAAM,sBAAsB5uB,KAAK,QAAtC,SACI,sBAAKtB,UAAU,kBAAf,UACI,qBAAKA,UAAU,gBAAf,SACK6gB,IAEL,wBAAQzd,KAAK,SAASpD,UAAU,+DAA+DC,QAAS,WArCxHygB,GAAU,GACVI,EAAW,KAoCK,4BC8aTic,I,OA9fU,WAAO,IAAD,EACvB3jB,EAAOJ,KACPvY,EAAUC,cAChB,EAAwBE,IAAMf,UAAS,GAAhCoa,EAAP,oBACA,EAAgCrZ,IAAMf,SAAS,MAA/C,mBAAOqnB,EAAP,KAAiB8V,EAAjB,KACA,EAA4Bn9B,mBAAS,MAArC,mBAAOunB,EAAP,KAAe6V,EAAf,KACA,EAAgCp9B,mBAAS,MAAzC,mBAAOsnB,EAAP,KAAiB+V,EAAjB,KACA,EAAsCr9B,mBAAS,IAA/C,mBAAOs9B,EAAP,KACA,GADA,KACoCt9B,mBAAS,KAA7C,mBAAO6nB,EAAP,KACA,GADA,KACsC7nB,mBAAS,IAA/C,mBAAOmxB,EAAP,KAAoBC,EAApB,KACA,EAAkCpxB,mBAAS,GAA3C,mBAAOqxB,EAAP,KAAkBC,EAAlB,KACA,EAA+CtxB,mBAAS,IAAxD,mBAAOu9B,EAAP,KAAwBC,EAAxB,KACA,EAA0Cx9B,mBAAS,IAAnD,mBAAOy9B,EAAP,KAAsBC,EAAtB,KACA,EAA8C19B,mBAAS,IAAvD,mBAAO29B,EAAP,KAAwBC,GAAxB,KAEM/R,GAAkBC,mBAAQ,WAC9B,MAAO,CACP,CACEprB,MAAO,WACP4oB,MAAO,WACPyC,WAAY,CACV,gBAAiB,YACjB,aAAc,WAGlB,CACErrB,MAAO,SACP4oB,MAAO,UAET,CACE5oB,MAAO,YACP4oB,MAAO,aAET,CACE5oB,MAAO,OACP4oB,MAAO,QAET,CACE5oB,MAAO,cACP4oB,MAAO,eAET,CACE5oB,MAAO,oBACP4oB,MAAO,qBAET,CACE5oB,MAAO,cACP4oB,MAAO,eAET,CACE5oB,MAAO,MACP4oB,MAAO,OAET,CACE5oB,MAAO,WACP4oB,MAAO,YAET,CACE5oB,MAAO,WACP4oB,MAAO,YAET,CACE5oB,MAAO,UACP4oB,MAAO,WAET,CACE5oB,MAAO,SACP4oB,MAAO,UAET,CACE5oB,MAAO,WACP4oB,MAAO,YAET,CACE5oB,MAAO,UACP4oB,MAAO,WAET,CACE5oB,MAAO,gBACP4oB,MAAO,iBAET,CACE5oB,MAAO,gBACP4oB,MAAO,iBAET,CACE5oB,MAAO,uBACP4oB,MAAO,wBAET,CACE5oB,MAAO,SACP4oB,MAAO,UAET,CACE5oB,MAAO,UACP4oB,MAAO,WAET,CACE5oB,MAAO,WACP4oB,MAAO,YAET,CACE5oB,MAAO,YACP4oB,MAAO,aAET,CACE5oB,MAAO,mBACP4oB,MAAO,oBAET,CACE5oB,MAAO,gBACP4oB,MAAO,iBAET,CACE5oB,MAAO,MACP4oB,MAAO,OAET,CACE5oB,MAAO,qBACP4oB,MAAO,sBAET,CACE5oB,MAAO,eACP4oB,MAAO,gBAET,CACE5oB,MAAO,qBACP4oB,MAAO,sBAET,CACE5oB,MAAO,oBACP4oB,MAAO,qBAET,CACE5oB,MAAO,oBACP4oB,MAAO,qBAET,CACE5oB,MAAO,aACP4oB,MAAO,cAET,CACE5oB,MAAO,iBACP4oB,MAAO,kBAET,CACE5oB,MAAO,gBACP4oB,MAAO,iBAET,CACE5oB,MAAO,6BACP4oB,MAAO,8BAET,CACE5oB,MAAO,qBACP4oB,MAAO,sBAET,CACE5oB,MAAO,aACP4oB,MAAO,cAET,CACE5oB,MAAO,YACP4oB,MAAO,aAET,CACE5oB,MAAO,uBACP4oB,MAAO,wBAET,CACE5oB,MAAO,mBACP4oB,MAAO,oBAET,CACE5oB,MAAO,cACP4oB,MAAO,eAET,CACE5oB,MAAO,aACP4oB,MAAO,cAET,CACE5oB,MAAO,OACP4oB,MAAO,QAET,CACE5oB,MAAO,aACP4oB,MAAO,cAET,CACE5oB,MAAO,qBACP4oB,MAAO,sBAET,CACE5oB,MAAO,sBACP4oB,MAAO,uBAET,CACE5oB,MAAO,oBACP4oB,MAAO,qBAET,CACE5oB,MAAO,cACP4oB,MAAO,eAET,CACE5oB,MAAO,wBACP4oB,MAAO,yBAET,CACE5oB,MAAO,aACP4oB,MAAO,cAET,CACE5oB,MAAO,0BACP4oB,MAAO,2BAET,CACE5oB,MAAO,kBACP4oB,MAAO,mBAET,CACE5oB,MAAO,sBACP4oB,MAAO,uBAET,CACE5oB,MAAO,4BACP4oB,MAAO,6BAET,CACE5oB,MAAO,6BACP4oB,MAAO,8BAET,CACE5oB,MAAO,cACP4oB,MAAO,eAET,CACE5oB,MAAO,eACP4oB,MAAO,gBAET,CACE5oB,MAAO,iBACP4oB,MAAO,kBAET,CACE5oB,MAAO,kBACP4oB,MAAO,mBAET,CACE5oB,MAAO,0BACP4oB,MAAO,2BAET,CACE5oB,MAAO,gBACP4oB,MAAO,oBAEP,IAEJ,GAAkCvoB,IAAMf,SAAS,CAC/CqpB,QAASwC,GACT3Y,KAAMoqB,IAFR,qBAAOrR,GAAP,MAAkBC,GAAlB,MAKM2R,GAAgB,uCAAG,WAAOC,GAAP,eAAAtkB,EAAA,6DACvB7R,QAAQC,IAAI,UAAWk2B,GADA,SAEInW,GAAiBmW,EAASjW,GAF9B,QAEjBkW,EAFiB,UAKrBzM,EAAayM,EAAaC,YAC1B9R,GAAa,CACX7C,QAASwC,GACT3Y,KAAM6qB,EAAaE,UARA,2CAAH,sDAahBC,GAAsB,uCAAG,kCAAA1kB,EAAA,sEACAkO,KADA,QACvByW,EADuB,QAEV/lB,UACXgmB,EAAY,CAAC,CACjB72B,MAAO,GACP7G,MAAO,QAETy9B,EAAe3iB,OAAO4iB,UAAU/9B,KAAI,SAAAgnB,GAClC,GAAiB,KAAbA,EACF,OAAO,KAET+W,EAAU/7B,KAAK,CACbkF,MAAO8f,EACP3mB,MAAO2mB,OAILgX,EAAa,CAAC,CAClB92B,MAAO,GACP7G,MAAO,QAGTy9B,EAAe3iB,OAAO8L,SAASjnB,KAAI,SAAAinB,GAChB,KAAbA,GAAgC,OAAbA,GACrB+W,EAAWh8B,KAAK,CACdkF,MAAO+f,EACP5mB,MAAO4mB,OAKPgX,EAAU,CAAC,CACf/2B,MAAO,GACP7G,MAAO,QAETy9B,EAAe3iB,OAAO+L,OAAO/d,SAAQ,SAAA+d,GACpB,KAAXA,GAA4B,OAAXA,GACnB+W,EAAQj8B,KAAK,CACXkF,MAAOggB,EACP7mB,MAAO6mB,OAKbiW,EAAoBY,GACpBR,GAAmBS,GACnBX,EAAiBY,IA9CU,2CAAH,qDAkD5B98B,qBAAU,WACRq8B,GAAiB1M,GACjB+M,OACC,IAEH,IAeMK,GAAkB,uCAAG,WAAOh+B,GAAP,eAAAiZ,EAAA,6DACzB4jB,EAAU78B,GADe,SAGEonB,GAAiBwJ,EAAatJ,EAAYR,EAAWA,EAAS9f,MAAQ,GAAI+f,EAAWA,EAAS/f,MAAQ,GAAIhH,EAAEgH,OAH9G,QAGnBw2B,EAHmB,UAMvBzM,EAAayM,EAAaC,YAC1B9R,GAAa,CACX7C,QAASwC,GACT3Y,KAAM6qB,EAAaE,UATE,2CAAH,sDAclBO,GAAoB,uCAAG,WAAOj+B,GAAP,eAAAiZ,EAAA,6DAC3B2jB,EAAY58B,GADe,SAGAonB,GAAiBwJ,EAAatJ,EAAYtnB,EAAEgH,MAAO+f,EAAWA,EAAS/f,MAAQ,GAAIggB,EAASA,EAAOhgB,MAAQ,IAH3G,QAGrBw2B,EAHqB,UAMzBzM,EAAayM,EAAaC,YAC1B9R,GAAa,CACX7C,QAASwC,GACT3Y,KAAM6qB,EAAaE,UATI,2CAAH,sDAcpBQ,GAAoB,uCAAG,WAAOl+B,GAAP,eAAAiZ,EAAA,6DAC3B6jB,EAAY98B,GADe,SAGAonB,GAAiBwJ,EAAatJ,EAAYR,EAAWA,EAAS9f,MAAQ,GAAIhH,EAAEgH,MAAOggB,EAASA,EAAOhgB,MAAQ,IAH3G,OAGrBw2B,EAHqB,OAI3BzM,EAAayM,EAAaC,YAC1B9R,GAAa,CACX7C,QAASwC,GACT3Y,KAAM6qB,EAAaE,SAPM,2CAAH,sDAW1B,OACE,sBAAK99B,UAAU,yBAAf,UACE,sBAAKA,UAAU,0DAAf,UACE,qBAAKA,UAAU,aAAf,SACE,mBAAGmc,KAAK,SAASnc,UAAU,sBAA3B,2CAIF,qBAAKA,UAAU,qBAAf,SACE,oBAAIA,UAAU,WAAd,SACE,cAAC,IAAD,CAAMoc,GAAI,SAAUpc,UAAU,iBAGlC,cAAC,IAAD,CAAU6c,QAAM,EAAC/c,OAAQma,EAAzB,SACE,eAAC,IAAD,CAAKja,UAAU,UAAU6c,QAAM,EAA/B,UACE,eAAC,IAAD,CAAsBE,KAAG,EAAzB,UACE,eAAC,IAAD,CACED,OAAK,EACL5d,MAAM,UACN6d,KAAG,EACH9c,QAAS,SAACG,GAAD,OAAOA,EAAE4c,kBAJpB,UAME,qBAAKhd,UAAU,QAAf,SACE,qBACEid,IAAI,MACJC,IAAKC,EAAQ,IAAyBC,YAG1C,mBAAGpd,UAAU,YAAb,wBAEF,eAAC,IAAD,CAAcA,UAAU,kBAAkB2M,OAAK,EAAC0Q,IAAI,KAApD,UACE,cAAC,IAAD,CAAcC,SAAO,EAACD,IAAI,OAC1B,cAAC,IAAD,CAASA,IAAI,KAAb,SACE,cAAC,IAAD,CAAcrd,UAAU,WAAWC,QAAS,WAtF1DmZ,EAAKN,UACLrY,EAAQyB,KAAK,WAqFC,6BAIN,oBAAIlC,UAAU,gCAIpB,sBAAKA,UAAU,+DAAf,UACE,qBAAKA,UAAU,0BAAf,0BAGA,sBAAKA,UAAU,4BAAf,UACE,qBAAKA,UAAU,gBAAf,SACE,cAAC,IAAD,CACEoH,MAAO8f,EACP7K,SAAUgiB,GACVn2B,QAASk1B,EACT1gB,YAAY,eAGhB,qBAAK1c,UAAU,gBAAf,SACE,cAAC,IAAD,CACEoH,MAAOggB,EACP/K,SAAU+hB,GACVl2B,QAASo1B,EACT5gB,YAAY,aAGhB,qBAAK1c,UAAU,gBAAf,SACE,cAAC,IAAD,CACEoH,MAAO+f,EACP9K,SAAUiiB,GACVp2B,QAASs1B,EACT9gB,YAAY,kBAIlB,eAAC,MAAD,GACEuP,OAAK,EACLO,OAAO,EACPN,UAAU,QACVC,eAAgB,CAAC,GAAI,GAAI,GAAI,KAC7BC,QAAS,GACTC,YAAa,GACb5pB,KAAMqpB,GACNQ,MAAM,EACNC,iBAAiB,GATnB,uBAUS,GAVT,yBAWW,GAXX,yBAYW,GAZX,0BAcE,cAAC,KAAD,CAAevsB,UAAU,+BAAzB,SACE,6BACG0rB,GAAgBxrB,KAAI,SAACC,GAAD,OACnB,oBAAqBH,UAAS,sCAA9B,SAAwEG,EAAKI,OAApEJ,EAAKI,cAIpB,cAAC,KAAD,CACIP,UAAW,yBADf,SAGG8rB,GAAU/Y,KAAK7S,KAAI,SAACC,GAAD,OAClB,6BACGurB,GAAgBxrB,KAAI,SAACq+B,GAAD,OAEjB,oBAEEv+B,UAAS,UAAsB,gBAAjBu+B,EAAOpV,MAA0B,qCAAuC,GAA7E,2BAFX,SAIGhpB,EAAKo+B,EAAOpV,QAJf,UACUhpB,EAAKiM,OADf,YACyBmyB,EAAOpV,YAJtC,cAAgBhpB,EAAKq+B,gBAzB3B,IAwCA,eAACrM,GAAA,EAAD,WACE,cAACA,GAAA,EAAWC,KAAZ,UAA8B,GAAZpB,IAClB,cAACmB,GAAA,EAAWC,KAAZ,UAAkC,GAAfpB,EAAoB,IACvC,cAACmB,GAAA,EAAWC,KAAZ,mBACA,eAACD,GAAA,EAAWC,KAAZ,eAAoBlB,EAApB,OACA,cAACiB,GAAA,EAAWE,KAAZ,CAAiB9T,SAAUyS,GAAe,EAAG/wB,QAAS,WApK5DgxB,EAAeD,EAAc,GAC7B0M,GAAiB1M,EAAc,MAoKzB,cAACmB,GAAA,EAAWI,KAAZ,CAAiBhU,SAAWyS,EAAc,GAAME,EAAY,GAAIjxB,QAAS,WAhK/EgxB,EAAeD,EAAc,GAC7B0M,GAAiB1M,EAAc,iBCnTpByN,OA7Cf,WACE,MAAwC79B,IAAMf,UAAS,GAAvD,mBAAOuf,EAAP,KAAsBC,EAAtB,KACA,EAAgDze,IAAMf,SAAS,UAA/D,mBAAOyC,EAAP,KAAyBgd,EAAzB,KAEM/c,EAAsB,WAC1B8c,GAAgBD,IAGZrd,EAAuB,SAACtC,GAC5B6f,EAAoB7f,IAGtB,OACE,cAACT,EAAuBwD,SAAxB,UACG,cAAGtD,MAAH,OACC,cAAC,IAAM+gB,SAAP,UACE,sBAAKjgB,UAAU,yBAAf,WACIof,GACA,cAAC,IAAD,CACEpf,UAAY,6CACZC,QAASsC,EAFX,SAIE,mBAAGvC,UAAU,kCAGhBof,GACC,cAAC,EAAD,CACEhd,aAAa,EACbC,OAAQA,EACRzC,YAAa,iBACb0C,iBAAkBA,EAClBC,oBAAqBA,EACrBR,qBAAsBA,IAG1B,qBAAK/B,UAAU,YAAf,SACI,cAAC,GAAD,eCkCD0+B,GA9EQ,WACrB,MAA0B7+B,mBAAS,IAAnC,mBAAO6X,EAAP,KAAcqJ,EAAd,KACA,EAA0BlhB,oBAAU,GAApC,mBAAOqX,EAAP,KAAcwJ,EAAd,KACA,EAAkC7gB,oBAAS,GAA3C,mBAAO8gB,EAAP,KAAkBC,EAAlB,KACA,EAA8B/gB,mBAAS,IAAvC,mBAAOghB,EAAP,KAAgBC,EAAhB,KAMM6d,EAAoB,uCAAG,4BAAAtlB,EAAA,yDACtB6G,GAAcxI,GADQ,uBAEzBgJ,EAAS,GACTI,EAAW,kBAHc,iCAM3BF,GAAa,GANc,SAOR0C,GAAe5L,GAPP,UAOvB2D,EAPuB,OAQ3BuF,GAAa,IACRvF,EAAOpD,QATe,wBAUzByI,EAAS,GACTI,EAAW,kCAXc,kCAc3BJ,EAAS,GACTI,EAAW,kBAfgB,+DAAH,qDAwB1B,OACE,sBAAK9gB,UAAW,aAAhB,UACE,gCACE,oBAAIA,UAAU,cAAd,6BAEA,sBAAKA,UAAU,aAAf,UACE,0CACA,uBACEoD,KAAK,OACLpD,UAAU,mCACV0c,YAAY,cACZtV,MAAOsQ,EACP2E,SAAU,SAACjc,IAxCK,SAACA,GACzB2gB,EAAS3gB,EAAEghB,OAAOha,OAuCSia,CAAkBjhB,SAGvC,yBACEJ,UAAU,qDACVC,QAAS0+B,EAFX,UAIGhe,GACG,sBAAM3gB,UAAU,yDAAyDsB,KAAK,SAAS,cAAY,SALzG,UASA,qBAAKtB,UAAU,aAAf,SACE,mBAAGA,UAAU,0BAAb,SACI,mBAAGmc,KAAK,UAAR,8BAIE,IAAXjF,GACC,qBAAKgZ,MAAM,sBAAsB5uB,KAAK,QAAtC,SACE,sBAAKtB,UAAU,kBAAf,UACE,qBAAKA,UAAU,gBAAf,SACG6gB,IAEH,wBAAQzd,KAAK,SAASpD,UAAU,+DAA+DC,QAAS,WAxChHygB,GAAU,GACVI,EAAW,KAuCH,4BCoCG8d,GA1Gc,WAC3B,IAAIn+B,EAAUC,cACd,EAAkCb,mBAAS,IAA3C,mBAAOwY,EAAP,KAAkBwmB,EAAlB,KACA,EAAkCh/B,mBAAS,IAA3C,mBAAOyY,EAAP,KAAkBwmB,EAAlB,KACA,EAA0Bj/B,oBAAU,GAApC,mBAAOqX,EAAP,KAAcwJ,EAAd,KACA,EAAkC7gB,oBAAS,GAA3C,mBAAO8gB,EAAP,KAAkBC,EAAlB,KACA,EAA8B/gB,mBAAS,IAAvC,mBAAOghB,EAAP,KAAgBC,EAAhB,KAEA,EAAmBjhB,mBAASY,EAAQme,SAASve,UAAtCA,EAAP,oBAUM0+B,EAAQ,SAAAC,GAAE,OAAI,IAAIC,SAAQ,SAAAnnB,GAAG,OAAIonB,WAAWpnB,EAAKknB,OAEjDG,EAA0B,uCAAG,4BAAA9lB,EAAA,yDAC5BhB,EAAUhR,QAAWiR,EAAUjR,OADH,uBAE/BqZ,EAAS,GACTI,EAAW,qBAHoB,6BAO5BzI,EAAUhR,QAAWiR,EAAUjR,OAPH,uBAQ7BqZ,EAAS,GACTI,EAAW,0BATkB,iCAajCF,GAAa,GAboB,UAcf4C,GAAqBnL,EAAWC,EAAWjY,GAd5B,WAc3ByX,EAd2B,OAejC8I,GAAa,GACbF,EAAS,IACL5I,EAAIG,QAjByB,wBAkB/B6I,EAAW,YAAD,OAAahJ,EAAIqN,UAlBI,UAmBzB4Z,EAAM,KAnBmB,QAoB/Bt+B,EAAQyB,KAAK,UApBkB,wBAsB/B4e,EAAW,UAAD,OAAWhJ,EAAIqN,UAtBM,8EAAH,qDAgChC,OACE,sBAAKnlB,UAAW,aAAhB,UACE,gCACE,oBAAIA,UAAU,cAAd,6BAEA,sBAAKA,UAAU,aAAf,UACE,iDACA,uBACEoD,KAAK,WACLpD,UAAU,mCACV0c,YAAY,qBACZtV,MAAOiR,EACPgE,SAAU,SAACjc,IAtDS,SAACA,GAC7By+B,EAAaz+B,EAAEghB,OAAOha,OAqDKg4B,CAAsBh/B,SAG7C,sBAAKJ,UAAU,aAAf,UACE,oDACA,uBACEoD,KAAK,WACLpD,UAAU,mCACV0c,YAAY,yBACZtV,MAAOkR,EACP+D,SAAU,SAACjc,IA5DS,SAACA,GAC7B0+B,EAAa1+B,EAAEghB,OAAOha,OA2DKi4B,CAAsBj/B,SAG3C,yBACEJ,UAAU,qDACVC,QAASk/B,EAFX,UAIGxe,GACG,sBAAM3gB,UAAU,yDAAyDsB,KAAK,SAAS,cAAY,SALzG,WASA,qBAAKtB,UAAU,aAAf,SACE,mBAAGA,UAAU,0BAAb,SACE,mBAAGmc,KAAK,UAAR,8BAII,IAAXjF,GACC,qBAAKgZ,MAAM,sBAAsB5uB,KAAK,QAAtC,SACE,sBAAKtB,UAAU,kBAAf,UACE,qBAAKA,UAAU,gBAAf,SACG6gB,IAEH,wBAAQzd,KAAK,SAASpD,UAAU,+DAA+DC,QAAS,WAlDhHygB,GAAU,GACVI,EAAW,KAiDH,4BC/EL,SAAS3d,GAAqBC,EAAMC,GAAU,IAAD,OACnD,OAAO,SAAAC,GACFC,uBAAa,EAAKC,oBACrB,EAAKA,iBAAmB,IAEzB,IAAMZ,EAAG,UAAMQ,EAAN,YAAcC,IACnBoqB,oBAAUnqB,IAASmqB,oBAAU,EAAKjqB,iBAAiBZ,OAGtD,EAAKY,iBAAL,2BACI,EAAKA,kBADT,kBAEEZ,EAAM,CAAEQ,OAAMC,UAASC,YAMrB,SAASG,KACf,OAAOC,KAAKF,iB,ICbPS,G,kDACL,WAAY5E,GAAQ,IAAD,8BAClB,cAAMA,IACDkF,WAAa,EAAKA,WAAWD,KAAhB,gBAElB,EAAKG,oBAAsB,EAAKA,oBAAoBH,KAAzB,gBAC3B,EAAKI,eAAiB,EAAKA,eAAeJ,KAApB,gBACtB,EAAKK,gBAAkB,EAAKA,gBAAgBL,KAArB,gBAEvB,EAAKnB,qBAAuBA,GAAqBmB,KAArB,gBAC5B,EAAKb,oBAAsBA,GAAoBa,KAApB,gBAE3B,EAAKnC,MAAQ,CACZyC,yBAAyB,EACzBG,WAAY,GACZC,WAAY,IAdK,E,uDAiBnB,SAAoB1B,GACnBI,KAAKJ,KAAOA,I,4BAEb,SAAeA,GACdI,KAAK2B,WAAa/B,I,+BAEnB,WACCgC,SAASC,iBAAiB,QAAS7B,KAAKa,c,kCAEzC,WACCe,SAASK,oBAAoB,QAASjC,KAAKa,c,6BAE5C,SAAgBsC,GACf,IAAM1E,EAAQ2E,mBAASD,GAAc,SAAAE,GACpC,MAAO,CAAC,YAAD,OACMA,EAAK1D,SACjB0D,EAAKC,YAGPtD,KAAKkC,SAASzD,K,wBAWf,SAAW/B,M,oBAEX,WACC,IAAMstB,EAAQzlB,gBACZ3H,GAAG,GACH4H,QAAQ,CAAEC,WAAY,KACtBC,OAAM,SAACC,EAAGC,GAAQD,EAAEqlB,MAAQplB,KAC5BC,UAAS,SAAAF,GAAC,OAAIA,EAAEqlB,SAEZC,EAAQ1lB,gBACZ3H,GAAG,GACH4H,QAAQ,CAAEC,WAAY,KACtBC,OAAM,SAACC,EAAGC,GAAOD,EAAEslB,MAAQrlB,KAC3BC,UAAS,SAAAF,GAAC,OAAIA,EAAEslB,SAEZhlB,EAAiB9E,iBACrBqE,QAAQ,CACRU,KAAM,GACNC,KAAM,GACN/E,OAAQ,IAERsE,OAAM,SAACC,EAAGC,GAAOD,EAAExE,KAAOyE,KAC1BC,UAAS,SAAAF,GAAC,OAAIA,EAAExE,QAElB,EAAkDH,KAAKrE,MAA/C+D,EAAR,EAAQA,KAAY4F,EAApB,EAAcvG,KAAmBwG,EAAjC,EAAiCA,MAAOC,EAAxC,EAAwCA,MACtCF,EAAY4kB,WAAWvkB,SAAQ,SAAAC,GAChCA,EAAKhD,KAAOiD,IAAMD,EAAKukB,cAAcrkB,YAEtC,MAAmC9F,KAAKvB,MAElCsH,GAFN,EAAQ1E,WAAR,EAAoBC,WAEG2D,EAAeglB,EAAMD,EAAM1kB,EAAY4kB,eAG9D,EAFuBlkB,iCACrBC,mBAAkB,SAAAtB,GAAC,OAAIA,EAAE/B,OAMvBsD,CAAeH,GAJlBhH,EADD,EACCA,KACAoH,EAFD,EAECA,OACAC,EAHD,EAGCA,UACAC,EAJD,EAICA,iBAKKmB,EAAW,CAFHpB,EAAUqB,eAAK1I,IACjBqH,EAAUrH,EAAK2I,KAAKC,IAAI,EAAG5I,EAAK4E,OAAS,QAGrD,OACC,cAAC,IAAD,CAAa3E,IAAKgB,KAAKgB,eACtB6H,OAAQ,GACRtD,MAAOA,EACPC,MAAOA,EACPuD,OAAQ,CAAEC,KAAM,EAAGC,MAAO,EAAGC,IAAK,GAAIC,OAAQ,IAC9CzJ,KAAMA,EACN0J,WAAW,OACXrK,KAAMA,EACNoH,OAAQA,EACRC,UAAWA,EACXC,iBAAkBA,EAClBmB,SAAUA,EAXX,SAcC,cAAC,IAAD,CAAO5K,GAAI,EAAGiM,OAAQ,GACrBS,SAAU,CAAC,SAAA3E,GAAC,OAAIA,EAAEjB,QADnB,SAgBC,cAAC,YAAD,CAAWkH,UAAW,SAAAjG,GAAC,OAAIA,EAAEjB,OAAOiD,KAAM,SAAAhC,GAAC,OAAIW,EAAY9J,OAAOuP,OAAQ,SAAC5E,EAAQK,EAAQ7B,GAAjB,OAAuB6B,EAAO,c,GA3HxDtJ,IAAMmP,WAkJ3D9L,GAAuCjB,aAAe,CACrDI,KAAM,OAKQa,OAFfA,GAAyC+L,mBAAS/L,ICpInCmqB,I,OA1CO,SAAC/uB,GACrB,IAAQoD,EAA2CpD,EAA3CoD,KAAiB4rB,GAA0BhvB,EAArCqT,UAAqCrT,EAA1BgvB,uBAEzB,EAA2DxuB,qBAA3D,mBAAOkuB,EAAP,KAA8BC,EAA9B,KACA,EAAsCnuB,qBAAtC,mBAAOyuB,EAAP,KAAoBC,EAApB,KAEMC,EAA0B,SAACC,GAC/B,GAAIA,EAAc,CAChB,IAAIC,EAAY,eAAOD,GACjBb,EAAac,EAAad,WAAWzmB,QACzC,SAAChH,GAAD,MAAoC,KAA1B4tB,GAAgC5tB,EAAKwuB,SAAWZ,KAG5D,OADAW,EAAY,WAAiBd,EACtBc,EAET,OAAOD,GAcT,OAXAptB,qBAAU,WACR2sB,EAA0BK,GAC1B,IAAMO,EAAuBJ,EAAwB/rB,GACrD8rB,EAAeK,KACd,CAACP,IAEJhtB,qBAAU,WACR,IAAMutB,EAAuBJ,EAAwB/rB,GACrD8rB,EAAeK,KACd,CAACb,IAGF,qBAAK/tB,UAAU,kBAAf,SACGsuB,IACCA,EAAYV,WAAWvmB,OAAS,EAC9B,cAAC,GAAD,CAAOjE,KAAM,MAAOX,KAAM6rB,IAE1B,qBAAKtuB,UAAU,UAAf,6B,8BCIKs/B,I,OAvCQ,SAACjgC,GACtB,IAAQkgC,EAAgClgC,EAAhCkgC,MAAOljB,EAAyBhd,EAAzBgd,SAAUmjB,EAAengC,EAAfmgC,WACzB,EAA8B3/B,qBAA9B,mBAAOqI,EAAP,KAAgBiN,EAAhB,KACA,EAAwCtV,qBAAxC,mBAAO4/B,EAAP,UAsBA,OApBAp+B,qBAAU,WACR,IAAIq+B,EAAc,CAAC,CACjBn/B,MAAO,MACP6G,MAAO,QAETm4B,EAAMr/B,KAAI,SAACoD,GACL,aAAcA,GAChBA,EAAK6V,SAASjZ,KAAI,SAACy/B,GACjBD,EAAYx9B,KAAK,CACfkF,MAAOu4B,EAAMv4B,MACb7G,MAAOo/B,EAAMp/B,cAMrB4U,EAAWuqB,KAEV,CAACH,IAGF,qBAAKv/B,UAAU,qBAAf,SACE,cAAC,IAAD,CACE0C,IAAK88B,EACLp4B,MAAOq4B,EACPpjB,SAAUA,EACVnU,QAASA,EACTlI,UAAU,0BACV0c,YAAY,SCorBLkjB,I,gEA/rBb,WAAYvgC,GAAQ,IAAD,8BACjB,cAAMA,IAnBR8C,MAAQ,CACN09B,qBAAsB,GACtBC,sBAAuB,GACvBL,aAAc,CACZr4B,MAAO,GACP7G,MAAO,IAETw/B,2BAA4B,GAC5BC,mBAAoB,GAEpBC,sBAAuB,GACvBC,oBAAqB,EAAK7gC,MAAM8gC,aAEhCC,oBAAqB,GACrBC,qBAAsB,GACtBF,aAAc,EAAK9gC,MAAM8gC,cAKzB,EAAKG,qBAAuB,EAAKA,qBAAqBh8B,KAA1B,gBAC5B,EAAKi8B,sBAAwB,EAAKA,sBAAsBj8B,KAA3B,gBAC7B,EAAKk8B,4BAA8B,EAAKA,4BAA4Bl8B,KAAjC,gBAEnC,EAAKm8B,mBAAqB,EAAKA,mBAAmBn8B,KAAxB,gBAC1B,EAAKo8B,oBAAsB,EAAKA,oBAAoBp8B,KAAzB,gBAE3B,EAAKq8B,WAAa,EAAKA,WAAWr8B,KAAhB,gBAClB,EAAKs8B,cAAgB,EAAKA,cAAct8B,KAAnB,gBACrB,EAAKu8B,eAAiB,EAAKA,eAAev8B,KAApB,gBAEtB,EAAKw8B,SAAW,EAAKA,SAASx8B,KAAd,gBAChB,EAAKy8B,WAAa,EAAKA,WAAWz8B,KAAhB,gBAElB,EAAK08B,iBAAmB,EAAKA,iBAAiB18B,KAAtB,gBACxB,EAAK28B,YAAc,EAAKA,YAAY38B,KAAjB,gBACnB,EAAK48B,gBAAkB,EAAKA,gBAAgB58B,KAArB,gBAEvB,EAAK68B,oBAAsB,EAAKA,oBAAoB78B,KAAzB,gBAC3B,EAAK88B,iBAAmB,EAAKA,iBAAiB98B,KAAtB,gBACxB,EAAK+8B,YAAc,EAAKA,YAAY/8B,KAAjB,gBAtBF,E,uDA0BnB,WACE,IAAMg9B,EAAeC,qBAAU79B,KAAKvB,MAAMg+B,cACpCqB,EAAaD,qBAAU79B,KAAKrE,MAAMmiC,YAEpCC,EAAiB,GAErBD,EAAWthC,KAAI,SAACwhC,GACd,IAAIC,GAAa,EACjBL,EAAaphC,KAAI,SAAC0hC,GAChB,GAAIF,EAAUt6B,QAAUw6B,EAAiBx6B,QACvCu6B,GAAa,EACT,aAAcC,GAAoB,aAAcF,GAAW,CAC7D,IAAIG,EAAwB,GAC5BD,EAAiBzoB,SAASjZ,KAAI,SAAC4hC,GAC7BD,EAAsB3/B,KAAK4/B,EAAkB16B,UAE/Cs6B,EAAUvoB,SAASjZ,KAAI,SAAC6hC,GACtB,IAAMF,EAAsB9+B,SAASg/B,EAAW36B,OAAS,CACvD,IAAI46B,GAAY,EAChBP,EAAevhC,KAAI,SAAC+hC,EAAen6B,GAC7Bm6B,EAAc76B,QAAUw6B,EAAiBx6B,QAC3Cq6B,EAAe35B,GAAOqR,SAASjX,KAAK6/B,GACpCC,GAAY,MAIXA,GACHP,EAAev/B,KAAf,2BAAyBw/B,GAAzB,IAAoCvoB,SAAU,CAAC4oB,cAQtDJ,GACHF,EAAev/B,KAAKw/B,MAIxBh+B,KAAKkC,SAAS,CACZo6B,mBAAoByB,EACpB1B,2BAA4B0B,EAC5BxB,sBAAuBwB,M,kCAI3B,SAAqB5B,GACnBn8B,KAAKkC,SAAS,CAAEi6B,2B,mCAGlB,SAAsBC,GAAwB,IAAD,OAC3Cp8B,KAAKkC,SAAS,CAAEk6B,0BAAyB,WACvCt4B,QAAQC,IAAI,EAAKtF,MAAM29B,4B,gCAI3B,SAAmBoC,GACjBx+B,KAAKkC,SAAS,CAAEs8B,yB,iCAGlB,SAAoBC,GAAsB,IAAD,OACvCz+B,KAAKkC,SAAS,CAAEu8B,wBAAuB,WACrC36B,QAAQC,IAAI,EAAKtF,MAAMggC,0B,yCAI3B,SAA4B/hC,GAC1BsD,KAAKkC,SAAS,CAAE65B,aAAcr/B,IAC9B,IAAIgiC,EAAgB,GACpB,GAAgB,QAAZhiC,EAAEgH,MACJg7B,EAAgBb,qBAAU79B,KAAKvB,MAAM69B,wBAChC,CACL,IAAMyB,EAAiBF,qBAAU79B,KAAKvB,MAAM69B,oBACxC5/B,EAAEG,MAAMwC,SAAS,UACnBq/B,EAAgBX,EAAet6B,QAAO,SAAC7D,GAAD,OAAUA,EAAK/C,QAAUH,EAAEG,SAEjEkhC,EAAevhC,KAAI,SAACoD,GACd,aAAcA,GAChBA,EAAK6V,SAASjZ,KAAI,SAACmiC,GACbA,EAAU9hC,QAAUH,EAAEG,OACxB6hC,EAAclgC,KAAKoB,SAQ/BI,KAAKkC,SAAS,CACZm6B,2BAA4BqC,M,uBAIhC,SAAU7C,GAoBR,OAnBkBA,I,wBAsBpB,WACE,IAAM+C,EAAef,qBAAU79B,KAAKvB,MAAM09B,sBACpC0C,EAAiBhB,qBAAU79B,KAAKvB,MAAM69B,oBACtCwB,EAAaD,qBAAU79B,KAAKrE,MAAMmiC,YAEpCC,EAAiB,GACjBe,EAAkB,GAEtB,GAAIF,EAAc,CAChBA,EAAapiC,KAAI,SAACkH,GAChBm7B,EAAeriC,KAAI,SAACuiC,GAClB,GAAIr7B,EAAMrE,SAAS,SAAU,CAC3B,IAAI2/B,EAAoB,GACpB,aAAcD,IAChBA,EAActpB,SAASjZ,KAAI,SAACyiC,GACtBA,EAAUv7B,QAAUA,GACtBs7B,EAAkBxgC,KAAKygC,MAIvBD,EAAkBr7B,OAAS,GAC7Bm7B,EAAgBtgC,KAAhB,2BAA0BugC,GAA1B,IAAyCtpB,SAAUupB,WAInDD,EAAcr7B,QAAUA,GAC1Bo7B,EAAgBtgC,KAAKugC,SAO7B,IAAMG,EAAqBrB,qBAAU79B,KAAKvB,MAAMg+B,cAC5C0C,EAAuB,GAC3BL,EAAgBtiC,KAAI,SAAC4iC,GACnB,IAAIC,GAAQ,EAYZ,GAXAH,EAAmB1iC,KAAI,SAAC8iC,GACtB,GAAIA,EAAY57B,QAAU07B,EAAe17B,MAAO,CAC9C,IAAIs7B,EAAoBM,EAAY7pB,SACpC2pB,EAAe3pB,SAASjZ,KAAI,SAAC+iC,GAC3BP,EAAkBxgC,KAAK+gC,MAEzBJ,EAAqB3gC,KAArB,2BAA+B8gC,GAA/B,IAA4C7pB,SAAUupB,KACtDK,GAAQ,OAIPA,EAAO,CACV,IAAIG,GAAc,EAClBL,EAAqB3iC,KAAI,SAACoD,EAAMwE,GAC1BxE,EAAK8D,QAAU07B,EAAe17B,QAChCy7B,EAAqB/6B,GAAOqR,SAASjX,KAAK4gC,EAAe3pB,SAAS,IAClE+pB,GAAc,MAGbA,GACHL,EAAqB3gC,KAAK4gC,OAKhC,IAAIK,EAAoBN,EACxBD,EAAmB1iC,KAAI,SAACkjC,GACtB,IAAIL,GAAQ,EACZF,EAAqB3iC,KAAI,SAACmjC,GACpBD,EAAWh8B,QAAUi8B,EAAQj8B,QAC/B27B,GAAQ,MAGPA,GACHI,EAAkBjhC,KAAKkhC,MAI3B5B,EAAWthC,KAAI,SAACwhC,GACd,IAAIC,GAAa,EACjBwB,EAAkBjjC,KAAI,SAAC0hC,GACrB,GAAIF,EAAUt6B,QAAUw6B,EAAiBx6B,QACvCu6B,GAAa,EACT,aAAcC,GAAoB,aAAcF,GAAW,CAC7D,IAAIG,EAAwB,GAC5BD,EAAiBzoB,SAASjZ,KAAI,SAAC4hC,GAC7BD,EAAsB3/B,KAAK4/B,EAAkB16B,UAE/Cs6B,EAAUvoB,SAASjZ,KAAI,SAAC6hC,GACtB,IAAMF,EAAsB9+B,SAASg/B,EAAW36B,OAAS,CACvD,IAAI46B,GAAY,EAChBP,EAAevhC,KAAI,SAAC+hC,EAAen6B,GAC7Bm6B,EAAc76B,QAAUw6B,EAAiBx6B,QAC3Cq6B,EAAe35B,GAAOqR,SAASjX,KAAK6/B,GACpCC,GAAY,MAIXA,GACHP,EAAev/B,KAAf,2BAAyBw/B,GAAzB,IAAoCvoB,SAAU,CAAC4oB,cAQtDJ,GACHF,EAAev/B,KAAKw/B,MAIxBh+B,KAAKkC,SAAS,CACZu6B,aAAcgD,EACdnD,mBAAoByB,EACpB1B,2BAA4B0B,O,2BAKlC,WACE,IAAMa,EAAef,qBAAU79B,KAAKvB,MAAM+/B,oBACpCZ,EAAeC,qBAAU79B,KAAKvB,MAAMg+B,cACpCqB,EAAaD,qBAAU79B,KAAKrE,MAAMmiC,YAGpCC,EAAiB,GACjBe,EAAkB,GAEtB,GAAIF,EAAc,CAChBA,EAAapiC,KAAI,SAACkH,GAChBk6B,EAAaphC,KAAI,SAACuiC,GAChB,GAAIr7B,EAAMrE,SAAS,SAAU,CAC3B,IAAI2/B,EAAoB,GACxB,GAAI,aAAcD,IAChBA,EAActpB,SAASjZ,KAAI,SAACyiC,GACtBA,EAAUv7B,QAAUA,GACtBs7B,EAAkBxgC,KAAKygC,MAIvBD,EAAkBr7B,OAAS,GAAG,CAChC,IACyB,EADrBi8B,EAAed,EAAgBr7B,QAAO,SAAA7D,GAAI,OAAIA,EAAK8D,QAAUq7B,EAAcr7B,SAC/E,GAAIk8B,EAAaj8B,QACf,EAAAi8B,EAAa,GAAGnqB,UAASjX,KAAzB,QAAkCwgC,QAElCF,EAAgBtgC,KAAhB,2BAA0BugC,GAA1B,IAAyCtpB,SAAUupB,WAKrDD,EAAcr7B,QAAUA,GAC1Bo7B,EAAgBtgC,KAAKugC,SAQ7B,IAAMG,EAAqBrB,qBAAU79B,KAAKvB,MAAM69B,oBAC5C6C,EAAuB,GAC3BL,EAAgBtiC,KAAI,SAAC4iC,GACnB,IACIJ,EADAK,GAAQ,EAcZ,GAZAH,EAAmB1iC,KAAI,SAAC8iC,GAElBA,EAAY57B,QAAU07B,EAAe17B,QACvCs7B,EAAoBM,EAAY7pB,SAChC2pB,EAAe3pB,SAASjZ,KAAI,SAAC+iC,GAC3BP,EAAkBxgC,KAAK+gC,MAEzBJ,EAAqB3gC,KAArB,2BAA+B8gC,GAA/B,IAA4C7pB,SAAUupB,KACtDK,GAAQ,OAIPA,EAAO,CACV,IAAIG,GAAc,EAClBL,EAAqB3iC,KAAI,SAACoD,EAAMwE,GAC1BxE,EAAK8D,QAAU07B,EAAe17B,QAChCy7B,EAAqB/6B,GAAOqR,SAASjX,KAAK4gC,EAAe3pB,SAAS,IAClE+pB,GAAc,MAGbA,GACHL,EAAqB3gC,KAAK4gC,OAKhC,IAAIK,EAAoBN,EACxBD,EAAmB1iC,KAAI,SAACkjC,GACtB,IAAIL,GAAQ,EACZF,EAAqB3iC,KAAI,SAACmjC,GACpBD,EAAWh8B,QAAUi8B,EAAQj8B,QAC/B27B,GAAQ,MAGPA,GACHI,EAAkBjhC,KAAKkhC,MAI3B5B,EAAWthC,KAAI,SAACwhC,GACd,IAAIC,GAAa,EACjBwB,EAAkBjjC,KAAI,SAAC0hC,GACrB,GAAIF,EAAUt6B,QAAUw6B,EAAiBx6B,QACvCu6B,GAAa,EACT,aAAcC,GAAoB,aAAcF,GAAW,CAC7D,IAAIG,EAAwB,GAC5BD,EAAiBzoB,SAASjZ,KAAI,SAAC4hC,GAC7BD,EAAsB3/B,KAAK4/B,EAAkB16B,UAE/Cs6B,EAAUvoB,SAASjZ,KAAI,SAAC6hC,GACtB,IAAMF,EAAsB9+B,SAASg/B,EAAW36B,OAAS,CACvD,IAAI46B,GAAY,EAChBP,EAAevhC,KAAI,SAAC+hC,EAAen6B,GAC7Bm6B,EAAc76B,QAAUw6B,EAAiBx6B,QAC3Cq6B,EAAe35B,GAAOqR,SAASjX,KAAK6/B,GACpCC,GAAY,MAIXA,GACHP,EAAev/B,KAAf,2BAAyBw/B,GAAzB,IAAoCvoB,SAAU,CAAC4oB,cAQtDJ,GACHF,EAAev/B,KAAKw/B,MAIxBh+B,KAAKkC,SAAS,CACZu6B,aAAcsB,EACdzB,mBAAoBmD,EACpBpD,2BAA4BoD,O,yBAKlC,SAAYvgC,EAAKzC,EAAMggC,GACrB,IAAIoD,GAAU,EAWd,OAVApD,EAAa92B,SAAQ,SAAC1H,GAChBA,EAAQyF,QAAUxE,GACpBjB,EAAQwX,SAAS9P,SAAQ,SAACs2B,GACpBA,EAAMv4B,QAAUjH,EAAKiH,QACvBm8B,GAAU,SAMXA,I,8BAGT,WAAoB,IAAD,OACX/B,EAAa99B,KAAKrE,MAAMmiC,WAC1BC,EAAiB,GAEhB/9B,KAAKrE,MAAM8gC,eAIhBqB,EAAWthC,KAAI,SAACC,GACd,IAAIqjC,EAAQ,eAAOrjC,GACnB,GAAI,aAAcqjC,GACZA,EAASrqB,SAAS9R,OAAS,EAAG,CAChC,IAAIo8B,EAAsB,GAC1BD,EAASrqB,SAASjZ,KAAI,SAACyiC,GAChB,EAAKtB,YAAYmC,EAASp8B,MAAOu7B,EAAW,EAAKtjC,MAAM8gC,eAC1DsD,EAAoBvhC,KAAKygC,MAIzBc,EAAoBp8B,OAAS,GAC/Bo6B,EAAev/B,KAAf,2BAAwBshC,GAAxB,IAAkCrqB,SAAUsqB,SAKpD//B,KAAKkC,SAAS,CACZo6B,mBAAoByB,EACpB1B,2BAA4B0B,O,4BAIhC,WACE,IAAMD,EAAa99B,KAAKrE,MAAMmiC,WAC1BkC,EAAe,GACfjC,EAAiB,GACrBD,EAAWthC,KAAI,SAACC,GACd,IAAIqjC,EAAQ,eAAOrjC,GACnB,GAAIqjC,EAASpmB,QACX,GAAI,aAAcomB,EAChB,GAAIA,EAASrqB,SAAS9R,OAAS,EAAG,CAChC,IAAIq7B,EAAoB,GACpBe,EAAsB,GAC1BD,EAASrqB,SAASjZ,KAAI,SAACyiC,GACjBA,EAAUvlB,QACZslB,EAAkBxgC,KAAKygC,GAEvBc,EAAoBvhC,KAAKygC,MAIzBD,EAAkBr7B,OAAS,GAC7Bq8B,EAAaxhC,KAAb,2BAAsBshC,GAAtB,IAAgCrqB,SAAUupB,KAGxCe,EAAoBp8B,OAAS,GAC/Bo6B,EAAev/B,KAAf,2BAAwBshC,GAAxB,IAAkCrqB,SAAUsqB,UAG9CC,EAAaxhC,KAAKshC,QAGpBE,EAAaxhC,KAAKshC,QAGpB/B,EAAev/B,KAAKshC,MAGxB9/B,KAAKkC,SAAS,CACZu6B,aAAcuD,EACd1D,mBAAoByB,EACpB1B,2BAA4B0B,M,sBAIhC,SAASkC,GACP,IAAMrB,EAAef,qBAAU79B,KAAKvB,MAAM+/B,oBACpC/B,EAAeoB,qBAAU79B,KAAKvB,MAAMg+B,cAE1C,GAAImC,GAAgBsB,MAAMC,QAAQvB,GAAe,CAC/C,IAAIwB,GAAa,EACjBxB,EAAazW,OACb,IAAIkY,EAAe,GACf/B,GAAY,EAChBM,EAAapiC,KAAI,SAACC,GACZA,EAAK4C,SAAS,WAChBghC,EAAa7hC,KAAK/B,EAAK8jB,MAAM,KAAK,IAClC+d,GAAY,GAEV7hC,EAAK4C,SAAS,YACZghC,EAAa18B,OAAS,GACxB6Z,MAAO,0BACP4iB,GAAa,GAEbC,EAAa7hC,KAAK/B,EAAK8jB,MAAM,KAAK,QAIxC,IAAM+f,EAAgB,YAAO,IAAIC,IAAIF,IACrC,GAAgC,IAA5BC,EAAiB38B,OACnB6Z,MAAO,0BACP4iB,GAAa,MACR,CACL,IAAII,EAEAC,EAoCJ,GArCAD,EAAc,gBAAkBF,EAAiB,GAEjD7D,EAAajgC,KAAI,SAACoD,EAAMwE,GAClBxE,EAAK8D,QAAU88B,IACblC,EACE1+B,EAAK6V,SAAS9R,SAAWi7B,EAAaj7B,OACxC88B,EAAY,CACVh/B,OAAQ,SACRi/B,YAAat8B,EACbu8B,WAAY,MAGc,IAAxB/B,EAAaj7B,QACf6Z,MAAO,0BACP4iB,GAAa,GAEbxgC,EAAK6V,SAASjZ,KAAI,SAACy/B,EAAO0E,GACpB1E,EAAMv4B,QAAUk7B,EAAa,KAC/B6B,EAAY,CACVh/B,OAAQ,QACRi/B,YAAat8B,EACbu8B,WAAYA,OAOtBF,EAAY,CACVh/B,OAAQ,SACRi/B,YAAat8B,EACbu8B,WAAY,UAMhBP,EACF,GAAkB,OAAdH,GACF,GAAyB,WAArBQ,EAAUh/B,QACZ,GAAIg/B,EAAUC,YAAc,EAAG,CAC7B,IAAME,EAAOnE,EAAagE,EAAUC,YAAc,GAClDjE,EAAagE,EAAUC,YAAc,GAAKjE,EAAagE,EAAUC,aACjEjE,EAAagE,EAAUC,aAAeE,QAGxC,GAAIH,EAAUE,WAAa,EAAG,CAC5B,IAAMC,EAAOnE,EAAagE,EAAUC,aAAajrB,SAASgrB,EAAUE,WAAa,GACjFlE,EAAagE,EAAUC,aAAajrB,SAASgrB,EAAUE,WAAa,GAAKlE,EAAagE,EAAUC,aAAajrB,SAASgrB,EAAUE,YAChIlE,EAAagE,EAAUC,aAAajrB,SAASgrB,EAAUE,YAAcC,QAIzE,GAAyB,WAArBH,EAAUh/B,QACZ,GAAIg/B,EAAUC,YAAcjE,EAAa94B,OAAS,EAAG,CACnD,IAAMi9B,EAAOnE,EAAagE,EAAUC,YAAc,GAClDjE,EAAagE,EAAUC,YAAc,GAAKjE,EAAagE,EAAUC,aACjEjE,EAAagE,EAAUC,aAAeE,QAGxC,GAAIH,EAAUE,WAAalE,EAAagE,EAAUC,aAAajrB,SAAS9R,OAAS,EAAG,CAClF,IAAMi9B,EAAOnE,EAAagE,EAAUC,aAAajrB,SAASgrB,EAAUE,WAAa,GACjFlE,EAAagE,EAAUC,aAAajrB,SAASgrB,EAAUE,WAAa,GAAKlE,EAAagE,EAAUC,aAAajrB,SAASgrB,EAAUE,YAChIlE,EAAagE,EAAUC,aAAajrB,SAASgrB,EAAUE,YAAcC,EAM7E5gC,KAAKkC,SAAS,CACZu6B,aAAcA,UAIlBjf,MAAO,gC,sBAIX,WACExd,KAAK6gC,SAAS,Q,wBAGhB,WACE7gC,KAAK6gC,SAAS,U,8BAGhB,WACE7gC,KAAKkC,SAAS,CACZo6B,mBAAoBt8B,KAAKvB,MAAM89B,sBAC/BE,aAAcz8B,KAAKvB,MAAM+9B,wB,yBAI7B,WACEx8B,KAAKrE,MAAMmlC,0BAA0B9gC,KAAKvB,MAAMg+B,cAChDz8B,KAAKrE,MAAMolC,eAAc,K,6BAG3B,WACE/gC,KAAKkC,SAAS,CACZo6B,mBAAoBt8B,KAAKvB,MAAM89B,sBAC/BE,aAAcz8B,KAAKvB,MAAM+9B,sBAE3Bx8B,KAAKrE,MAAMolC,eAAc,K,+BAG3B,WACE/gC,KAAKy9B,sBACLz9B,KAAK09B,qB,oBAGP,WACE,MAAoF19B,KAAKvB,MAAjF09B,EAAR,EAAQA,qBAAsBC,EAA9B,EAA8BA,sBAAuBC,EAArD,EAAqDA,2BAErD,OACE,sBAAK//B,UAAU,mBAAf,UACE,sBAAKA,UAAU,aAAf,UACE,sBAAKA,UAAU,8BAAf,UACE,qBAAKA,UAAU,kBAAf,SACE,qDAEF,sBAAKA,UAAU,aAAf,UACE,cAAC,GAAD,CACEu/B,MAAO77B,KAAKvB,MAAM69B,mBAClB3jB,SAAU3Y,KAAK88B,8BAEjB,cAAC,KAAD,CACExL,QAAS6K,EACT6E,SAAU5E,EACVP,MAAOQ,EACP4E,QAASjhC,KAAK48B,qBACdsE,SAAUlhC,KAAK68B,2BAGnB,qBAAKvgC,UAAU,kBAAf,SACE,qBAAKA,UAAU,yBAAyBC,QAASyD,KAAKi9B,WAAtD,SACE,+BAAO,0BAIb,sBAAK3gC,UAAU,+BAAf,UACE,qBAAKA,UAAU,mBAAf,SACE,qDAEF,sBAAKA,UAAU,kBAAf,UACE,8BACE,qBAAKA,UAAU,aAAf,SACE,cAAC,KAAD,CACEg1B,QAAStxB,KAAKvB,MAAM+/B,mBACpBwC,SAAUhhC,KAAKvB,MAAMggC,oBACrB5C,MAAO77B,KAAKvB,MAAMg+B,aAClBwE,QAASjhC,KAAK+8B,mBACdmE,SAAUlhC,KAAKg9B,0BAIrB,sBAAK1gC,UAAU,sBAAf,UACE,qBAAKA,UAAU,gBAAf,SACE,qBAAKA,UAAU,YAAYC,QAASyD,KAAKm9B,eAAzC,SACE,qDAGJ,sBAAK7gC,UAAU,mBAAf,UACE,qBAAKA,UAAU,YAAYC,QAASyD,KAAKo9B,SAAzC,SACE,6CAEF,qBAAK9gC,UAAU,YAAYC,QAASyD,KAAKq9B,WAAzC,SACE,wDAKR,qBAAK/gC,UAAU,mBAAf,SACE,qBAAKA,UAAU,yBAAyBC,QAASyD,KAAKk9B,cAAtD,SACE,+BAAO,gCAKf,sBAAK5gC,UAAU,eAAf,UACE,qBAAKA,UAAU,iCAAf,SACE,qBAAKA,UAAU,wBAAwBC,QAASyD,KAAKs9B,iBAArD,SACE,+CAGJ,sBAAKhhC,UAAU,kCAAf,UACE,qBAAKA,UAAU,mBAAmBC,QAASyD,KAAKu9B,YAAhD,SACE,wCAEF,qBAAKjhC,UAAU,uBAAuBC,QAASyD,KAAKw9B,gBAApD,SACE,yD,GAzsBOtgC,IAAMmP,YCoLZ80B,GArLmB,SAACxlC,GACjC,MAAoCQ,mBAAS,IAA7C,mBAAO2hC,EAAP,KAAmBsD,EAAnB,KACA,EAAwCjlC,mBAASR,EAAM0lC,iBAAvD,mBAAO5E,EAAP,KAAqB6E,EAArB,KAqKA,OA1JA3jC,qBAAU,WACR,IAAIk+B,EAAQ,GACR0F,EAAa,GAEXC,EAAY,uCAAG,kCAAA7rB,EAAA,sEACHoN,KADG,QACf3O,EADe,QAEXuD,SACA8pB,EAAsBrtB,EAAIuD,OAAO+pB,iBACjCl+B,EAAa4Q,EAAIuD,OAAOnU,WACX4Q,EAAIuD,OAAOgqB,YACxBC,EAAgBxtB,EAAIuD,OAAOkqB,eAGjCN,EAAa,GACbE,EAAoBK,MAAMtlC,KAAI,SAACoD,EAAMwE,GACnCm9B,EAAW/iC,KAAK,CACd3B,MAAO+C,EACP8D,MAAO,kBAAoBU,EAAQ,GACnCsV,UAAS+nB,EAAoBM,SAAS1iC,SAASO,QAI/C2hC,EAAW59B,OAAS,EACtBk4B,EAAMr9B,KAAK,CACT3B,MAAO,mBACP6G,MAAO,iBACP+R,SAAU8rB,EACV7nB,SAAS,IAGXmiB,EAAMr9B,KAAK,CACT3B,MAAO,mBACP6G,MAAO,iBACPgW,SAAS,IAKb6nB,EAAa,GACb/9B,EAAWs+B,MAAMtlC,KAAI,SAACoD,EAAMwE,GAC1Bm9B,EAAW/iC,KAAK,CACd3B,MAAO+C,EACP8D,MAAO,kBAAoBU,EAAQ,GACnCsV,UAASlW,EAAWu+B,SAAS1iC,SAASO,QAItC2hC,EAAW59B,OAAS,EACtBk4B,EAAMr9B,KAAK,CACT3B,MAAO,aACP6G,MAAO,iBACP+R,SAAU8rB,EACV7nB,SAAS,IAGXmiB,EAAMr9B,KAAK,CACT3B,MAAO,aACP6G,MAAO,iBACPgW,SAAS,IA8Bb6nB,EAAa,GACbK,EAAcE,MAAMtlC,KAAI,SAACoD,EAAMwE,GAC7Bm9B,EAAW/iC,KAAK,CACd3B,MAAO+C,EACP8D,MAAO,kBAAoBU,EAAQ,GACnCsV,UAASkoB,EAAcG,SAAS1iC,SAASO,QAIzC2hC,EAAW59B,OAAS,EACtBk4B,EAAMr9B,KAAK,CACT3B,MAAO,iBACP6G,MAAO,iBACP+R,SAAU8rB,EACV7nB,SAAS,IAGXmiB,EAAMr9B,KAAK,CACT3B,MAAO,iBACP6G,MAAO,iBACPgW,SAAS,IAIbmiB,EAAMr9B,KAAK,CACT3B,MAAO,gBACP6G,MAAO,iBACP+R,SAAU,CACN,CACI5Y,MAAO,IACP6G,MAAO,kBACPgW,SAAS,GAEb,CACI7c,MAAO,IACP6G,MAAO,kBACPgW,SAAS,GAEb,CACI7c,MAAO,IACP6G,MAAO,kBACPgW,SAAS,GAEb,CACI7c,MAAO,IACP6G,MAAO,kBACPgW,SAAS,GAEb,CACI7c,MAAO,IACP6G,MAAO,kBACPgW,SAAS,GAEb,CACI7c,MAAO,OACP6G,MAAO,kBACPgW,SAAS,OAKrB0nB,EAAcvF,GAjJK,2CAAH,qDAmJlB2F,MACC,IAGD,qBAAKllC,UAAU,gCAAf,SACGwhC,EAAWn6B,OAAS,GACnB,cAAC,GAAD,CACEm6B,WAAYA,EACZrB,aAAcA,EACdqE,0BAzK0B,SAACjF,GACjCyF,EAAgBzF,GAChBlgC,EAAMqmC,WAAWnG,IAwKXkF,cArKc,SAACkB,GACrBtmC,EAAMumC,yBC2vBKC,I,OA/vBO,SAACxmC,GACrB,MAAsCQ,oBAAS,GAA/C,mBAAOimC,EAAP,KAAoBC,EAApB,KACA,EAA8ClmC,mBAC5C,CACE,CACEU,MAAO,aACP6G,MAAO,iBACP+R,SAAU,CACN,CACI5Y,MAAO,MACP6G,MAAO,kBACPgW,SAAS,GAEb,CACI7c,MAAO,OACP6G,MAAO,kBACPgW,SAAS,GAEb,CACI7c,MAAO,OACP6G,MAAO,kBACPgW,SAAS,GAEb,CACI7c,MAAO,OACP6G,MAAO,kBACPgW,SAAS,GAEb,CACI7c,MAAO,QACP6G,MAAO,kBACPgW,SAAS,IAGjB,SAAW,KAhCjB,mBAAO2nB,EAAP,KAAwBiB,EAAxB,KAqCA,EAA4CnmC,mBAAS,IAArD,mBAAOomC,EAAP,KAAuBC,EAAvB,KACA,EAAkCrmC,oBAAS,GAA3C,mBAAO8gB,EAAP,KAAkBC,EAAlB,KACA,EAAoB/gB,mBAAS,MAA7B,mBAAOsmC,EAAP,KAAWC,EAAX,KACA,EAAgEvmC,oBAAS,GAAzE,mBAAOwmC,EAAP,KAAiCC,EAAjC,KACA,EAAkDzmC,mBAAS,CACzDuH,MAAO,OACP7G,MAAO,SAFT,mBAAOgmC,EAAP,KAA0BC,EAA1B,KAIA,EAAmC3mC,mBAAS,CAC1C,CACEuH,MAAO,SACP7G,MAAO,UAET,CACE6G,MAAO,UACP7G,MAAO,WAET,CACE6G,MAAO,OACP7G,MAAO,QAET,CACE6G,MAAO,QACP7G,MAAO,WAfJkmC,EAAP,oBAkBA,EAA8D5mC,mBAAS,MAAvE,mBAAOqvB,EAAP,KACA,GADA,KAC0CrvB,oBAAS,IAAnD,mBAAO6mC,EAAP,KAAsBC,EAAtB,KACA,EAAsC9mC,mBAAS,IAA/C,mBAAO+mC,EAAP,KAAoBC,EAApB,KACA,EAA0BhnC,mBAAS,CACjC,CACEuH,MAAO,SACP7G,MAAO,SACP0I,MAAO,OAJJ69B,EAAP,oBAOA,GAAgCjnC,oBAAS,GAAzC,qBAAiBknC,IAAjB,aACA,GAAoDlnC,oBAAS,GAA7D,qBAAOmnC,GAAP,MAA2BC,GAA3B,MACA,GAA8CpnC,mBAAS,IAAvD,qBAAOqnC,GAAP,MAAwBC,GAAxB,MACA,GAA0CtnC,mBAAS,IAAnD,qBAAsBunC,IAAtB,aAEA,GAA8BvnC,mBAAS,CACrC,CACEuH,MAAO,SACP7G,MAAO,SACP0I,MAAO,KAET,CACE7B,MAAO,MACP7G,MAAO,MACP0I,MAAO,KAET,CACE7B,MAAO,OACP7G,MAAO,OACP0I,MAAO,KAET,CACE7B,MAAO,OACP7G,MAAO,OACP0I,MAAO,KAET,CACE7B,MAAO,OACP7G,MAAO,OACP0I,MAAO,KAET,CACE7B,MAAO,QACP7G,MAAO,QACP0I,MAAO,KAET,CACE7B,MAAO,QACP7G,MAAO,QACP0I,MAAO,OAlCX,qBAAOigB,GAAP,MAAgBwc,GAAhB,MAsCA,GAAoC7lC,mBAAS,IAA7C,qBAAOwnC,GAAP,MAAmBC,GAAnB,MACA,GAAgDznC,mBAAS,CACvD,CACEuH,MAAO,KACP7G,MAAO,MAET,CACE6G,MAAO,KACP7G,MAAO,QAPX,qBAAOgnC,GAAP,MAWA,IAXA,MAW0C1nC,mBAAS,KAAnD,qBAAO2nC,GAAP,MAAsBC,GAAtB,MACA,GAAkD5nC,mBAAS,IAA3D,qBAAO6nC,GAAP,MAA0BC,GAA1B,MAMM/B,GAAmB,WACvBU,GAA4B,IAG9BjlC,qBAAU,WACR,IAAMumC,EAAyB,uCAAG,oCAAAvuB,EAAA,sEACX2N,GAAmB3nB,EAAMynB,cADd,QAC1BzL,EAD0B,UAG1B6N,EAAU7N,EAAO0L,UAEf8gB,EAAO,GACPC,EAAQ,GACRC,EAAa,GACjBjY,OAAOC,KAAK7G,GAAS7f,SAAQ,SAACzG,GAC5BsmB,EAAQtmB,GAAKuW,SAAS9P,SAAQ,SAACysB,GAC7B+R,EAAK3lC,KAAK4zB,EAAIv1B,OACdunC,EAAM5lC,KAAK4zB,EAAIv1B,UAGjBwnC,EAAW7lC,KAAX,eACGgnB,EAAQtmB,GAAKrC,MAAQunC,IAExBA,EAAQ,MAEVjB,EAAegB,GACf7B,EAAmB9c,GACnByd,GAAkBD,IArBU,2CAAH,qDA0B/BkB,MAEC,IAEHvmC,qBAAU,WACR,IAAM2mC,EAAQ,uCAAG,8BAAA3uB,EAAA,6DACThD,EAAiB,CACrBC,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAM1V,KAAK2V,UAAU,CACnB,KAAQ8vB,EAAkBn/B,SAG1B2L,EAAO,GARI,kBAWP4D,MAAMC,wDAA4DP,GACvEQ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,KAFK,uCAEA,WAAMpU,GAAN,mBAAA4W,EAAA,6DAEJtG,EAAOtQ,EAAK4Y,OAFR,SAIqBqL,GAAmB3T,EAAM,oBAJ9C,OAIEk1B,EAJF,OAKJC,GAAoBD,GAKhBzW,EAAW,GACXra,EAAU,GACdpE,EAAK1J,SAAQ,SAACqnB,GACZ,IAAMyX,EAAS,GACfjf,GAAQ7f,SAAQ,SAACysB,GACG,UAAdA,EAAI1uB,MACN+gC,EAAOrS,EAAI1uB,OAAS,eAEpB+gC,EAAOrS,EAAI1uB,OAAS,UAGxB+gC,EAAO/7B,OAASskB,EAChBvZ,EAAQjV,KAAK,CACXkF,MAAOspB,EACPnwB,MAAOmwB,IAETc,EAAStvB,KAAKimC,MAGhBC,GAAmBjxB,GACnBiwB,GAAiBjwB,GACjBgwB,GAAmBhwB,GACnBwwB,GAAqBnW,GACrBuV,IAAY,GAjCR,4CAFA,uDAXO,uDAiDbv/B,QAAQC,IAAR,MAjDa,yDAAH,qDAoDdmZ,EAAa,GACbonB,MACC,CAACzB,IAEJllC,qBAAU,WAER,GADayuB,OAAOC,KAAK6W,GACjBv/B,OAAQ,CACd,IAAM6hB,EAAO,YAAO4d,GACpBF,EAAYv9B,SAAQ,SAACjC,GACL,WAAVA,GACF8hB,EAAQhnB,KAAK,CACXkF,MAAOA,EACP7G,MAAO6G,EACP6B,MAAO,SAIbigB,EAAQhnB,KAAK,CACXkF,MAAO,QACP7G,MAAO,QACP0I,MAAO,MAETy8B,GAAWxc,MAGZ,CAACwd,IAEJ,IAAM2B,GAAmB,SAACj8B,GACxB,IAAK65B,EAAe5+B,OAClB,OAAO,EAET,IAAMihC,EAAWrC,EAAe9+B,QAAO,SAACuL,GAAgB,OAAOA,EAAUtG,SAAWA,KACpF,QAAKk8B,EAASjhC,UAGPihC,EAAS,GAAG51B,UAAUrL,QAGzB6gC,GAAsB,SAACD,GACtBA,EAAW5gC,QAIhB4gC,EAAW5+B,SAAQ,SAACk/B,GAClBC,GAAuBD,EAAU,GAAIA,EAAU,QAI7CE,GAAuB,SAACr8B,EAAQs8B,GACpC,IAAKzC,EAAe5+B,OAClB,MAAO,GAGT,IAAMihC,EAAWrC,EAAe9+B,QAAO,SAACuL,GAAgB,OAAOA,EAAUtG,SAAWA,KACpF,IAAKk8B,EAASjhC,OACZ,MAAO,GAGT,IAAIshC,EAAkBL,EAAS,GAAG51B,UAAUxS,KAAI,SAACyQ,GAE/C,OADAA,EAAMid,WAAWgb,OAAO,EAAGj4B,EAAMid,WAAWvmB,OAAS,IAC9CsJ,KAGT,OAAI+3B,EACKC,EAAgB,GAIlBA,GAGTtnC,qBAAU,WACR,IACIwnC,EAAU,GACVC,GAAU,EAFCpB,GAINr+B,SAAQ,SAAC0/B,GAChBvB,GAAcn+B,SAAQ,SAAAyC,GACpB,GAAIA,EAAEM,SAAW28B,EAAK38B,OAAQ,CAC5B,IAAMukB,EAAS,yBACbvkB,OAAQN,EAAEM,QACPN,EAAErJ,MAFQ,IAGbkO,MACE,qBAAK3Q,UAAU,uEAAf,SACE,qBAAKA,UAAU,iEAAf,SACGqoC,GAAiBv8B,EAAEM,QAClB,cAAC,GAAD,CACE3J,KAAMgmC,GAAqB38B,EAAEM,QAAQ,GACrCsG,UAAW+1B,GAAqB38B,EAAEM,QAAQ,GAC1CiiB,sBAAuBa,IAET,IAAdvO,EACF,qBAAK3gB,UAAU,UAAf,qBAEA,qBAAKA,UAAU,UAAf,+BAKV6oC,EAAQ3mC,KAAKyuB,GACbmY,GAAU,MAGVA,GACFD,EAAQ3mC,KAAK6mC,GAEfD,GAAU,KAGZnB,GAAqBkB,GACrB5B,IAAsB,KACrB,CAACD,KAEJ3lC,qBAAU,WAER,IAAIwmC,EAAO,GACPC,EAAQ,GACRC,EAAa,GAcjB,GAZAjY,OAAOC,KAAKgV,GAAiB17B,SAAQ,SAACzG,GACpCmiC,EAAgBniC,GAAKuW,SAAS9P,SAAQ,SAACysB,GACrC+R,EAAK3lC,KAAK4zB,EAAIv1B,OACdunC,EAAM5lC,KAAK4zB,EAAIv1B,UAGjBwnC,EAAW7lC,KAAX,eACG6iC,EAAgBniC,GAAKrC,MAAQunC,IAEhCA,EAAQ,MAGNhC,EAAa,CACf,IAAM3uB,EAAU+vB,GAAgBhnC,KAAK,SAAC4L,GAAD,OAAOA,EAAE1E,SAExC+d,EAAU,CACdve,OAAQ,gBACRkgB,aAAcznB,EAAMynB,aACpB3P,UACA6xB,YAAa,QACbjiB,OAAQghB,GAGV5B,EAAG8C,KAAKnoC,KAAK2V,UAAU0O,IACvB3d,QAAQC,IAAI,sCAAuC0d,MAEpD,CAAC2gB,IAEJ,IAAMsC,GAAqB,SAACtuB,GAC1B,IAAI+tB,EAAO,GACPC,EAAQ,GACRC,EAAa,GACX7e,EAAU6b,EAgBhB,GAfAjV,OAAOC,KAAK7G,GAAS7f,SAAQ,SAACzG,GAC5BsmB,EAAQtmB,GAAKuW,SAAS9P,SAAQ,SAACysB,GAC7B+R,EAAK3lC,KAAK4zB,EAAIv1B,OACdunC,EAAM5lC,KAAK4zB,EAAIv1B,UAGjBwnC,EAAW7lC,KAAX,eACGgnB,EAAQtmB,GAAKrC,MAAQunC,IAExBA,EAAQ,MAMNhC,EAAa,CACf,IAAM3uB,EAAU2C,EAAW5Z,KAAK,SAAC4L,GAAD,OAAOA,EAAE1E,SAEnC+d,EAAU,CACdve,OAAoC,WAA5B2/B,EAAkBn/B,MAAqB,gBAAkB,gBACjE0f,aAAcznB,EAAMynB,aACpB3P,UACA6xB,YAAyC,WAA5BzC,EAAkBn/B,MAAqB,SAAW,QAC/D2f,OAAQghB,GAGV5B,EAAG8C,KAAKnoC,KAAK2V,UAAU0O,MAqCrB+jB,GAAiB,SAACtmC,EAAKzC,GAG3B,GADmB,CAAC,MAAO,OAAQ,OAAQ,OAAQ,SACpC4C,SAASH,GACtB,OAAQA,GACN,IAAK,MAKH,MAJ4B,QAAlBzC,EAAKgpC,SACb,wBAA4C,SAAlBhpC,EAAKgpC,SAC/B,0BAA8C,SAAlBhpC,EAAKgpC,SACjC,+BAAiC,uBAErC,IAAK,OAKH,MAJ8B,QAApBhpC,EAAKipC,WACX,yBAA+C,QAApBjpC,EAAKipC,WAChC,wBAA8C,QAApBjpC,EAAKipC,WAC/B,uBAAyB,sBAE/B,IAAK,OAKH,MAJ8B,QAApBjpC,EAAKkpC,WACX,yBAA+C,QAApBlpC,EAAKkpC,WAChC,wBAA8C,QAApBlpC,EAAKkpC,WAC/B,uBAAyB,sBAE/B,IAAK,OAKH,MAJ+B,QAArBlpC,EAAKmpC,YACX,yBAA+C,QAApBnpC,EAAKopC,WAChC,wBAA8C,QAApBppC,EAAKopC,WAC/B,uBAAyB,sBAE/B,IAAK,QAKH,MAJ+B,QAArBppC,EAAKqpC,YACX,yBAAgD,QAArBrpC,EAAKqpC,YAChC,wBAA+C,QAArBrpC,EAAKqpC,YAC/B,uBAAyB,sBAE/B,QACE,MAAO,GAGb,MAAO,IAOHC,GAAqB,uCAAG,WAAOrpC,GAAP,SAAAiZ,EAAA,sEACtBqwB,IAAgB,GADM,OAE5BzC,IAAsB,GACtBT,EAAqBpmC,GAHO,2CAAH,sDAMrBooC,GAAsB,uCAAG,WAAOD,EAAWn8B,GAAlB,2BAAAiN,EAAA,sDACzBga,EAAU,CACZ9yB,MAAO,UACPwuB,MAAO,EACP7vB,MAAO,oBACP0uB,WAAY,IAEV0F,EAAgB,CAClB/yB,MAAO,kBACPwuB,MAAO,EACP7vB,MAAO,kBACP0uB,WAAY,IAEV2F,EAAc,CAChBhzB,MAAO,eACPwuB,MAAO,EACP7vB,MAAO,iBACP0uB,WAAY,IAEV4F,EAAe,CACjBjzB,MAAO,OACPwuB,MAAO,EACP7vB,MAAO,oBACP0uB,WAAY,IAEV6F,EAAY,CACdlzB,MAAO,aACPwuB,MAAO,EACP7vB,MAAO,kBACP0uB,WAAY,IAEV8F,EAAwB,CAC1BnzB,MAAO,2BACPwuB,MAAO,EACP7vB,MAAO,oBACP0uB,WAAY,IAGV2a,GAAaA,EAAUlhC,QACzBkhC,EAAUl/B,SAAQ,SAAClJ,GACjBkzB,EAAQzF,WAAW1rB,KAAK,CACtB2rB,aAAc1tB,EAAK0tB,aACnBc,OAAQxuB,EAAKwuB,OACbvnB,MAAOjH,EAAKwzB,WAEdL,EAAc1F,WAAW1rB,KAAK,CAC5B2rB,aAAc1tB,EAAK0tB,aACnBc,OAAQxuB,EAAKwuB,OACbvnB,MAAOjH,EAAKmzB,gBAEdC,EAAY3F,WAAW1rB,KAAK,CAC1B2rB,aAAc1tB,EAAK0tB,aACnBc,OAAQxuB,EAAKwuB,OACbvnB,MAAOjH,EAAKozB,cAEdC,EAAa5F,WAAW1rB,KAAK,CAC3B2rB,aAAc1tB,EAAK0tB,aACnBc,OAAQxuB,EAAKwuB,OACbvnB,MAAOjH,EAAKqzB,eAEdC,EAAU7F,WAAW1rB,KAAK,CACxB2rB,aAAc1tB,EAAK0tB,aACnBc,OAAQxuB,EAAKwuB,OACbvnB,MAAOjH,EAAKyzB,YAEdF,EAAsB9F,WAAW1rB,KAAK,CACpC2rB,aAAc1tB,EAAK0tB,aACnBc,OAAQxuB,EAAKwuB,OACbvnB,MAAOjH,EAAKuzB,4BAKZiW,EAAc1D,GACR/jC,KAAK,CACfkK,OAAQA,EACRsG,UAAW,CACTmgB,GAAqBQ,GACrBR,GAAqBS,GACrBT,GAAqBU,GACrBV,GAAqBW,GACrBX,GAAqBY,GACrBZ,GAAqBa,MAIzBwS,EAAkByD,GAClB/oB,EAAa,GAvFgB,4CAAH,wDA0FtB8oB,GAAe,uCAAK,WAAOtkB,GAAP,eAAA/L,EAAA,0DACpB8sB,EADoB,oBAElB/gB,EAFkB,gBAGpB+gB,EAAG34B,QAHiB,uDASlBo8B,EAAS,IAAIC,UAAUjzB,mCAC7BwvB,EAAMwD,GAENA,EAAOE,OAAS,WACd/D,GAAe,GACfv+B,QAAQC,IAAI,uBAGdmiC,EAAOG,UAAY,SAACn2B,GAClB,IACE,IAAMo2B,EAAMlpC,KAAKC,MAAM6S,EAAMnR,MAC7BglC,GAAiBuC,GACjB/C,IAAsB,GACtB,MAAO/vB,GACP1P,QAAQC,IAAIyP,KAIhB0yB,EAAOK,QAAU,WACfziC,QAAQC,IAAI,uBA5BU,4CAAL,sDAgCrBpG,qBAAW,WACS,IAAdsf,GACF+oB,IAAgB,KA0BjB,CAAC/oB,IAEJ,IAAMkS,GAAuB,SAACpwB,GAC5B,IAAIqwB,EAAU,eAAQrwB,GActB,OAbIqwB,EAAWlF,WAAWvmB,OAAS,GACjCyrB,EAAWlF,WAAW/B,MAAK,SAAUxS,EAAG8W,GACtC,IAAIC,EAAS/W,EAAC,aACVgX,EAASF,EAAC,aAOd,MANgC,iBAArB9W,EAAC,eACV+W,EAASA,EAAOE,YAEc,iBAArBH,EAAC,eACVE,EAASA,EAAOC,YAEXF,EAAOG,cAAcF,MAGzByC,GAgBT,OACE,sBAAK9yB,UAAU,4BAAf,UACE,cAAC0pB,GAAA,EAAD,CAAO5Y,KAAMu1B,EAA0BrmC,UAAU,sBAAsB2pB,OAAQ,kBAAMic,MAArF,SACE,cAAC,GAAD,CACEA,iBAAkBA,GAClBF,WAjRgB,SAACxc,GACvB,IAAI2e,EAAO,GACPC,EAAQ,GACRC,EAAa,GAgBjB,GAfAjY,OAAOC,KAAK7G,GAAS7f,SAAQ,SAACzG,GAC5BsmB,EAAQtmB,GAAKuW,SAAS9P,SAAQ,SAACysB,GAC7B+R,EAAK3lC,KAAK4zB,EAAIv1B,OACdunC,EAAM5lC,KAAK4zB,EAAIv1B,UAGjBwnC,EAAW7lC,KAAX,eACGgnB,EAAQtmB,GAAKrC,MAAQunC,IAExBA,EAAQ,MAEVnB,GAAkBD,GAClBG,EAAegB,GACf7B,EAAmB9c,GAEf4c,EAAa,CACf,IAAM3uB,EAAU+vB,GAAgBhnC,KAAK,SAAC4L,GAAD,OAAOA,EAAE1E,SAExC+d,EAAU,CACdve,OAAQ,gBACRkgB,aAAcznB,EAAMynB,aACpB3P,UACA6xB,YAAyC,WAA5BzC,EAAkBn/B,MAAqB,SAAW,QAC/D2f,OAAQghB,GAEV5B,EAAG8C,KAAKnoC,KAAK2V,UAAU0O,MAqPnB4f,gBAAiBA,MAGrB,sBAAK/kC,UAAU,mDAAf,UACE,sBAAKA,UAAU,yBAAf,UACE,qBAAKA,UAAU,gCAAf,SACE,cAAC,IAAD,CACE6C,KAAK,UACL6Z,YAAY,aACZtV,MAAOigC,GACPhrB,SAjNkB,SAACjc,GAC7BknC,GAAclnC,IAiNJ8H,QAASq/B,OAGb,qBAAKvnC,UAAU,2BAAf,SACE,cAAC,IAAD,CACE6C,KAAK,UACL6Z,YAAY,aACZtV,MAAOm/B,EACPlqB,SAAUotB,GACVvhC,QAASu+B,MAGb,cAAC,IAAD,CACE7d,KAAK,KACL5oB,UAAU,GACVC,QAAS,WA7jBjBqmC,GAA4B,IA0jBtB,4BAOA,cAAC,IAAD,CACE1d,KAAK,KACL5oB,UAAU,GACVC,QAAO,sBAAE,4BAAAoZ,EAAA,6DACDlC,EAAU+vB,GAAgBhnC,KAAI,SAAAkM,GAAM,OAAIA,EAAOhF,SAD9C,SAEcyf,GAAgBxnB,EAAMynB,aAAc3P,EAAS4tB,GAF3D,cAGP7jB,MAAM,gCAHC,2CAHX,6BAYF,qBAAKlhB,UAAU,0BAAf,SACE,eAAC,KAAD,CACEisB,OAAK,EACLK,MAAM,EACNJ,UAAU,OACV3f,OAAM,UAA4B,IAAtBlN,EAAM8J,aAA2C,IAAtB9J,EAAM8J,YAAqB,QAAU,QAC5EojB,iBAAiB,EACjBE,SAAS,EACTuD,SAAS,EACTtD,SAAS,EARX,UAUE,cAAC,KAAD,CAAe1sB,UAAU,+BAAzB,SACE,6BACGkpB,GAAQhpB,KAAI,SAACC,GAAD,OACX,oBAAqBH,UAAS,UAAoB,UAAfG,EAAKiH,MAAoB,+BAAiC,IAA7F,SAAoGjH,EAAKI,OAAhGJ,EAAKI,cAIpB,cAAC,KAAD,CACEP,UAAW,yBADb,SAGG0nC,IAAqBA,GAAkBxnC,KAAI,SAACC,GAAD,OAlF9BiM,EAmFKjM,EAAKiM,SAlFjB86B,GAAgB//B,QAAO,SAAA2E,GAAC,OAAIA,EAAE1E,QAAUgF,KACzC/E,QAkFJ,6BACG6hB,GAAQhpB,KAAI,SAACq+B,GAAD,OAET,oBAEEv+B,UAAS,wCAAoD,UAAjBu+B,EAAOn3B,MAAoB,qBAAuB,GAArF,YAA2F8hC,GAAe3K,EAAOn3B,MAAOjH,IAFnI,UAlFG+pC,EAsFc/pC,EAAKo+B,EAAOn3B,OArF3C+iC,MAAMC,WAAWF,IAqFwI/pC,EAAKo+B,EAAOn3B,OAA/GjH,EAAKo+B,EAAOn3B,QAAiC,KAAvBjH,EAAKo+B,EAAOn3B,OAAgBgjC,WAAWjqC,EAAKo+B,EAAOn3B,QAAQ+K,QAAQ,GAAI,KAJrI,UACUhS,EAAKiM,OADf,YACyBmyB,EAAOn3B,QAnF9B,IAAC8iC,MA+ET,cAAgB/pC,EAAKiM,SApFV,IAACA,oBC3fbi+B,GArJG,SAAChrC,GAAW,IAAD,EAErB+Z,EAAOJ,KACL1W,EAAqBjD,EAArBiD,iBACF7B,EAAUC,cAChB,EAAwBE,IAAMf,UAAS,GAAhCoa,EAAP,oBACA,EAAsCpa,mBAAS,CAAEuH,MAAO,EAAG7G,MAAO,MAAlE,mBAAO4I,EAAP,KAAoB+Q,EAApB,KACA,EAAera,mBAASiB,KAAKC,MAAMC,aAAaC,QAAQ,eAAjDC,EAAP,oBAgBAG,qBAAU,WAER,OADAya,KAAcC,KACP,WACLD,KAAcE,SAEf,IAEH,IAWME,EAAsB,WAC1B,OAA0B,IAAtB/S,EAAY/B,MACP,GACyB,IAAtB+B,EAAY/B,OAAuC,IAAtB+B,EAAY/B,MAC5C,EAEF,GAiCT,OACE,sBAAKpH,UAAU,yBAAf,UACE,sBAAKA,UAAU,0DAAf,UACE,qBAAKA,UAAU,aAAf,SACE,mBAAGmc,KAAK,SAASnc,UAAU,sBAA3B,4CAIAkB,EAAK4B,WAAL,UAAkB5B,EAAKI,YAAvB,aAAkB,EAAW+F,UAC7B,sBAAKrH,UAAU,qBAAf,UACE,oBAAIA,UAAU,WAAd,SACE,cAAC,IAAD,CAAMoc,GAAI,SAAUpc,UAAU,eAEhC,qBAAKA,UAAU,gBAAf,SACE,cAAC,IAAD,CACEoH,MAAO+B,EACPkT,SAlEmB,SAACO,GAChC1C,EAAe0C,IAkEH1U,QAzFQ,CACpB,CACEd,MAAO,EAAG7G,MAAO,KAEnB,CACE6G,MAAO,EAAG7G,MAAO,KAEnB,CACE6G,MAAO,EAAG7G,MAAO,KAEnB,CACE6G,MAAO,EAAG7G,MAAO,MA+EPmc,YAAY,iBAKpB,cAAC,IAAD,CAAUG,QAAM,EAAC/c,OAAQma,EAAzB,SACI,eAAC,IAAD,CAAKja,UAAU,UAAU6c,QAAM,EAA/B,UACE,eAAC,IAAD,WACE,eAAC,IAAD,CACEC,OAAK,EACL5d,MAAM,UACN6d,KAAG,EACH9c,QAAS,SAACG,GAAD,OAAOA,EAAE4c,kBAJpB,UAME,qBAAKhd,UAAU,QAAf,SACE,qBACEid,IAAI,MACJC,IAAKC,EAAQ,IAAyBC,YAG1C,mBAAGpd,UAAU,YAAb,wBAEF,eAAC,IAAD,CAAcA,UAAU,kBAAkB2M,OAAK,EAAC0Q,IAAI,KAApD,UACE,cAAC,IAAD,CAAcC,SAAO,EAACD,IAAI,OAC1B,cAAC,IAAD,CAASA,IAAI,KAAb,SACE,cAAC,IAAD,CAAcrd,UAAU,WAAWC,QAAS,WAxE5DmZ,EAAKN,UACLrY,EAAQyB,KAAK,WAuEG,6BAMN,oBAAIlC,UAAU,gCAIpBkB,EAAK4B,WAAY,OAAC5B,QAAD,IAACA,OAAD,EAACA,EAAMI,KAAK+F,QAIN,gBAArB/E,GAA2D,iBAArBA,EACrC,qBAAKtC,UAAU,8BAAf,4BAGA,qBAAKA,UAAU,wBAAf,SApFL,sBAAKA,UAAS,cAtBU,IAAtBmJ,EAAY/B,OAAqC,IAAtB+B,EAAY/B,MAClC,cAEF,eAmBL,UACE,qBAAKpH,UAAS,sCAAiCkc,IAAjC,oBAAd,SACE,cAAC,GAAD,CAAe4K,aAAc,EAAG3d,YAAaA,EAAY/B,UAE3D,qBAAKpH,UAAS,sCAAiCkc,IAAjC,oBAAd,SACE,cAAC,GAAD,CAAe4K,aAAc,EAAG3d,YAAaA,EAAY/B,UAE3D,qBAAKpH,UAAS,sCAAiCkc,IAAjC,oBAAd,SACE,cAAC,GAAD,CAAe4K,aAAc,EAAG3d,YAAaA,EAAY/B,UAE3D,qBAAKpH,UAAS,sCAAiCkc,IAAjC,oBAAd,SACE,cAAC,GAAD,CAAe4K,aAAc,EAAG3d,YAAaA,EAAY/B,UAE3D,qBAAKpH,UAAS,sCAAiCkc,IAAjC,oBAAd,SACE,cAAC,GAAD,CAAe4K,aAAc,EAAG3d,YAAaA,EAAY/B,UAE3D,qBAAKpH,UAAS,sCAAiCkc,IAAjC,oBAAd,SACE,cAAC,GAAD,CAAe4K,aAAc,EAAG3d,YAAaA,EAAY/B,eA4DxD,qBAAKpH,UAAU,8BAAf,+BChGIsqC,OA5Cf,WACE,MAAwC1pC,IAAMf,UAAS,GAAvD,mBAAOuf,EAAP,KAAsBC,EAAtB,KACA,EAAgDze,IAAMf,SAAS,gBAA/D,mBAAOyC,EAAP,KAAyBgd,EAAzB,KAEM/c,EAAsB,WAC1B8c,GAAgBD,IAGZrd,EAAuB,SAACtC,GAC5B6f,EAAoB7f,IAGtB,OACE,cAACT,EAAuBwD,SAAxB,UACG,cAAGtD,MAAH,OACC,cAAC,IAAM+gB,SAAP,UACE,sBAAKjgB,UAAU,yBAAf,WACEof,GACA,cAAC,IAAD,CACEpf,UAAY,6CACZC,QAASsC,EAFX,SAIE,mBAAGvC,UAAU,kCAGhBof,GACG,cAAC,EAAD,CACEhd,aAAa,EACbC,OAAQA,EACRC,iBAAkBA,EAClBC,oBAAqBA,EACrBR,qBAAsBA,IAG1B,qBAAK/B,UAAU,mCAAf,SACI,cAAC,GAAD,eC6ND+8B,GA1PU,WACvB,IAAM3jB,EAAOJ,KACPvY,EAAUC,cAChB,EAAwBE,IAAMf,UAAS,GAAhCoa,EAAP,oBACA,EAAgCrZ,IAAMf,SAAS,MAA/C,mBAAOqnB,EAAP,KAAiB8V,EAAjB,KACA,EAA4Bn9B,mBAAS,MAArC,mBAAOunB,EAAP,KAAe6V,EAAf,KACA,EAAgCp9B,mBAAS,MAAzC,mBAAOsnB,EAAP,KAAiB+V,EAAjB,KACA,EAA+Cr9B,mBAAS,IAAxD,mBAAOu9B,EAAP,KAAwBC,EAAxB,KACA,EAA0Cx9B,mBAAS,IAAnD,mBAAOy9B,EAAP,KAAsBC,EAAtB,KACA,EAA8C19B,mBAAS,IAAvD,mBAAO29B,EAAP,KAAwBC,EAAxB,KACA,EAAsC59B,mBAAS,IAA/C,mBAAOs9B,EAAP,KAEMzR,GAFN,KAEwBC,mBAAQ,WAC9B,MAAO,CACP,CACEprB,MAAO,WACP4oB,MAAO,WACPlgB,MAAO,IACP2iB,WAAY,CACV,gBAAiB,YACjB,aAAc,WAGlB,CACErrB,MAAO,SACP4oB,MAAO,SACPlgB,MAAO,KAET,CACE1I,MAAO,WACP4oB,MAAO,WACPlgB,MAAO,KAET,CACE1I,MAAO,UACP4oB,MAAO,UACPlgB,MAAO,KAET,CACE1I,MAAO,aACP4oB,MAAO,YACPlgB,MAAO,KAET,CACE1I,MAAO,SACP4oB,MAAO,UAEP,KAEJ,EAAkCvoB,IAAMf,SAAS,CAC/CqpB,QAASwC,EACT3Y,KAAMoqB,IAFR,mBAAOrR,EAAP,KAAkBC,EAAlB,KAKA1qB,qBAAU,WACR,IAAMkpC,EAAgB,uCAAG,oCAAAlxB,EAAA,sEACM4N,KADN,cACjBujB,EADiB,QAGJnjC,QACjB0kB,EAAa,CACX7C,QAASwC,EACT3Y,KAAMy3B,IANa,SAUMljB,KAVN,QAUjB0W,EAViB,QAWJ/lB,UACXgmB,EAAY,CAAC,CACjB72B,MAAO,GACP7G,MAAO,QAGTy9B,EAAe3iB,OAAO4iB,UAAU/9B,KAAI,SAAAgnB,GAClC,GAAiB,KAAbA,EACF,OAAO,KAET+W,EAAU/7B,KAAK,CACbkF,MAAO8f,EACP3mB,MAAO2mB,OAILgX,EAAa,CAAC,CAClB92B,MAAO,GACP7G,MAAO,QAGTy9B,EAAe3iB,OAAO8L,SAASjnB,KAAI,SAAAinB,GAChB,KAAbA,GAAgC,OAAbA,GACrB+W,EAAWh8B,KAAK,CACdkF,MAAO+f,EACP5mB,MAAO4mB,OAKPgX,EAAU,CAAC,CACf/2B,MAAO,GACP7G,MAAO,QAGTy9B,EAAe3iB,OAAO+L,OAAO/d,SAAQ,SAAA+d,GACpB,KAAXA,GAA4B,OAAXA,GACnB+W,EAAQj8B,KAAK,CACXkF,MAAOggB,EACP7mB,MAAO6mB,OAKbiW,EAAoBY,GACpBR,EAAmBS,GACnBX,EAAiBY,IAzDI,2CAAH,qDA6DtBoM,MACC,IAEH,IAKMnM,EAAkB,uCAAG,WAAOh+B,GAAP,eAAAiZ,EAAA,6DACzB4jB,EAAU78B,GADe,SAGI6mB,GAAkBC,EAAWA,EAAS9f,MAAQ,GAAI+f,EAAWA,EAAS/f,MAAQ,GAAIhH,EAAEgH,OAHxF,QAGnBojC,EAHmB,QAKNnjC,QACjB0kB,EAAa,CACX7C,QAASwC,EACT3Y,KAAMy3B,IARe,2CAAH,sDAalBnM,EAAoB,uCAAG,WAAOj+B,GAAP,eAAAiZ,EAAA,6DAC3B2jB,EAAY58B,GADe,SAGE6mB,GAAkB7mB,EAAEgH,MAAO+f,EAAWA,EAAS/f,MAAQ,GAAIggB,EAASA,EAAOhgB,MAAQ,IAHrF,QAGrBojC,EAHqB,QAKRnjC,QACjB0kB,EAAa,CACX7C,QAASwC,EACT3Y,KAAMy3B,IARiB,2CAAH,sDAapBlM,EAAoB,uCAAG,WAAOl+B,GAAP,eAAAiZ,EAAA,6DAC3B6jB,EAAY98B,GADe,SAGE6mB,GAAkBC,EAAWA,EAAS9f,MAAQ,GAAIhH,EAAEgH,MAAOggB,EAASA,EAAOhgB,MAAQ,IAHrF,OAGrBojC,EAHqB,OAK3Bze,EAAa,CACX7C,QAASwC,EACT3Y,KAAMy3B,IAPmB,2CAAH,sDAW1B,OACE,sBAAKxqC,UAAU,yBAAf,UACE,sBAAKA,UAAU,0DAAf,UACE,qBAAKA,UAAU,aAAf,SACE,mBAAGmc,KAAK,SAASnc,UAAU,sBAA3B,2CAIF,qBAAKA,UAAU,qBAAf,SACE,oBAAIA,UAAU,WAAd,SACE,cAAC,IAAD,CAAMoc,GAAI,SAAUpc,UAAU,iBAGlC,cAAC,IAAD,CAAU6c,QAAM,EAAC/c,OAAQma,EAAzB,SACE,eAAC,IAAD,CAAKja,UAAU,UAAU6c,QAAM,EAA/B,UACE,eAAC,IAAD,CAAsBE,KAAG,EAAzB,UACE,eAAC,IAAD,CACED,OAAK,EACL5d,MAAM,UACN6d,KAAG,EACH9c,QAAS,SAACG,GAAD,OAAOA,EAAE4c,kBAJpB,UAME,qBAAKhd,UAAU,QAAf,SACE,qBACEid,IAAI,MACJC,IAAKC,EAAQ,IAAyBC,YAG1C,mBAAGpd,UAAU,YAAb,wBAEF,eAAC,IAAD,CAAcA,UAAU,kBAAkB2M,OAAK,EAAC0Q,IAAI,KAApD,UACE,cAAC,IAAD,CAAcC,SAAO,EAACD,IAAI,OAC1B,cAAC,IAAD,CAASA,IAAI,KAAb,SACE,cAAC,IAAD,CAAcrd,UAAU,WAAWC,QAAS,WA1E1DmZ,EAAKN,UACLrY,EAAQyB,KAAK,WAyEC,6BAIN,oBAAIlC,UAAU,gCAIpB,sBAAKA,UAAU,+DAAf,UACE,qBAAKA,UAAU,0BAAf,2BAGA,sBAAKA,UAAU,4BAAf,UACE,qBAAKA,UAAU,gBAAf,SACE,cAAC,IAAD,CACEoH,MAAO8f,EACP7K,SAAUgiB,EACVn2B,QAASk1B,EACT1gB,YAAY,eAGhB,qBAAK1c,UAAU,gBAAf,SACE,cAAC,IAAD,CACEoH,MAAOggB,EACP/K,SAAU+hB,EACVl2B,QAASo1B,EACT5gB,YAAY,aAGhB,qBAAK1c,UAAU,gBAAf,SACE,cAAC,IAAD,CACEoH,MAAO+f,EACP9K,SAAUiiB,EACVp2B,QAASs1B,EACT9gB,YAAY,kBAIlB,cAAC,KAAD,CACEuP,OAAK,EACLC,UAAU,QACVC,eAAgB,CAAC,GAAI,GAAI,GAAI,KAC7BC,QAAS,GACTC,YAAa,EACb5pB,KAAMqpB,EACNQ,MAAM,EACNC,iBAAiB,EACjBC,OAAO,EACPC,SAAS,EACTC,SAAS,IAzCb,WCnKS+d,OA7Cf,WACE,MAAwC7pC,IAAMf,UAAS,GAAvD,mBAAOuf,EAAP,KAAsBC,EAAtB,KACA,EAAgDze,IAAMf,SAAS,WAA/D,mBAAOyC,EAAP,KAAyBgd,EAAzB,KAEM/c,EAAsB,WAC1B8c,GAAgBD,IAGZrd,EAAuB,SAACtC,GAC5B6f,EAAoB7f,IAGtB,OACE,cAACT,EAAuBwD,SAAxB,UACG,cAAGtD,MAAH,OACC,cAAC,IAAM+gB,SAAP,UACE,sBAAKjgB,UAAU,yBAAf,WACIof,GACA,cAAC,IAAD,CACEpf,UAAY,6CACZC,QAASsC,EAFX,SAIE,mBAAGvC,UAAU,kCAGhBof,GACC,cAAC,EAAD,CACEhd,aAAa,EACbC,OAAQA,EACRzC,YAAa,iBACb0C,iBAAkBA,EAClBC,oBAAqBA,EACrBR,qBAAsBA,IAG1B,qBAAK/B,UAAU,YAAf,SACI,cAAC,GAAD,eC5CHwQ,GAAb,kDACE,WAAYnR,GAAQ,IAAD,8BACjB,cAAMA,IAED8C,MAAQ,CACXsO,OAAQ,EAAKC,YACbxI,QAAS,CACPyI,MAAO,CACLpE,OAAQ,IACRnJ,KAAM,OACNwN,KAAM,CACJzB,SAAS,IAGb0B,WAAY,CACV1B,SAAS,GAEXvL,OAAQ,CACNkN,MAAM,EACNC,MAAO,SACPC,QAAS,OACTC,YAAQC,EACRjI,MAAO,EACPkI,UAAW,GAEb5R,MAAO,CACL6R,KAAM/R,EAAMgS,UAAY,oBAAsB,aAC9CC,MAAO,OACPC,MAAO,CACLrB,SAAW,OACXE,WAAa,OACblR,MAAO,YAGXsS,KAAM,CACJV,MAAM,GAERW,MAAO,CACLC,WAAY,EAAKC,gBACjBC,OAAQ,CACNd,MAAM,EACNS,MAAO,CACLN,OAAQ,WAEVpL,UAAW,SAACgM,EAAKC,GAAN,OACTC,KAAOC,IAAIH,GAAKzL,OAAO,iBAE3B6L,aAAa,GAEfC,MAAO,CACLN,OAAQ,CACNd,MAAM,EACNS,MAAO,CACLN,OAAQ,WAEVpL,UAAW,SAACuB,GAAD,OAAWA,EAAM+K,QAAQ,KAEtCC,WAAY,CACVtB,MAAM,GAERuB,IAAK,EAAKC,cACVjH,IAAK,EAAKkH,eAEZC,OAAQ,CACN1B,MAAM,EACNc,OAAQ,CACNX,OAAQ,CAAC,YAEXwB,SAAU,SAnEC,EADrB,6CA0EE,WAAa,IAAD,OACJhC,EAAS,GAUf,OATA/M,KAAKrE,MAAMqT,UAAUxS,KAAI,SAACuC,GACxB,IAAK,IAAMkQ,KAAYlQ,EACrBgO,EAAOvO,KAAK,CACVW,KAAM8P,EACNlQ,KAAMA,EAAKkQ,GAAUzS,KAAI,SAAC4L,GAAD,OAAO,EAAKzM,MAAMgS,UAAYvF,EAAE8G,QAAU9G,EAAE+G,gBAGzE,OAAO,QAEFpC,IArFX,gCAwFE,SAAmBqC,GACbA,EAAUJ,YAAchP,KAAKrE,MAAMqT,WACrChP,KAAKkC,SAAS,CACZ6K,OAAQ/M,KAAKgN,YACbxI,QAAS,CACPuJ,MAAO,CACLC,WAAYhO,KAAKiO,gBACjBC,OAAQ,CACNd,MAAM,EACNS,MAAO,CACHN,OAAQ,WAEZpL,UAAW,SAACgM,GAAD,OACTE,KAAOC,IAAIH,GAAKzL,OAAO,iBAE3B6L,aAAa,GAEfC,MAAO,CACLN,OAAQ,CACNd,MAAM,EACNS,MAAO,CACLN,OAAQ,WAEVpL,UAAW,SAACuB,GAAD,OAAWA,GACtBiL,IAAK3O,KAAK4O,cACVjH,IAAK3H,KAAK6O,eAEZH,WAAY,CACVtB,MAAM,SApHpB,yBA4HE,WAAe,IAAD,OACRL,EAAS,GAUb,OATA/M,KAAKrE,MAAMqT,UAAUxS,KAAI,SAACuC,GACxB,IAAK,IAAMkQ,KAAYlQ,EAAM,CAC3B,IAAMsQ,EAAOtQ,EAAKkQ,GAAUzS,KAAI,SAAA4L,GAAC,OAAI,EAAKzM,MAAMgS,UAAYvF,EAAE8G,QAAU9G,EAAE+G,cAC1EpC,EAAOvO,KAAKkJ,KAAKiH,IAAL,MAAAjH,KAAI,YAAQ2H,KAG1B,OAAO,QAEG3H,KAAKiH,IAAL,MAAAjH,KAAYqF,KAtI5B,yBA0IE,WAAe,IAAD,OACRA,EAAS,GASb,OARA/M,KAAKrE,MAAMqT,UAAUxS,KAAI,SAACuC,GACxB,IAAK,IAAMkQ,KAAYlQ,EAAM,CAC3B,IAAMsQ,EAAOtQ,EAAKkQ,GAAUzS,KAAI,SAAA4L,GAAC,OAAI,EAAKzM,MAAMgS,UAAYvF,EAAE8G,QAAU9G,EAAE+G,cAC1EpC,EAAOvO,KAAKkJ,KAAKC,IAAL,MAAAD,KAAI,YAAQ2H,KAE1B,OAAO,QAEG3H,KAAKC,IAAL,MAAAD,KAAYqF,KAnJ5B,2BAuJE,WAQE,OAPmB/M,KAAKrE,MAAMqT,UAAUxS,KAAI,SAACuC,GAC3C,IAAK,IAAMkQ,KAAYlQ,EACrB,OAAOA,EAAKkQ,GAAUzS,KAAI,SAAC4L,GAAD,OAAOA,EAAExF,QAErC,MAAO,MAGS,KA/JtB,oBAkKE,WACE,OACE,qBAAKhG,GAAG,QAAR,SACE,cAAC,KAAD,CAAO4H,QAASxE,KAAKvB,MAAM+F,QAASuI,OAAQ/M,KAAKvB,MAAMsO,OAAQrN,KAAK,OAAOmJ,OAAQ,YArK3F,GAAoC3L,IAAMmP,WC+D3B26B,GAhEM,SAACrrC,GACpB,IAAMsrC,EAAe,SAACC,EAAOjc,GAE3B,IADA,IAAMkc,EAAc,GACXhrB,EAAI,EAAEA,EAAI+qB,EAAO/qB,IAAM,CAC9B,IAAMxN,EAAMjH,KAAK0/B,KAAKnc,EAAOtc,KACvBhH,EAAMD,KAAK2/B,MAAMpc,EAAOtjB,KAC9Bw/B,EAAY3oC,KAAKkJ,KAAK2/B,MAAM3/B,KAAK4/B,UAAY3/B,EAAMgH,GAAOA,IAE5D,OAAOw4B,GAGT,EAA4BhrC,mBAAS,IAArC,mBAAO4Q,EAAP,KAAe2E,EAAf,KAEA,EAAwCvV,mBACtC,CACE8Q,MAAO,CACLpE,OAAQ,IACRnJ,KAAM,WAERyN,WAAY,CACV1B,SAAS,GAEXvL,OAAQ,CACNqF,MAAO,GAETgI,OAAQ,CAAC,WACT1R,MAAO,CACL+R,MAAO,SACPF,KAAM,4BACNG,MAAO,CACLrS,MAAO,cAjBf,mBAAO+rC,EAAP,UAuCA,OAhBA5pC,qBAAU,WACR,GAAIhC,EAAMuW,aAAevW,EAAMuW,YAAYvO,OAAQ,CACjD,IAAM6jC,EAAe7rC,EAAMuW,YAAY1V,KAAI,SAACkM,GAC1C,MAAO,CACLvJ,KAAMuJ,EAAOhF,MACb3E,KAAMkoC,EAAa,GAAI,CACrBt4B,KAAM,GACNhH,IAAK,SAIX7D,QAAQC,IAAI,gBAAiByjC,GAC7B91B,EAAU81B,MAEX,CAAC7rC,EAAMuW,cAGR,qBAAKtV,GAAG,QAAR,SACE,cAAC,KAAD,CACE4H,QAAS+iC,EACTx6B,OAAQA,EACRrN,KAAK,UACLmJ,OAAQ,SC1DVyG,GAAgB,SAACN,EAAWO,GAChC,OAAOP,EAAUxS,KAAI,SAACmI,GAAD,OAAO4K,EAAY5K,EAAE6K,WAAa,IAAM7K,EAAE8K,YAG3DC,GAAgB,SAACV,EAAWO,GAChC,OAAOP,EAAUxS,KAAI,SAACmI,GAAD,OAAO4K,EAAY5K,EAAEgL,UAAY,IAAMhL,EAAEiL,WAG1DC,GAAa,SAACb,GAClB,OAAOA,EAAUxS,KAAI,SAACmI,GAAD,OAAOA,EAAE+D,WAG1BoH,GAAgB,SAACd,EAAWO,GAChC,MAAO,CACLtC,MAAO,CACLvN,KAAM,MACN6F,MAAO,OACPwK,QAAS,CACP3C,MAAM,GAER4C,OAAQ,CACNC,MAAO,SAAUC,EAAOC,EAAcC,GACpCtM,QAAQC,IAAI,cAIlBsM,OAAQ,CACNC,OAAQ,CACN7M,OAAQ,CACN/D,KAAM,SAGV6Q,OAAQ,CACN9M,OAAQ,CACN/D,KAAM,SACNgE,MAAO,OAIb6J,OAAQ,CAAC,UAAD,wBAAiC,GAAjC,MACR1R,MAAO,CACL6R,KAAM6B,EAAY,+BAAiC,yBACnD3B,MAAO,OACP4C,QAAS,EACTC,SAAU,EACV5C,MAAO,CACLrB,SAAU,OACVhR,MAAO,YAGXkV,YAAa,CACXC,IAAK,CACHC,YAAa,UACbC,YAAa,MACbC,UAAW,OACX3D,WAAY,CACV4B,SAAU,SAIhB5B,WAAY,CACV1B,SAAS,EACTgF,SAAU,GACV5C,MAAO,CACLrB,SAAU,OACVe,OAAQ,CAAC,UAAW,YAEtBpL,UAAW,SAACuB,EAAOqN,GACjB,OAAOxB,EAAY7L,EAAM+K,QAAQ,GAAa,EAAR/K,IAG1CxD,OAAQ,CACNkN,MAAM,EACN7H,MAAO,EACPgI,OAAQ,CAAC,SAEXQ,MAAO,CACLC,WAAY6B,GAAWb,GACvBd,OAAQ,CACNd,MAAM,EACNS,MAAO,CACHN,OAAQ,aAIhBO,KAAM,CACJV,MAAM,GAERoB,MAAO,CACLN,OAAQ,CACNd,MAAM,EACNS,MAAO,CACHN,OAAQ,WAEZpL,UAAW,SAACuB,GAAY,OAAO6L,EAAY7L,EAAM+K,QAAQ,GAAa,EAAR/K,IAEhEgL,WAAY,CACVtB,MAAM,IAGVtG,QAAS,CACP2E,SAAS,GAEXqD,OAAQ,CACNC,SAAU,MACViC,gBAAiB,QACjBP,SAAU,GACVjE,SAAU,OACV0B,OAAQ,CACNX,OAAQ,WAEV0D,QAAS,CACP1L,MAAO,GACPsD,OAAQ,GACRqI,OAAQ,GAEVC,WAAY,CACVC,WAAY,EACZC,SAAU,GAEZC,YAAa,CACXC,qBAAqB,MAMd,SAASC,GAAa7V,GACnC,IAAcqT,EAAyBrT,EAA/BoD,KAAiBwQ,EAAc5T,EAAd4T,UACzB,EAA8BpT,mBAAS2T,GAAcd,EAAWO,IAAhE,mBAAO/K,EAAP,KAAgBiN,EAAhB,KACA,EAA4BtV,mBAAS,CACnC,CACE4C,KAAMuQ,GAAcN,EAAWO,IAEjC,CACExQ,KAAM2Q,GAAcV,EAAWO,MALnC,mBAAOxC,EAAP,KAAe2E,EAAf,KAuBA,OAdA/T,qBAAU,WACR8T,EAAW3B,GAAcd,EAAWO,IACpCmC,EAAU,CACR,CACEvS,KAAMoQ,EAAY,kBAAoB,UACtCxQ,KAAMuQ,GAAcN,EAAWO,IAEjC,CACEpQ,KAAMoQ,EAAY,iBAAmB,SACrCxQ,KAAM2Q,GAAcV,EAAWO,QAGlC,CAACP,EAAWO,IAGb,qBAAK3S,GAAG,QAAR,SACE,cAAC,KAAD,CACE4H,QAASA,EACTuI,OAAQA,EACRrN,KAAK,MACL6F,MAAO,OACPsD,OAAQ,Q,IC3JV4+B,G,4JACL,WACG,MAAwCznC,KAAKrE,MAA/BiW,EAAd,EAAQ7S,KAAgBmT,EAAxB,EAAwBA,YAE1B,OAAgB,MAAZN,EACI,6CAIP,gCACC,cAAC,GAAD,CAAcM,YAAaA,IAC3B,cAAC,GAAD,CAAgBlD,UAAW4C,EAASC,kBAAmBlE,WAAW,IAClE,cAAC,cAAD,UACE,SAAAjO,GAAI,OAAI,cAAC,GAAD,CAAcA,KAAMA,EAAMX,KAAM6S,EAASE,cAAevC,WAAW,OAE7E,cAAC,cAAD,UACE,SAAA7P,GAAI,OAAI,cAAC,GAAD,CAAcA,KAAMA,EAAMX,KAAM6S,EAASG,iBAAkBxC,WAAW,OAEhF,cAAC,GAAD,CAAgBP,UAAW4C,EAASC,kBAAmBlE,WAAW,W,GAlBlCzQ,IAAMmP,WA+B1Co7B,GAAsBnoC,aAAe,CACpCI,KAAM,OAIQ+nC,OAFfA,GAAwBn7B,mBAASm7B,IC8BlBC,GArEW,SAAC/rC,GACzB,IACE0O,EAME1O,EANF0O,SACAgI,EAKE1W,EALF0W,YACAH,EAIEvW,EAJFuW,YACA5H,EAGE3O,EAHF2O,cACAgI,EAEE3W,EAFF2W,UACAC,EACE5W,EADF4W,QAGF,EAAkCpW,mBAAS,MAA3C,mBAAO6S,EAAP,KAAkB0D,EAAlB,KAEA/U,qBAAU,WA6BJuU,EAAYvO,QA5BC,WACf,IAAM8P,EAAUvB,EAAY1V,KAAI,SAACkM,GAAD,OAAYA,EAAOhF,SACnD,MAAK+P,EAAQ9P,QAAU2G,GAAvB,CAIA,IAAMqI,EAAiB,CACrBC,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAM1V,KAAK2V,UAAU,CACnB,QAAWU,EACX,MAASpJ,EAAS3G,MAClB,MAAS4G,EAAc5G,MACvB,WAAc4O,EACd,SAAYC,KAGhB,IACEU,MAAMC,+DAAiEP,GACpEQ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAApU,GACJ2T,EAAa3T,EAAI,eAErB,MAAOyU,GACP1P,QAAQC,IAAIyP,KAKdE,KAED,CAACxB,EAAa5H,EAAegI,EAAWC,EAASlI,IAEpD,IAAiC3K,EAMjC,OACA,mCAEe,MAAbsP,EAAoB,6CACd,qCACE,qBAAK1S,UAAU,eAAf,SACE,8BACE,mCAAS+V,EAAT,mBAXV,cAAC,GAAD,CAAuB3S,KAAMA,EAAMX,KAAMiQ,EAAWkD,YAAaA,UC2PxDy1B,GAxRe,WAE5B,IAAMjyB,EAAOJ,KACPvY,EAAUC,cAChB,EAAwBE,IAAMf,UAAS,GAAhCoa,EAAP,oBACA,EAAkCpa,mBAAS,CACzCuH,MAAO,OACP7G,MAAO,SAFT,mBAAOiiB,EAAP,KAAkB8I,EAAlB,KAKA,EAA2BzrB,mBAAS,CAClC,CACEuH,MAAO,OACP7G,MAAO,QAET,CACE6G,MAAO,QACP7G,MAAO,WAPJkrB,EAAP,oBAWA,EAA2B5rB,mBAAS,CAChCuH,MAAO,eACP7G,MAAO,iBAFJ+B,EAAP,oBAKA,EAAsCzC,mBAAS,IAA/C,mBAAO+V,EAAP,KAAoBiJ,EAApB,KACA,EAAgChf,mBAAS,MAAzC,mBAAOkO,EAAP,KAAiBuM,EAAjB,KACA,EAAoCza,mBAAS,IAA7C,mBAAOia,EAAP,KAAmBC,EAAnB,KACA,EAA0Cla,mBAAS,MAAnD,mBAAOmO,EAAP,KAAsBqM,EAAtB,KACA,EAA8Bxa,oBAAS,GAAvC,mBAAOif,EAAP,KAAgBC,EAAhB,KACA,EAA4Clf,mBAAS,IAArD,mBAAO8d,EAAP,KAAuBC,EAAvB,KACA,EAAwC/d,mBAAS,IAAjD,mBAAOge,EAAP,KAAqBC,EAArB,KACA,EAAwCje,mBAAS,IAAjD,mBAAO0a,EAAP,KAAqBC,GAArB,KAEA,GAAwD3a,mBAAS,IAAjE,qBAAO+a,GAAP,MAA6BC,GAA7B,MAEA,GAA6Chb,mBAAS,IAAtD,qBAAOib,GAAP,MAAuBC,GAAvB,MAMMI,GAAkBC,uBACtB,WACEzE,MAAMC,2DACHC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAApU,GACJ+X,GAAgB/X,EAAK4Y,QACrB,IAAMC,EAAkB7Y,EAAK4Y,OAAOnb,KAAK,SAAA4L,GACvC,MAAO,CACL1E,MAAO0E,EAAEyP,MACThb,MAAOuL,EAAEyP,UAGbR,GAAmBO,GACnBhB,EAAagB,EAAgB,IAEzB7Y,EAAK4Y,OAAOhU,QACd5E,EAAK4Y,OAAOhS,SAAQ,SAAClJ,GACnB,GAAIA,EAAKob,MAAO,CACd,IAAMC,EAAuBrb,EAAKsb,MAAMvb,KAAI,SAAA4L,GAC1C,MAAO,CACL1E,MAAO0E,EACPvL,MAAOuL,MAIX+O,GAAyBW,GACzBnB,EAAkBmB,EAAqB,IAEvC,IAAME,EAAgBvb,EAAKgX,QAAQjX,KAAI,SAAA4L,GACrC,MAAO,CACL1E,MAAO0E,EACPvL,MAAOuL,MAGXiO,EAAc2B,YAM1B,IAGFra,qBAAU,WACR,IAAMH,EAAOJ,KAAKC,MAAMC,aAAaC,QAAQ,cAK7C,OAJIC,EAAK4B,UAAY5B,EAAKI,KAAK+F,SAC7B8T,KAEFW,KAAcC,KACP,WACLD,KAAcE,SAEf,CAACb,KAEJ9Z,qBAAU,YAyBHyd,GAAW/Q,KAxBG,WACjB,IAAMsI,EAAiB,CACrBC,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAM1V,KAAK2V,UAAU,CACnB,SAAY1I,EAAS3G,SAGzBuP,MAAMC,+CAAmDP,GACtDQ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAApU,GACJ,IAAImZ,EAAY,GAChBnZ,EAAKoZ,OAAO3b,KAAI,SAAC2E,GAKf,OAJA+W,EAAU1Z,KAAK,CACbkF,MAAOvC,EACPtE,MAAOsE,IAEF,QAETkV,EAAc6B,GACdiD,EAAe,CAACjD,EAAU,QAK9BD,GACAoD,GAAW,MAEZ,CAACD,EAASC,EAAYhR,IAEzB,IAIMiR,GAAoB,uCAAG,WAAO5e,GAAP,SAAAiZ,EAAA,sDACvBjZ,IACFka,EAAYla,GACRma,EAAalT,QACfkT,EAAalR,SAAQ,SAAClJ,GACpB,GAAIA,EAAKob,QAAUnb,EAAEgH,MAAO,CAC1B,IAAMoU,EAAuBrb,EAAKsb,MAAMvb,KAAI,SAAA4L,GAC1C,MAAO,CACL1E,MAAO0E,EACPvL,MAAOuL,MAGX+O,GAAyBW,GACXA,EAAqBrU,QAAQ,SAAA2E,GAAC,MAAgB,OAAZA,EAAE1E,SACxCC,OACRgT,EAAiB,CACfjT,MAAO,KACP7G,MAAO,OAGT8Z,EAAiBmB,EAAqB,IAGxC,IAAME,EAAgBvb,EAAKgX,QAAQjX,KAAI,SAAA4L,GACrC,MAAO,CACL1E,MAAO0E,EACPvL,MAAOuL,MAGXiO,EAAc2B,GACdmD,EAAe,CAACnD,EAAc,UA9BX,2CAAH,sDAmD1B,OACE,sBAAK1b,UAAU,yBAAf,UACE,sBAAKA,UAAU,0DAAf,UACE,qBAAKA,UAAU,aAAf,SACE,mBAAGmc,KAAK,SAASnc,UAAU,sBAA3B,2CAIF,sBAAKA,UAAU,wCAAf,UACE,oBAAIA,UAAU,WAAd,SACE,cAAC,IAAD,CAAMoc,GAAI,SAAUpc,UAAU,eAEhC,qBAAKA,UAAU,gBAAf,SACE,cAAC,IAAD,CACEoH,MAAOob,EACPnG,SA/JmB,SAACjc,GAC9BkrB,EAAalrB,IA+JH8H,QAASujB,EACT/O,YAAY,iBAGhB,qBAAK1c,UAAU,qDAAf,SACE,cAAC,KAAD,CACEkI,QAAS4R,EACT1S,MAAOwO,EACPyG,SA/EmB,SAACjc,GAC9Bye,EAAeze,QAiFT,qBAAKJ,UAAU,gBAAf,SACE,cAAC,IAAD,CACEoH,MAAO2G,EACPsO,SAAU2C,GACV9W,QAAS4S,GACT4B,YAAY,qBAGhB,qBAAK1c,UAAU,gBAAf,SACE,cAAC,IAAD,CACE6C,KAAK,UACL6Z,YAAY,iBACZtV,MAAO4G,EACPqO,SAtDsB,SAACjc,GACjCia,EAAiBja,IAsDP8H,QAAS0S,OAGb,qBAAK5a,UAAU,iDAAiDM,GAAG,kBAAnE,SACE,cAAC2e,GAAD,CACE1B,gBAxDY,SAACvH,EAAWC,GAClC2H,EAAkB5H,GAClB8H,EAAgB7H,WA0DZ,cAAC,IAAD,CAAU4G,QAAM,EAAC/c,OAAQma,EAAzB,SACE,eAAC,IAAD,CAAKja,UAAU,UAAU6c,QAAM,EAA/B,UACE,eAAC,IAAD,WACE,eAAC,IAAD,CACEC,OAAK,EACL5d,MAAM,UACN6d,KAAG,EACH9c,QAAS,SAACG,GAAD,OAAOA,EAAE4c,kBAJpB,UAME,qBAAKhd,UAAU,QAAf,SACE,qBACEid,IAAI,MACJC,IAAKC,EAAQ,IAAyBC,YAG1C,mBAAGpd,UAAU,YAAb,wBAEF,eAAC,IAAD,CAAcA,UAAU,kBAAkB2M,OAAK,EAAC0Q,IAAI,KAApD,UACE,cAAC,IAAD,CAAcC,SAAO,EAACD,IAAI,OAC1B,cAAC,IAAD,CAASA,IAAI,KAAb,SACE,cAAC,IAAD,CAAcrd,UAAU,WAAWC,QAAS,WA1E1DmZ,EAAKN,UACLrY,EAAQyB,KAAK,WAyEC,6BAMN,oBAAIlC,UAAU,gCAIpB,qBAAKA,UAAU,wBAAf,SACGgO,GACC,cAAE,GAAF,CACE1L,iBAAmBA,EAAiB8E,MACpC4G,cAAeA,EACf4H,YAAaA,EACb7H,SAAUA,EACVlG,YAAY,EACZmO,UAAW2H,EACX1H,QAAS4H,UChPNytB,OA5Cf,WACE,MAAwC1qC,IAAMf,UAAS,GAAvD,mBAAOuf,EAAP,KAAsBC,EAAtB,KACA,EAAgDze,IAAMf,SAAS,gBAA/D,mBAAOyC,EAAP,KAAyBgd,EAAzB,KAEM/c,EAAsB,WAC1B8c,GAAgBD,IAGZrd,EAAuB,SAACtC,GAC5B6f,EAAoB7f,IAGtB,OACE,cAACT,EAAuBwD,SAAxB,UACG,cAAGtD,MAAH,OACC,cAAC,IAAM+gB,SAAP,UACE,sBAAKjgB,UAAU,yBAAf,WACEof,GACA,cAAC,IAAD,CACEpf,UAAY,6CACZC,QAASsC,EAFX,SAIE,mBAAGvC,UAAU,kCAGhBof,GACC,cAAC,EAAD,CACEhd,aAAa,EACbC,OAAQA,EACRC,iBAAkBA,EAClBC,oBAAqBA,EACrBR,qBAAsBA,IAGxB,qBAAK/B,UAAU,mCAAf,SACE,cAAC,GAAD,eCRdurC,IAASvP,OACP,cAACN,GAAD,UACE,cAACE,GAAD,UACE,cAAC1iB,GAAD,UACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC4iB,GAAD,CAAcxxB,KAAK,oBAAnB,SACE,cAAC,GAAD,MAEF,cAACwxB,GAAD,CAAcxxB,KAAK,oBAAnB,SACE,cAAC,GAAD,MAEF,cAACwxB,GAAD,CAAcxxB,KAAK,SAAnB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,SAAS0xB,OAAQ,SAAC38B,GAAD,OAAW,cAAC,GAAD,eAAWA,OACnD,cAAC,IAAD,CAAOiL,KAAK,UAAU0xB,OAAQ,SAAC38B,GAAD,OAAW,cAAC,GAAD,eAAYA,OACrD,cAAC,IAAD,CAAOiL,KAAK,UAAU0xB,OAAQ,SAAC38B,GAAD,OAAW,cAAC,GAAD,eAAYA,OACrD,cAAC,IAAD,CAAOiL,KAAK,mBAAmB0xB,OAAQ,SAAC38B,GAAD,OAAW,cAAC,GAAD,eAAoBA,OACtE,cAAC,IAAD,CAAOiL,KAAK,uCAAuC0xB,OAAQ,SAAC38B,GAAD,OAAW,cAAC,GAAD,eAA0BA,OAChG,cAACy8B,GAAD,CAAcxxB,KAAK,iBAAnB,SACE,cAAC+wB,GAAD,MAEF,cAACS,GAAD,CAAcxxB,KAAK,UAAnB,SACE,cAAC,GAAD,MAEF,cAACwxB,GAAD,CAAcxxB,KAAK,gBAAnB,SACE,cAAC,GAAD,MAEF,cAACwxB,GAAD,CAAcxxB,KAAK,gBAAnB,SACE,cAAC,GAAD,MAEF,cAACwxB,GAAD,CAAcxxB,KAAK,kBAAnB,SACE,cAAC,GAAD,MAEF,cAACwxB,GAAD,CAAcxxB,KAAK,kBAAnB,SACE,cAAC,GAAD,MAEF,cAACwxB,GAAD,CAAcxxB,KAAK,eAAnB,SACE,cAAC,GAAD,MAEF,cAACwxB,GAAD,CAAcxxB,KAAK,kBAAnB,SACE,cAAC,GAAD,MAEF,cAACwxB,GAAD,CAAcxxB,KAAK,WAAnB,SACE,cAAC,GAAD,MAEF,cAACwxB,GAAD,CAAcxxB,KAAK,IAAnB,SACE,cAAC,GAAD,iBAOZhF,SAASkmC,eAAe,U,gCC5F1B,OAAe,cAA0B,qC","file":"static/js/main.1856e012.chunk.js","sourcesContent":["/*eslint-disable*/\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n// nodejs library to set properties for components\r\nimport { PropTypes } from \"prop-types\";\r\n\r\n// javascript plugin used to create scrollbars on windows\r\nimport PerfectScrollbar from \"perfect-scrollbar\";\r\n\r\n// reactstrap components\r\nimport { Nav, NavLink as ReactstrapNavLink } from \"reactstrap\";\r\nimport {\r\n  BackgroundColorContext,\r\n} from \"contexts/BackgroundColorContext\";\r\n\r\nimport { Dropdown } from 'components/Dropdown/Dropdown'\r\n\r\nvar ps;\r\n\r\nfunction Sidebar(props) {\r\n  const history = useHistory();\r\n  const sidebarRef = React.useRef(null);\r\n  const [user] = useState(JSON.parse(localStorage.getItem('user-info')))\r\n  const [userRole, setUserRole] = useState('');\r\n  // verifies if routeName is the one active (in browser input)\r\n  useEffect(() => {\r\n    setUserRole(user?.role)\r\n  }, [])\r\n  React.useEffect(() => {\r\n    if (navigator.platform.indexOf(\"Win\") > -1) {\r\n      ps = new PerfectScrollbar(sidebarRef.current, {\r\n        suppressScrollX: true,\r\n        suppressScrollY: false,\r\n      });\r\n    }\r\n    // Specify how to clean up after this effect:\r\n    return function cleanup() {\r\n      if (navigator.platform.indexOf(\"Win\") > -1) {\r\n        ps.destroy();\r\n      }\r\n    };\r\n  });\r\n  \r\n  const handleClick = (instance, pathname) => {\r\n    handleInstanceChange(instance)\r\n    const locationState = {\r\n      initInstance: instance\r\n    }\r\n    if (pathname) {\r\n      history.push({\r\n        pathname: pathname,\r\n        state: instance === 'stress_test'\r\n        || instance === 'optimization'\r\n        || instance === 'live_trading'\r\n        ?  locationState: null\r\n      })\r\n    }\r\n  }\r\n\r\n  const { isAdminPage, routes, selectedInstance, handleSidebarChange, handleInstanceChange, subInstance } = props;\r\n  \r\n  return (\r\n    <BackgroundColorContext.Consumer>\r\n      {({ color }) => (\r\n        <div className=\"sidebar hunter-sidebar\" data={color}>\r\n          <div className=\"sidebar-wrapper\" ref={sidebarRef}>\r\n            <div className=\"show-sidebar-button-area\">\r\n              <div className=\"show-sidebar-icon\">\r\n                <i className=\"tim-icons icon-align-left-2\" onClick={handleSidebarChange}/>\r\n              </div>\r\n            </div>\r\n            {isAdminPage ? (\r\n              <Nav>\r\n                {routes.map((prop, key) => {\r\n                  return (\r\n                    <li\r\n                      className={\r\n                        prop.instance === selectedInstance ? \"active-instance hunter-select-instance\" : \"hunter-select-instance\"\r\n                      }\r\n                      key={key}\r\n                      onClick={() => {\r\n                        handleInstanceChange(prop.instance)\r\n                        if (prop.pathname) {\r\n                          history.push({\r\n                            pathname: prop.pathname\r\n                          })\r\n                        }\r\n                      }}\r\n                    >\r\n                      <div\r\n                        className=\"nav-link\"\r\n                      >\r\n                        <i className={prop.icon} />\r\n                        <p>{prop.name}</p>\r\n                      </div>\r\n                    </li>\r\n                  );\r\n                })}\r\n              </Nav>  \r\n            ) : (\r\n              <Nav>\r\n                {routes.map((prop, key) => {\r\n                  if (!user.is_admin && !userRole.includes(prop.instance)) {\r\n                    return (<></>)\r\n                  }\r\n                  return (\r\n                    <li\r\n                      className={\r\n                        prop.instance === selectedInstance ? \"active-instance hunter-select-instance\" : \"hunter-select-instance\"\r\n                      }\r\n                      key={key}\r\n                    >\r\n                      {prop.items ? (\r\n                        <div\r\n                          className=\"nav-link\"\r\n                        >\r\n                          <Dropdown \r\n                            title={prop.name}\r\n                            icon={prop.icon}\r\n                            items={prop.items}\r\n                            instance={prop.instance}\r\n                            subInstance={subInstance}\r\n                            handleClick={handleClick}\r\n                            isActive={prop.instance === selectedInstance}\r\n                            key={`${prop.instance}`}\r\n                          />\r\n                        </div>\r\n                      ) : (\r\n                        <div\r\n                          className=\"nav-link\"\r\n                          onClick={() => {\r\n                            handleInstanceChange(prop.instance)\r\n                            const locationState = {\r\n                              initInstance: prop.instance\r\n                            }\r\n                            if (prop.pathname) {\r\n                              history.push({\r\n                                pathname: prop.pathname,\r\n                                state: prop.instance === 'stress_test'\r\n                                || prop.instance === 'optimization'\r\n                                || prop.instance === 'live_trading'\r\n                                ?  locationState: null\r\n                              })\r\n                            }\r\n                          }}\r\n                        >\r\n                          <i className={prop.icon} />\r\n                          <p className=\"hunter-ml-6\" >{prop.name}</p>\r\n                        </div>\r\n                      )\r\n                    }\r\n                    </li>\r\n                  );\r\n                })}\r\n              </Nav>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </BackgroundColorContext.Consumer>\r\n  );\r\n}\r\n\r\nSidebar.defaultProps = {\r\n  rtlActive: false,\r\n  routes: [{}],\r\n};\r\n\r\nSidebar.propTypes = {\r\n  // if true, then instead of the routes[i].name, routes[i].rtlName will be rendered\r\n  // insde the links of this component\r\n  rtlActive: PropTypes.bool,\r\n  routes: PropTypes.arrayOf(PropTypes.object),\r\n  logo: PropTypes.shape({\r\n    // innerLink is for links that will direct the user within the app\r\n    // it will be rendered as <Link to=\"...\">...</Link> tag\r\n    innerLink: PropTypes.string,\r\n    // outterLink is for links that will direct the user outside the app\r\n    // it will be rendered as simple <a href=\"...\">...</a> tag\r\n    outterLink: PropTypes.string,\r\n    // the text of the logo\r\n    text: PropTypes.node,\r\n    // the image src of the logo\r\n    imgSrc: PropTypes.string,\r\n  }),\r\n};\r\n\r\nexport default Sidebar;\r\n","import { createContext } from \"react\";\r\n\r\nexport const backgroundColors = {\r\n  primary: \"primary\",\r\n  blue: \"blue\",\r\n  green: \"green\",\r\n};\r\n\r\nexport const BackgroundColorContext = createContext({\r\n  color: backgroundColors.blue,\r\n  changeColor: (color) => {},\r\n});\r\n","import { useState } from 'react'\r\n\r\nexport const Dropdown = (props) => {\r\n  const { items, title, icon, instance, handleClick, isActive, subInstance } = props;\r\n  const [isOpen, setOpen] = useState(false);\r\n  const toggleDropdown = () => setOpen(!isOpen);\r\n  \r\n  return (\r\n    <div className='hunter-dropdown'>\r\n      <div className='hunter-dropdown-header' onClick={toggleDropdown}>\r\n        <i className={icon} />\r\n        {title}\r\n        <i className={`fa fa-chevron-right hunter-dropdown-icon icon ${isOpen && \"open\"}`}></i>\r\n      </div>\r\n      <div className={`hunter-dropdown-body ${isOpen && 'open'}`}>\r\n        {items.map(item => (\r\n          <div className={`hunter-dropdown-item ${isActive && item.instance === subInstance && 'hunter-selected'}`}\r\n            onClick={e => {\r\n              handleClick(instance, item.pathname)\r\n            }}\r\n            id={item.id}\r\n            key={`${instance}-${item.id}`}\r\n          >\r\n            {item.label}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}","export var routes = [\r\n  {\r\n    name: \"Forward test\",\r\n    icon: \"tim-icons icon-chart-pie-36\",\r\n    instance: \"forward_test\",\r\n    items: [\r\n      {\r\n        id: 0,\r\n        label: 'Bot Management',\r\n        instance: \"systemfilemanager\",\r\n        pathname: '/botmanagement'\r\n      },\r\n      {\r\n        id: 1,\r\n        label: 'View',\r\n        instance: \"view\",\r\n        pathname: '/'\r\n      }\r\n    ],\r\n  },\r\n  {\r\n    name: \"Stress test\",\r\n    icon: \"tim-icons icon-attach-87\",\r\n    instance: \"stress_test\",\r\n    items: [\r\n      {\r\n        id: 0,\r\n        label: 'View',\r\n        instance: \"view\",\r\n        pathname: '/'\r\n      }\r\n    ],\r\n  },\r\n  {\r\n    name: \"Optimization\",\r\n    icon: \"tim-icons icon-atom\",\r\n    instance: \"optimization\",\r\n    items: [\r\n      {\r\n        id: 0,\r\n        label: 'View',\r\n        instance: \"view\",\r\n        pathname: '/optimization'\r\n      }\r\n    ],\r\n  },\r\n  {\r\n    name: \"Live trading\",\r\n    icon: \"tim-icons icon-badge\",\r\n    instance: \"live_trading\",\r\n    items: [\r\n      {\r\n        id: 0,\r\n        label: 'View',\r\n        instance: \"view\",\r\n        pathname: '/'\r\n      }\r\n    ],\r\n  },\r\n  {\r\n    name: \"Macket Watch\",\r\n    icon: \"tim-icons icon-camera-18\",\r\n    instance: \"macket_watch\",\r\n    pathname: '/macket_watch'\r\n  },\r\n  {\r\n    name: \"Data Tables\",\r\n    icon: \"tim-icons icon-chart-bar-32\",\r\n    instance: \"trade_data\",\r\n    items: [\r\n      {\r\n        id: 0,\r\n        label: 'Price Data Table',\r\n        instance: \"pricedatatable\",\r\n        pathname: '/pricedatatable'\r\n      },\r\n      {\r\n        id: 1,\r\n        label: 'Trade Data Table',\r\n        instance: \"tradedatatable\",\r\n        pathname: '/tradedatatable'\r\n      }\r\n    ],\r\n  },\r\n  {\r\n    name: \"Hybrid View\",\r\n    icon: \"tim-icons icon-video-66\",\r\n    instance: \"hybrid_view\",\r\n    pathname: '/hybrid_view'\r\n  },\r\n  {\r\n    name: \"Financial Data\",\r\n    icon: \"tim-icons icon-coins\",\r\n    instance: \"financial_data\",\r\n    pathname: '/financial_data'\r\n  },\r\n  {\r\n    name: \"Scanner\",\r\n    icon: \"tim-icons icon-controller\",\r\n    instance: \"scanner\",\r\n    pathname: '/scanner'\r\n  },\r\n  {\r\n    name: \"Floats\",\r\n    icon: \"tim-icons icon-vector\",\r\n    instance: \"floats\",\r\n    pathname: '/floats'\r\n  },\r\n]\r\n\r\nexport var adminRoutes = [\r\n  {\r\n    name: \"User Manage\",\r\n    icon: \"tim-icons icon-chart-pie-36\",\r\n    instance: \"usermanage\",\r\n    pathname: '/admin/usermanage'\r\n  },\r\n  {\r\n    name: \"Link Manage\",\r\n    icon: \"tim-icons icon-attach-87\",\r\n    instance: \"linkmanage\",\r\n    pathname: '/admin/linkmanage'\r\n  },\r\n]\r\n\r\n","import { isNotDefined } from \"react-stockcharts/lib/utils\";\r\n\r\nexport function saveInteractiveNode(chartId) {\r\n\treturn node => {\r\n\t\tthis[`node_${chartId}`] = node;\r\n\t};\r\n}\r\n\r\nexport function handleSelection(type, chartId) {\r\n\treturn selectionArray => {\r\n\t\tconst key = `${type}_${chartId}`;\r\n\t\tconst interactive = this.state[key].map((each, idx) => {\r\n\t\t\treturn {\r\n\t\t\t\t...each,\r\n\t\t\t\tselected: selectionArray[idx]\r\n\t\t\t};\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\t[key]: interactive\r\n\t\t});\r\n\t};\r\n}\r\n\r\nexport function saveInteractiveNodes(type, chartId) {\r\n\treturn node => {\r\n\t\tif (isNotDefined(this.interactiveNodes)) {\r\n\t\t\tthis.interactiveNodes = {};\r\n\t\t}\r\n\t\t// const key = `${type}_${chartId}`;\r\n\t\t// // if (isDefined(node) || isDefined(this.interactiveNodes[key])) {\r\n\t\t// // \t// console.error(node, key)\r\n\t\t// // \t// console.log(this.interactiveNodes)\r\n\t\t// // \t// eslint-disable-next-line fp/no-mutation\r\n\t\t// // \tthis.interactiveNodes = {\r\n\t\t// // \t\t...this.interactiveNodes,\r\n\t\t// // \t\t[key]: { type, chartId, node },\r\n\t\t// // \t};\r\n\t\t// }\r\n\t};\r\n}\r\n\r\nexport function getInteractiveNodes() {\r\n\treturn this.interactiveNodes;\r\n}","\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { withStyles } from \"@material-ui/core\";\r\nimport { format } from \"d3-format\";\r\nimport dayjs from \"dayjs\";\r\nimport { timeFormat } from \"d3-time-format\";\r\n\r\nimport { ChartCanvas, Chart } from \"react-stockcharts\";\r\nimport {\r\n\tBarSeries,\r\n\tCandlestickSeries,\r\n\tStraightLine,\r\n} from \"react-stockcharts/lib/series\";\r\nimport { XAxis, YAxis } from \"react-stockcharts/lib/axes\";\r\nimport {\r\n\tCrossHairCursor,\r\n\tMouseCoordinateX,\r\n\tMouseCoordinateY,\r\n} from \"react-stockcharts/lib/coordinates\";\r\n\r\nimport { discontinuousTimeScaleProvider } from \"react-stockcharts/lib/scale\";\r\nimport {\r\n\tOHLCTooltip,\r\n\tToolTipText,\r\n\tSingleValueTooltip,\r\n} from \"react-stockcharts/lib/tooltip\";\r\nimport { atr, ema, macd, heikinAshi } from \"react-stockcharts/lib/indicator\";\r\nimport { fitWidth } from \"react-stockcharts/lib/helper\";\r\nimport { DrawingObjectSelector } from \"react-stockcharts/lib/interactive\";\r\nimport { last, toObject } from \"react-stockcharts/lib/utils\";\r\nimport {\r\n\tsaveInteractiveNodes,\r\n\tgetInteractiveNodes,\r\n} from \"../Interactiveutils\";\r\nimport {\r\n\tAnnotate,\r\n\tSvgPathAnnotation,\r\n\tbuyPath,\r\n\tsellPath,\r\n} from \"react-stockcharts/lib/annotation\";\r\n\r\nconst rsiAppearance = {\r\n\tstroke: {\r\n\t\tmacd: \"#FF0000\",\r\n\t\tsignal: \"#00F300\",\r\n\t},\r\n\tfille: {\r\n\t\tbearPower: \"#4682B4\"\r\n\t}\r\n};\r\n\r\n// common stock chart\r\nclass CandleStickChartWithEquidistantChannel extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.addTextLable = this.addTextLable.bind(this);\r\n\t\tthis.onKeyPress = this.onKeyPress.bind(this);\r\n\t\tthis.onDrawComplete = this.onDrawComplete.bind(this);\r\n\t\tthis.saveInteractiveNode = this.saveInteractiveNode.bind(this);\r\n\t\tthis.saveCanvasNode = this.saveCanvasNode.bind(this);\r\n\t\tthis.handleSelection = this.handleSelection.bind(this);\r\n\t\t\r\n\t\tthis.saveInteractiveNodes = saveInteractiveNodes.bind(this);\r\n\t\tthis.getInteractiveNodes = getInteractiveNodes.bind(this);\r\n\r\n\t\tthis.state = {\r\n\t\t\tenableInteractiveObject: true,\r\n\t\t\tx: -200,\r\n      \t\ty: -200,\r\n\t\t\tchannels_1: [],\r\n\t\t\tchannels_3: [],\r\n\t\t\tvalueText: \"\",\r\n      \t\tdateText: \"\",\r\n\t\t\tstatus: '',\r\n\t\t\tisFullChart: false,\r\n\t\t};\r\n\t}\r\n\tsaveInteractiveNode(node) {\r\n\t\tthis.node = node;\r\n\t}\r\n\tsaveCanvasNode(node) {\r\n\t\tthis.canvasNode = node;\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tdocument.addEventListener(\"keyup\", this.onKeyPress);\r\n\t\tthis.canvasNode.subscribe(\"CandleStickChartWithEquidistantChannel\", { listener: this.handleEvents });\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\tthis.canvasNode.unsubscribe(\"CandleStickChartWithEquidistantChannel\");\r\n\t\tdocument.removeEventListener(\"keyup\", this.onKeyPress);\r\n\t}\r\n\r\n\thandleEvents = (type) => {\r\n\t\tif (type === \"zoom\") {\r\n\t\t  this.handleZoom();\r\n\t\t}\r\n\t\tif (type === \"mousedown\") {\r\n\t\t  this.hideTextLabel();\r\n\t\t}\r\n\t};\r\n\r\n\thandleZoom() {\r\n\t\tif (this.state.x !== -200 && this.state.y !== -200) {\r\n\t\t  this.hideTextLabel();\r\n\t\t}\r\n\t}\r\n\r\n\thideTextLabel() {\r\n\t\tthis.setState({\r\n\t\t  x: -200,\r\n\t\t  y: -200\r\n\t\t});\r\n\t}\r\n\r\n\taddTextLable(e) {\r\n\t\tconst formatter = new Intl.DateTimeFormat(\"en\", { month: \"short\" });\r\n\t\tconst formatterW = new Intl.DateTimeFormat(\"en\", { weekday: \"long\" });\r\n\t\tconst month2 = formatter.format(e.datum.date);\r\n\t\tconst week2 = formatterW.format(e.datum.date);\r\n\t\tconst dateElem = `${week2}, ${month2} ${e.datum.date.getDate()}, ${e.datum.date.getFullYear()}`;\r\n\t\tthis.setState({\r\n\t\t\tx: 500,\r\n\t\t\ty: 30,\r\n\t\t\tvalueText: e.datum.high,\r\n\t\t\tdateText: dateElem,\r\n\t\t\tstatus: e.datum.action,\r\n\t\t});\r\n\t}\r\n\r\n\thandleSelection(interactives) {\r\n\t\tconst state = toObject(interactives, each => {\r\n\t\t\treturn [\r\n\t\t\t\t`channels_${each.chartId}`,\r\n\t\t\t\teach.objects,\r\n\t\t\t];\r\n\t\t});\r\n\t\tthis.setState(state);\r\n\t}\r\n\r\n\tisIncludeIndicators(indicator) {\r\n\t\tif (this.props.indicators) {\r\n\t\t\treturn this.props.indicators.filter((e) => e.value === indicator).length;\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tonDrawComplete(channels_1) {\r\n\t\tthis.setState({\r\n\t\t\tenableInteractiveObject: false,\r\n\t\t\tchannels_1\r\n\t\t});\r\n\t}\r\n\tonKeyPress(e) {\r\n\t\tconst keyCode = e.which;\r\n\t\tconsole.log(keyCode);\r\n\t\tswitch (keyCode) {\r\n\t\t\tcase 46: { // DEL\r\n\t\t\t\tconst channels_1 = this.state.channels_1\r\n\t\t\t\t\t.filter(each => !each.selected);\r\n\t\t\t\tconst channels_3 = this.state.channels_3\r\n\t\t\t\t\t.filter(each => !each.selected);\r\n\r\n\t\t\t\tthis.canvasNode.cancelDrag();\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tchannels_1,\r\n\t\t\t\t\tchannels_3,\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 27: { // ESC\r\n\t\t\t\tthis.node.terminate();\r\n\t\t\t\tthis.canvasNode.cancelDrag();\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tenableInteractiveObject: false\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 68:   // D - Draw drawing object\r\n\t\t\tcase 69: { // E - Enable drawing object\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tenableInteractiveObject: true\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tdefault: {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcalculateHeight (isFullChart) {\r\n\t\tif (this.props.isHomePage && !isFullChart) {\r\n\t\t\treturn 400;\r\n\t\t}\r\n\t\tlet index = 1\r\n\t\tif (this.props.indicators) {\r\n\t\t\tif (this.props.indicators.length > 1) {\r\n\t\t\t\tindex = this.props.indicators.length\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn 500 + index * 100\r\n\t}\r\n\r\n\tcalculateOffset (indicator, isFullChart) {\r\n\t\tif (!this.props.isHomePage || isFullChart) {\r\n\t\t\tif (indicator === 'RSI') {\r\n\t\t\t\tconst filter = this.props.indicators.filter(indicator => ['RSI2', 'RSI3', 'HEIK1', 'HEIK2'].includes(indicator.value))\r\n\t\t\t\treturn 300 + filter.length * 70;\r\n\t\t\t}\r\n\t\r\n\t\t\tif (indicator === 'RSI2') {\r\n\t\t\t\tconst filter = this.props.indicators.filter(indicator => ['RSI3', 'HEIK1', 'HEIK2'].includes(indicator.value))\r\n\t\t\t\treturn 300 + filter.length * 70;\r\n\t\t\t}\r\n\r\n\t\t\tif (indicator === 'RSI3') {\r\n\t\t\t\tconst filter = this.props.indicators.filter(indicator => ['HEIK1', 'HEIK2'].includes(indicator.value))\r\n\t\t\t\treturn 300 + filter.length * 70;\r\n\t\t\t}\r\n\t\r\n\t\t\tif (indicator === 'HEIK1') {\r\n\t\t\t\tconst filter = this.props.indicators.filter(indicator => ['HEIK2'].includes(indicator.value))\r\n\t\t\t\treturn 300 + filter.length * 70;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (indicator === 'HEIK2') {\r\n\t\t\t\tconst filter = this.props.indicators.filter(indicator => [''].includes(indicator.value))\r\n\t\t\t\treturn 300 + filter.length * 70;\r\n\t\t\t}\r\n\t\t\treturn 0\t\r\n\t\t}\r\n\t\tif (indicator === 'RSI') {\r\n\t\t\tif (this.isIncludeIndicators(indicator)) {\r\n\t\t\t\tif (this.isIncludeIndicators('VOLUME')) {\r\n\t\t\t\t\tif (this.props.indicators.length > 1) {\r\n\t\t\t\t\t\treturn (this.props.indicators.length-1) * 50 + 50\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn 80;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.props.indicators.length > 1) {\r\n\t\t\t\t\t\treturn (this.props.indicators.length) * 50 + 50\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn 80;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (indicator === 'HEIK1') {\r\n\t\t\tif (this.isIncludeIndicators(indicator)) {\r\n\t\t\t\tif (this.isIncludeIndicators('HEIK2')) {\r\n\t\t\t\t\treturn 130;\r\n\t\t\t\t}\r\n\t\t\t\treturn 80;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (indicator === 'HEIK2') {\r\n\t\t\treturn 60;\r\n\t\t}\r\n\r\n\t\treturn 10\r\n\t}\r\n\r\n\tcalculateMainHeightOffset(isFullChart) {\r\n\t\tif (this.props.isHomePage && !isFullChart) {\r\n\t\t\treturn 100 + (this.props.indicators.length - 1) * 50\r\n\t\t}\r\n\t\tif ( this.props.indicators ) {\r\n\t\t\tif (this.props.indicators.length > 1) {\r\n\t\t\t\treturn 300 + (this.props.indicators.length - 1) * 100\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn 300\r\n\t}\r\n\r\n\tcalculateTooltipOffset0(isFullChart) {\r\n\t\treturn 0;\r\n\t\t// if (!this.props.isHomePage || isFullChart) {\r\n\t\t// \treturn 0;\r\n\t\t// }\r\n\t\t// if ( this.props.indicators ) {\r\n\t\t// \tif (this.props.indicators.length > 1) {\r\n\t\t// \t\treturn 0\r\n\t\t// \t}\r\n\t\t// }\r\n\t\t// return 0\r\n\t}\r\n\t\r\n\tcalculateTooltipOffset1(isFullChart) {\r\n\t\treturn 0;\r\n\t\t// if (!this.props.isHomePage || isFullChart) {\r\n\t\t// \treturn 0;\r\n\t\t// }\r\n\t\t// if ( this.props.indicators ) {\r\n\t\t// \tif (this.props.indicators.length > 1) {\r\n\t\t// \t\treturn 0\r\n\t\t// \t}\r\n\t\t// }\r\n\t\t// return 0\r\n\t}\r\n\r\n\t// computeAnnotation(dateLine) {\r\n\t// \tconst deal = this.props.deals.filter(\r\n\t// \t\tdealLine => {\r\n\t// \t\t\treturn dateLine.date.getTime() === dealLine.ddate.getTime()\r\n\t// \t\t}\r\n\t// \t\t);\r\n\t\t\t\r\n\t// \tif (deal.length > 0) {\r\n\t// \t\treturn deal[0].action;\r\n\t// \t}\r\n\t// }\r\n\r\n\trender() {\r\n\r\n\t\tconst ema20 = ema()\r\n\t\t\t.id(0)\r\n\t\t\t.options({ windowSize: 13 })\r\n\t\t\t.merge((d, c) => { d.ema20 = c; })\r\n\t\t\t.accessor(d => d.ema20);\r\n\r\n\t\tconst ema50 = ema()\r\n\t\t\t.id(2)\r\n\t\t\t.options({ windowSize: 50 })\r\n\t\t\t.merge((d, c) => { d.ema50 = c; })\r\n\t\t\t.accessor(d => d.ema50);\r\n\r\n\t\t\r\n\t\t// const longFillProps = {\r\n\t\t// \tstroke: \"#22a46e\",\r\n\t\t// \tfill: \"#22a46e\",\r\n\t\t// \tclassName: this.props.classes.deal_green_shadowed\r\n\t\t//   };\r\n\t  \r\n\t\t//   const shortFillProps = {\r\n\t\t// \tstroke: \"#cc4060\",\r\n\t\t// \tfill: \"#cc4060\",\r\n\t\t// \tclassName: this.props.classes.deal_red_shadowed\r\n\t\t//   };\r\n\t  \r\n\t\t//   const fontProps = {\r\n\t\t// \tfontFamily: \"Material Icons\",\r\n\t\t// \tfontSize: 24,\r\n\t\t// \tfontWeight: \"normal\",\r\n\t\t// \topacity: 1,\r\n\t\t// \tonClick: this.addTextLable\r\n\t\t//   };\r\n\t  \r\n\t\t// const yOpenProps = {\r\n\t\t// y: ({ yScale, datum }) => yScale(datum.high * 1.04 - 100)\r\n\t\t// };\r\n\t  \r\n\t\t// const yCloseProps = {\r\n\t\t// y: ({ yScale, datum }) => yScale(datum.high * 1.04 - 100)\r\n\t\t// };\r\n\t  \r\n\t\t// const buyTooltipProps = {\r\n\t\t// \ttooltip: (o) => {\r\n\t\t// \t\treturn `Buy: ${o.date} \\n Price: ${o.price}`\r\n\t\t// \t}\r\n\t\t// }\r\n\t\t\r\n\t\t// const sellTooltipProps = {\r\n\t\t// \ttooltip: (o) => {\r\n\t\t// \t\treturn `Sell: ${o.date}\\nPrice: ${o.price}`\r\n\t\t// \t}\r\n\t\t// }\r\n\r\n\t\t// const buy = {\r\n\t\t// \t...longFillProps,\r\n\t\t// \t...fontProps,\r\n\t\t// \t...yOpenProps,\r\n\t\t// \ttext: \"\\u25B2\",\r\n\t\t// \t...buyTooltipProps,\r\n\t\t// \trotate: 180\r\n\t\t// };\r\n\t  \r\n\t\t//   const sell = {\r\n\t\t// \t...shortFillProps,\r\n\t\t// \t...fontProps,\r\n\t\t// \t...yCloseProps,\r\n\t\t// \t...sellTooltipProps,\r\n\t\t// \ttext: \"\\u25B2\",\r\n\t\t// \trotate: 180\r\n\t\t// };\r\n\r\n\t\tconst ha = heikinAshi();\r\n\t\t\r\n\t\tconst macdCalculator = macd()\r\n\t\t\t.options({\r\n\t\t\t\tfast: 12,\r\n\t\t\t\tslow: 26,\r\n\t\t\t\tsignal: 9,\r\n\t\t\t})\r\n\t\t\t.merge((d, c) => { d.macd = c; })\r\n\t\t\t.accessor(d => d.macd);\r\n\r\n\t\tconst atr14 = atr()\r\n\t\t.options({ windowSize: 14 })\r\n\t\t.merge((d, c) => {d.atr14 = c;})\r\n\t\t.accessor(d => d.atr14);\t\r\n\r\n\t\tconst { type, data: initialData, width, ratio, chartColumn, extendMarketTime } = this.props;\r\n\r\n\t\tconst isFullChart = (chartColumn === 1 || chartColumn === 2);\r\n\r\n\t\tinitialData.forEach(line => {\r\n\t\t\tline.date = dayjs(line.date).toDate();\r\n\t\t  });\r\n\r\n\t\t// const margin = { left: 80, right: 80, top: 30, bottom: 50 };  \r\n\r\n\t\t// const height = 400;\r\n\r\n\t\t// const [yAxisLabelX, yAxisLabelY] = [width - margin.left - 40, margin.top + (height - margin.top - margin.bottom) / 2];\r\n\t\t\r\n\t\tconst calculatedData = macdCalculator((ha(atr14(initialData))));\r\n\t\t\r\n\t\tconst xScaleProvider = discontinuousTimeScaleProvider\r\n\t\t\t.inputDateAccessor(d => d.date);\r\n\t\tconst {\r\n\t\t\tdata,\r\n\t\t\txScale,\r\n\t\t\txAccessor,\r\n\t\t\tdisplayXAccessor,\r\n\t\t} = xScaleProvider(calculatedData);\r\n\r\n\r\n\t\tconst defaultAnnotationProps = {\r\n\t\t\tonClick: console.log.bind(console),\r\n\t\t};\r\n\r\n\t\tconst longAnnotationProps = {\r\n\t\t\t...defaultAnnotationProps,\r\n\t\t\ty: ({ yScale, datum }) => { return yScale(datum.low) - this.calculateTooltipOffset0(isFullChart) },\r\n\t\t\tfill: \"#006517\",\r\n\t\t\tpath: buyPath,\r\n\t\t\ttooltip: (e) => {\r\n\t\t\t\tconst contents = e.trades.map((trade) => `${trade.longShort === 'LONG' ? 'Buy:' : 'Sell:'} Price: ${trade.price} Date: ${trade.trade_date.replace('T', ' ')}\\n`)\r\n\t\t\t\treturn contents\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst shortAnnotationProps = {\r\n\t\t\t...defaultAnnotationProps,\r\n\t\t\ty: ({ yScale, datum }) => { return yScale(datum.high) - this.calculateTooltipOffset1(isFullChart)},\r\n\t\t\tfill: \"#FF0000\",\r\n\t\t\tpath: sellPath,\r\n\t\t\ttooltip: (e) => {\r\n\t\t\t\tconst contents = e.trades.map((trade) => `${trade.longShort === 'LONG' ? 'Buy:' : 'Sell:'} Price: ${trade.price} Trade Date: ${trade.trade_date.replace('T', ' ')}\\n`)\r\n\t\t\t\treturn contents\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst start = xAccessor(last(data));\r\n\t\t// const periodIndex = this.props.period === 'heikfilter-2mins-trades' \r\n\t\t// \t? 15\r\n\t\t// \t: this.props.period === 'heikfilter-12mins-trades'\r\n\t\t// \t? 30\r\n\t\t// \t: this.props.period === 'heikfilter-1hour-trades'\r\n\t\t// \t? 90\r\n\t\t// \t: this.props.period === 'heikfilter-4hours-trades'\r\n\t\t// \t? 200\r\n\t\t// \t: this.props.period === 'heikfilter-12hours-trades'\r\n\t\t// \t? 200 : 1000\r\n\t\t\r\n\t\t// const end = xAccessor(data[Math.max(0, data.length - periodIndex)]);\r\n\t\tconst end = xAccessor(data[Math.max(0, data.length - 150)]);\r\n\t\tconst xExtents = [start, end];\r\n\t\t// const xExtents = [\r\n\t\t// \tthis.props.data[0].date,\r\n\t\t// \tthis.props.data[this.props.data.length-1].date\r\n\t\t// ];\r\n\t\t// console.log(\"xExtents\", last(data).date, data[Math.max(0, data.length - 150)].date)\r\n\t\t// console.log(\"xExtents1\", this.props.data[0].date, this.props.data[this.props.data.length - 1].date)\r\n\t\t\r\n\t\tconst xDisplayFormatProps = {\r\n\t\t\txDisplayFormat: timeFormat(\"%Y-%m-%d : %H-%M-%S\"),\r\n\t\t\tohlcFormat: () => \"\",\r\n\t\t\tvolumeFormat: () => \"\",\r\n\t\t\tpercentFormat: () => \"\",\r\n\t\t\tdisplayTexts: {\r\n\t\t\t\td: \"Date: \",\r\n\t\t\t},\r\n\r\n\t\t}\r\n\t\tconst xDisplayFormatProps1 = {\r\n\t\t\txDisplayFormat: timeFormat(\"\"),\r\n\t\t\tdisplayTexts: {\r\n\t\t\t\to: \" O: \",\r\n\t\t\t\th: \" H: \",\r\n\t\t\t\tl: \" L: \",\r\n\t\t\t\tc: \" C: \",\r\n\t\t\t\tv: \" Vol: \",\r\n\t\t\t\tna: \"n/a\"\r\n\t\t\t},\r\n\t\t}\r\n\t\tconst xDisplayFormatProps2 = {\r\n\t\t\txDisplayFormat: timeFormat(\"\"),\r\n\t\t\tohlcFormat: () => \"\",\r\n\t\t\tvolumeFormat: () => this.props.symbol,\r\n\t\t\tpercentFormat: () => \"\",\r\n\t\t\tdisplayTexts: {\r\n\t\t\t\tv: \" Symbol: \",\r\n\t\t\t},\r\n\t\t}\r\n\t\t\r\n\t\tconst SMATooltipProps = {\r\n\t\t\tvalueFill: '#ffffff'\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<ChartCanvas\r\n\t\t\t\theight={this.calculateHeight(isFullChart)}\r\n\t\t\t\twidth={width}\r\n\t\t\t\tratio={ratio}\r\n\t\t\t\tmargin={{ left: 70, right: 70, top: 20, bottom: 30 }}\r\n\t\t\t\ttype={type}\r\n\t\t\t\tseriesName=\"MSFT\"\r\n\t\t\t\tdata={data}\r\n\t\t\t\txExtents={xExtents}\r\n\t\t\t\txScale={xScale}\r\n\t\t\t\tdisplayXAccessor={displayXAccessor}\r\n\t\t\t\txAccessor={xAccessor}\r\n\t\t\t\tref={node => {\r\n\t\t\t\t\tthis.canvasNode = node;\r\n\t\t\t\t}}\r\n\t\t\t\tredraw={true}\r\n\t\t\t>\r\n\t\t\t\t<Chart id={1}\r\n\t\t\t\t\theight={\r\n\t\t\t\t\t\t(!this.props.isHomePage || isFullChart)\r\n\t\t\t\t\t\t? this.isIncludeIndicators('VOLUME') || this.props.indicators.length ? 250 : 400\r\n\t\t\t\t\t\t: 300 - this.props.indicators.length * 50\r\n\t\t\t\t\t}\r\n\t\t\t\t\tyExtents={[d => [d.high, d.low], ema20.accessor(), ema50.accessor()]}\r\n\t\t\t\t\tpadding={{ top: 10, bottom: 20 }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\"  stroke=\"white\" tickStroke=\"white\" />\r\n\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" ticks={5} stroke=\"white\" tickStroke=\"white\" />\r\n\r\n\t\t\t\t\t<MouseCoordinateX\r\n\t\t\t\t\t\tat=\"bottom\"\r\n\t\t\t\t\t\torient=\"bottom\"\r\n\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\r\n\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\tat=\"right\"\r\n\t\t\t\t\t\torient=\"right\"\r\n\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\r\n\r\n\t\t\t\t\t<CandlestickSeries \r\n\t\t\t\t\t\tstroke={d => d.close > d.open ? \"#6BA583\" : \"#DB0000\"}\r\n\t\t\t\t\t\twickStroke={d => d.close > d.open ? \"#6BA583\" : \"#DB0000\"}\r\n\t\t\t\t\t\tfill={d => d.close > d.open ? \"#6BA583\" : \"#DB0000\"}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<OHLCTooltip \r\n\t\t\t\t\t\torigin={[-50, -10]}\r\n\t\t\t\t\t\t{...xDisplayFormatProps}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<OHLCTooltip \r\n\t\t\t\t\t\torigin={[-50, 20]}\r\n\t\t\t\t\t\t{...xDisplayFormatProps1}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<OHLCTooltip \r\n\t\t\t\t\t\torigin={[100, -5]}\r\n\t\t\t\t\t\t{...xDisplayFormatProps2}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Annotate with={SvgPathAnnotation} when={ d => \r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\treturn this.props.selectedInstance !== 'live_trading'  \r\n\t\t\t\t\t\t\t&& d.trades\r\n\t\t\t\t\t\t\t&& d.trades[0].strategy === `${this.props.strategy.value}-${this.props.microStrategy}-trades`\r\n\t\t\t\t\t\t\t&& d.trades[0].longShort === \"LONG\" \r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tusingProps={longAnnotationProps} />\r\n\t\t\t\t\t<Annotate with={SvgPathAnnotation} when={d => \r\n\t\t\t\t\t\tthis.props.selectedInstance !== 'live_trading' \r\n\t\t\t\t\t\t&& d.trades\r\n\t\t\t\t\t\t&& d.trades[0].strategy === `${this.props.strategy.value}-${this.props.microStrategy}-trades`\r\n\t\t\t\t\t\t&& d.trades[0].longShort === \"SHORT\" }\r\n\t\t\t\t\t\tusingProps={shortAnnotationProps} />\r\n\r\n\t\t\t\t</Chart>\r\n\t\t\t\t{this.isIncludeIndicators('VOLUME') && (\r\n\t\t\t\t\t<Chart id={2} height={(!this.props.isHomePage || isFullChart) ? 100 : 50}\r\n\t\t\t\t\t\tyExtents={[d => d.volume]}\r\n\t\t\t\t\t\torigin={(w, h) => [0, h - this.calculateMainHeightOffset(isFullChart)]}\r\n\t\t\t\t\t\tpadding={{ top: 10, bottom: 10 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" stroke=\"white\" tickStroke=\"white\" />\r\n\t\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" ticks={5} tickFormat={format(\".2s\")} stroke=\"white\" tickStroke=\"white\" />\r\n\r\n\t\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\t\tat=\"left\"\r\n\t\t\t\t\t\t\torient=\"left\"\r\n\t\t\t\t\t\t\tdisplayFormat={format(\".4s\")} />\r\n\r\n\t\t\t\t\t\t<BarSeries yAccessor={d => d.volume} fill={d => d.close > d.open ? \"#6BA583\" : \"#FF0000\"} />\r\n\t\t\t\t\t</Chart>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.isIncludeIndicators('RSI') && (\r\n\t\t\t\t\t<Chart id={3} \r\n\t\t\t\t\t\t// height={(!this.props.isHomePage || isFullChart) ? 100 : 70}\r\n\t\t\t\t\t\theight={70}\r\n\t\t\t\t\t\tyExtents={[0, d => d.rsi.bearPower]}\r\n\t\t\t\t\t\torigin={(w, h) => [0, h - this.calculateOffset('RSI', isFullChart)]}\r\n\t\t\t\t\t\tpadding={{ top: 40, bottom: 10 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" stroke=\"white\" tickStroke=\"white\" />\r\n\t\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" stroke=\"white\" tickStroke=\"white\" ticks={4} tickFormat={format(\".2f\")}/>\r\n\t\t\t\t\t\t<MouseCoordinateX\r\n\t\t\t\t\t\t\tat=\"bottom\"\r\n\t\t\t\t\t\t\torient=\"bottom\"\r\n\t\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\r\n\t\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\t\tat=\"right\"\r\n\t\t\t\t\t\t\torient=\"right\"\r\n\t\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\r\n\t\t\t\t\t\t<BarSeries\r\n\t\t\t\t\t\t\tyAccessor={d => d.rsi.bearPower}\r\n\t\t\t\t\t\t\tbaseAt={(xScale, yScale, d) => yScale(0)}\r\n\t\t\t\t\t\t\tfill={d => d.rsi.side === 'buy' ? '#800080' : d.rsi.side === 'sell' ? '#FFA500' : d.rsi.side === 'hold' ? '#00FF00' : '#FF0000'} />\r\n\t\t\t\t\t\t<StraightLine yValue={0} />\r\n\r\n\t\t\t\t\t\t<SingleValueTooltip\r\n\t\t\t\t\t\t\tyAccessor={d => d.rsi.bearPower}\r\n\t\t\t\t\t\t\tyLabel=\"RSI - Bear power\"\r\n\t\t\t\t\t\t\tyDisplayFormat={format(\".2f\")}\r\n\t\t\t\t\t\t\tappearance={rsiAppearance}\r\n\t\t\t\t\t\t\t{...SMATooltipProps}\r\n\t\t\t\t\t\t\torigin={[-40, 35]}/>\r\n\t\t\t\t\t</Chart>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.isIncludeIndicators('RSI2') && (\r\n\t\t\t\t\t<Chart id={4} \r\n\t\t\t\t\t\t// height={(!this.props.isHomePage || isFullChart) ? 100 : 70}\r\n\t\t\t\t\t\theight={70}\r\n\t\t\t\t\t\tyExtents={[0, d => d.rsi2.bearPower]}\r\n\t\t\t\t\t\torigin={(w, h) => [0, h - this.calculateOffset('RSI2', isFullChart)]}\r\n\t\t\t\t\t\tpadding={{ top: 40, bottom: 10 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" stroke=\"white\" tickStroke=\"white\" />\r\n\t\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" stroke=\"white\" tickStroke=\"white\" ticks={4} tickFormat={format(\".2f\")}/>\r\n\t\t\t\t\t\t<MouseCoordinateX\r\n\t\t\t\t\t\t\tat=\"bottom\"\r\n\t\t\t\t\t\t\torient=\"bottom\"\r\n\t\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\r\n\t\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\t\tat=\"right\"\r\n\t\t\t\t\t\t\torient=\"right\"\r\n\t\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\r\n\t\t\t\t\t\t<BarSeries\r\n\t\t\t\t\t\t\tyAccessor={d => d.rsi2.bearPower}\r\n\t\t\t\t\t\t\tbaseAt={(xScale, yScale, d) => yScale(0)}\r\n\t\t\t\t\t\t\tfill={d => \r\n\t\t\t\t\t\t\t\td.rsi2.color === 'l_g' ? '#90EE90' : d.rsi2.color === 'd_g' ? '#006400' : d.rsi2.color === 'l_r' ? '#ED0800' : '#8B0000'\r\n\t\t\t\t\t\t\t} />\r\n\t\t\t\t\t\t<StraightLine yValue={0} />\r\n\r\n\t\t\t\t\t\t<SingleValueTooltip\r\n\t\t\t\t\t\t\tyAccessor={d => d.rsi2.bearPower}\r\n\t\t\t\t\t\t\tyLabel=\"RSI2 - Bear power\"\r\n\t\t\t\t\t\t\tyDisplayFormat={format(\".2f\")}\r\n\t\t\t\t\t\t\tappearance={rsiAppearance}\r\n\t\t\t\t\t\t\t{...SMATooltipProps}\r\n\t\t\t\t\t\t\torigin={[-40, 35]}/>\r\n\t\t\t\t\t</Chart>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.isIncludeIndicators('RSI3') && (\r\n\t\t\t\t\t<Chart id={5} \r\n\t\t\t\t\t\t// height={(!this.props.isHomePage || isFullChart) ? 100 : 70}\r\n\t\t\t\t\t\theight={70}\r\n\t\t\t\t\t\tyExtents={[0, d => d.rsi3.bearPower]}\r\n\t\t\t\t\t\torigin={(w, h) => [0, h - this.calculateOffset('RSI3', isFullChart)]}\r\n\t\t\t\t\t\tpadding={{ top: 40, bottom: 10 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" stroke=\"white\" tickStroke=\"white\" />\r\n\t\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" stroke=\"white\" tickStroke=\"white\" ticks={4} tickFormat={format(\".2f\")}/>\r\n\t\t\t\t\t\t<MouseCoordinateX\r\n\t\t\t\t\t\t\tat=\"bottom\"\r\n\t\t\t\t\t\t\torient=\"bottom\"\r\n\t\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\r\n\t\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\t\tat=\"right\"\r\n\t\t\t\t\t\t\torient=\"right\"\r\n\t\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\r\n\t\t\t\t\t\t<BarSeries\r\n\t\t\t\t\t\t\tyAccessor={d => d.rsi3.bearPower}\r\n\t\t\t\t\t\t\tbaseAt={(xScale, yScale, d) => yScale(0)}\r\n\t\t\t\t\t\t\tfill={d => \r\n\t\t\t\t\t\t\t\td.rsi3.color === 'l_g' ? '#90EE90' : d.rsi3.color === 'd_g' ? '#006400' : d.rsi3.color === 'l_r' ? '#ED0800' : '#8B0000'\r\n\t\t\t\t\t\t\t} />\r\n\t\t\t\t\t\t<StraightLine yValue={0} />\r\n\r\n\t\t\t\t\t\t<SingleValueTooltip\r\n\t\t\t\t\t\t\tyAccessor={d => d.rsi3.bearPower}\r\n\t\t\t\t\t\t\tyLabel=\"RSI3 - Bear power\"\r\n\t\t\t\t\t\t\tyDisplayFormat={format(\".2f\")}\r\n\t\t\t\t\t\t\tappearance={rsiAppearance}\r\n\t\t\t\t\t\t\t{...SMATooltipProps}\r\n\t\t\t\t\t\t\torigin={[-40, 35]}/>\r\n\t\t\t\t\t</Chart>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.isIncludeIndicators('HEIK1') && (\r\n\t\t\t\t\t<Chart id={6} \r\n\t\t\t\t\t\t// height={(!this.props.isHomePage || isFullChart) ? 100 : 70}\r\n\t\t\t\t\t\theight={70}\r\n\t\t\t\t\t\tyExtents={[0, d => d.heik.bearPower]}\r\n\t\t\t\t\t\torigin={(w, h) => [0, h - this.calculateOffset('HEIK1', isFullChart)]}\r\n\t\t\t\t\t\tpadding={{ top: 40, bottom: 10 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" stroke=\"white\" tickStroke=\"white\" />\r\n\t\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" stroke=\"white\" tickStroke=\"white\" ticks={4} tickFormat={format(\".2f\")}/>\r\n\t\t\t\t\t\t<MouseCoordinateX\r\n\t\t\t\t\t\t\tat=\"bottom\"\r\n\t\t\t\t\t\t\torient=\"bottom\"\r\n\t\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\r\n\t\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\t\tat=\"right\"\r\n\t\t\t\t\t\t\torient=\"right\"\r\n\t\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\r\n\t\t\t\t\t\t<BarSeries\r\n\t\t\t\t\t\t\tyAccessor={d => d.heik.bearPower}\r\n\t\t\t\t\t\t\tbaseAt={(xScale, yScale, d) => yScale(0)}\r\n\t\t\t\t\t\t\tfill={d => \r\n\t\t\t\t\t\t\t\td.heik.color === 'l_g' ? '#90EE90' : d.heik.color === 'd_g' ? '#006400' : d.heik.color === 'l_r' ? '#ED0800' : '#8B0000'\r\n\t\t\t\t\t\t\t} />\r\n\t\t\t\t\t\t<StraightLine yValue={0} />\r\n\r\n\t\t\t\t\t\t<SingleValueTooltip\r\n\t\t\t\t\t\t\tyAccessor={d => d.heik.bearPower}\r\n\t\t\t\t\t\t\tyLabel=\"HEIK1 - Bear power\"\r\n\t\t\t\t\t\t\tyDisplayFormat={format(\".2f\")}\r\n\t\t\t\t\t\t\tappearance={rsiAppearance}\r\n\t\t\t\t\t\t\t{...SMATooltipProps}\r\n\t\t\t\t\t\t\torigin={[-40, 35]}/>\r\n\t\t\t\t\t</Chart>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.isIncludeIndicators('HEIK2') && (\r\n\t\t\t\t\t<Chart id={7} \r\n\t\t\t\t\t\t// height={(!this.props.isHomePage || isFullChart) ? 100 : 70}\r\n\t\t\t\t\t\theight={70}\r\n\t\t\t\t\t\tyExtents={[0, d => d.heik2.bearPower]}\r\n\t\t\t\t\t\torigin={(w, h) => [0, h - this.calculateOffset('HEIK2', isFullChart)]}\r\n\t\t\t\t\t\tpadding={{ top: 40, bottom: 10 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" stroke=\"white\" tickStroke=\"white\" />\r\n\t\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" stroke=\"white\" tickStroke=\"white\" ticks={4} tickFormat={format(\".2f\")}/>\r\n\t\t\t\t\t\t<MouseCoordinateX\r\n\t\t\t\t\t\t\tat=\"bottom\"\r\n\t\t\t\t\t\t\torient=\"bottom\"\r\n\t\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\r\n\t\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\t\tat=\"right\"\r\n\t\t\t\t\t\t\torient=\"right\"\r\n\t\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\r\n\t\t\t\t\t\t<BarSeries\r\n\t\t\t\t\t\t\tyAccessor={d => d.heik2.bearPower}\r\n\t\t\t\t\t\t\tbaseAt={(xScale, yScale, d) => yScale(0)}\r\n\t\t\t\t\t\t\tfill={d => \r\n\t\t\t\t\t\t\t\td.heik2.color === 'l_g' ? '#90EE90' : d.heik2.color === 'd_g' ? '#006400' : d.heik2.color === 'l_r' ? '#ED0800' : '#8B0000'\r\n\t\t\t\t\t\t\t} />\r\n\t\t\t\t\t\t<StraightLine yValue={0} />\r\n\r\n\t\t\t\t\t\t<SingleValueTooltip\r\n\t\t\t\t\t\t\tyAccessor={d => d.heik2.bearPower}\r\n\t\t\t\t\t\t\tyLabel=\"HEIK2 - Bear power\"\r\n\t\t\t\t\t\t\tyDisplayFormat={format(\".2f\")}\r\n\t\t\t\t\t\t\tappearance={rsiAppearance}\r\n\t\t\t\t\t\t\t{...SMATooltipProps}\r\n\t\t\t\t\t\t\torigin={[-40, 35]}/>\r\n\t\t\t\t\t</Chart>\r\n\t\t\t\t)}\r\n\t\t\t\t{/* {this.isIncludeIndicators('RSI3') && (\r\n\t\t\t\t\t<Chart id={5} \r\n\t\t\t\t\t\t// height={(!this.props.isHomePage || isFullChart) ? 100 : 70}\r\n\t\t\t\t\t\theight={70}\r\n\t\t\t\t\t\tyExtents={[0, d => d.rsi2.bearPower]}\r\n\t\t\t\t\t\torigin={(w, h) => [0, h - this.calculateOffset('RSI3', isFullChart)]}\r\n\t\t\t\t\t\tpadding={{ top: 40, bottom: 10 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" stroke=\"white\" tickStroke=\"white\" />\r\n\t\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" stroke=\"white\" tickStroke=\"white\" ticks={4} tickFormat={format(\".2f\")}/>\r\n\t\t\t\t\t\t<MouseCoordinateX\r\n\t\t\t\t\t\t\tat=\"bottom\"\r\n\t\t\t\t\t\t\torient=\"bottom\"\r\n\t\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\r\n\t\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\t\tat=\"right\"\r\n\t\t\t\t\t\t\torient=\"right\"\r\n\t\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\r\n\t\t\t\t\t\t<BarSeries\r\n\t\t\t\t\t\t\tyAccessor={d => d.rsi3.bearPower}\r\n\t\t\t\t\t\t\tbaseAt={(yScale) => yScale(0)}\r\n\t\t\t\t\t\t\tfill={d => d.side === 'buy' ? '#800080' : d.side === 'sell' ? '#FFA500' : d.side === 'hold' ? '#00FF00' : '#FF0000'} />\r\n\t\t\t\t\t\t<StraightLine yValue={0} />\r\n\r\n\t\t\t\t\t\t<SingleValueTooltip\r\n\t\t\t\t\t\t\tyAccessor={d => d.rsi3.bearPower}\r\n\t\t\t\t\t\t\tyLabel=\"RSI3 - Bear power\"\r\n\t\t\t\t\t\t\tyDisplayFormat={format(\".2f\")}\r\n\t\t\t\t\t\t\tappearance={rsiAppearance}\r\n\t\t\t\t\t\t\t{...SMATooltipProps}\r\n\t\t\t\t\t\t\torigin={[-40, this.props.isHompage ? 40 : 25]}/>\r\n\t\t\t\t\t</Chart>\r\n\t\t\t\t)} */}\r\n\t\t\t\t{/* {this.isIncludeIndicators('HEIK1') && (\r\n\t\t\t\t\t<Chart id={6} \r\n\t\t\t\t\t\t// height={(!this.props.isHomePage || isFullChart) ? 100 : 70}\r\n\t\t\t\t\t\theight={70}\r\n\t\t\t\t\t\tyExtents={[0, d => {console.log(d); return d.heik.bearPower}]}\r\n\t\t\t\t\t\torigin={(w, h) => [0, h - this.calculateOffset('HEIK1', isFullChart)]}\r\n\t\t\t\t\t\tpadding={{ top: 40, bottom: 10 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" stroke=\"white\" tickStroke=\"white\" />\r\n\t\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" stroke=\"white\" tickStroke=\"white\" ticks={4} tickFormat={format(\".2f\")}/>\r\n\t\t\t\t\t\t<MouseCoordinateX\r\n\t\t\t\t\t\t\tat=\"bottom\"\r\n\t\t\t\t\t\t\torient=\"bottom\"\r\n\t\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\r\n\t\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\t\tat=\"right\"\r\n\t\t\t\t\t\t\torient=\"right\"\r\n\t\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\r\n\t\t\t\t\t\t<BarSeries\r\n\t\t\t\t\t\t\tyAccessor={d => d.heik.bearPower}\r\n\t\t\t\t\t\t\tbaseAt={(yScale) => yScale(0)}\r\n\t\t\t\t\t\t\tfill={d => d.side === 'buy' ? '#800080' : d.side === 'sell' ? '#FFA500' : d.side === 'hold' ? '#00FF00' : '#FF0000'} />\r\n\t\t\t\t\t\t<StraightLine yValue={0} />\r\n\r\n\t\t\t\t\t\t<SingleValueTooltip\r\n\t\t\t\t\t\t\tyAccessor={d => d.heik.bearPower}\r\n\t\t\t\t\t\t\tyLabel=\"HEIK1 - Bear power\"\r\n\t\t\t\t\t\t\tyDisplayFormat={format(\".2f\")}\r\n\t\t\t\t\t\t\tappearance={rsiAppearance}\r\n\t\t\t\t\t\t\t{...SMATooltipProps}\r\n\t\t\t\t\t\t\torigin={[-40, this.props.isHompage ? 40 : 25]}/>\r\n\t\t\t\t\t</Chart>\r\n\t\t\t\t)} */}\r\n\t\t\t\t{/* {this.isIncludeIndicators('HEIK2') && (\r\n\t\t\t\t\t<Chart id={7} \r\n\t\t\t\t\t\t// height={(!this.props.isHomePage || isFullChart) ? 100 : 70}\r\n\t\t\t\t\t\theight={70}\r\n\t\t\t\t\t\tyExtents={[0, d => d.heik2.bearPower]}\r\n\t\t\t\t\t\torigin={(w, h) => [0, h - this.calculateOffset('HEIK2', isFullChart)]}\r\n\t\t\t\t\t\tpadding={{ top: 40, bottom: 10 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" stroke=\"white\" tickStroke=\"white\" />\r\n\t\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" stroke=\"white\" tickStroke=\"white\" ticks={4} tickFormat={format(\".2f\")}/>\r\n\t\t\t\t\t\t<MouseCoordinateX\r\n\t\t\t\t\t\t\tat=\"bottom\"\r\n\t\t\t\t\t\t\torient=\"bottom\"\r\n\t\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\r\n\t\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\t\tat=\"right\"\r\n\t\t\t\t\t\t\torient=\"right\"\r\n\t\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\r\n\t\t\t\t\t\t<BarSeries\r\n\t\t\t\t\t\t\t// yAccessor={d => { console.log(d); return elder.accessor()(d) && elder.accessor()(d).bearPower}}\r\n\t\t\t\t\t\t\tyAccessor={d => d.heik2.bearPower}\r\n\t\t\t\t\t\t\tbaseAt={(yScale) => yScale(0)}\r\n\t\t\t\t\t\t\tfill={d => d.side === 'buy' ? '#800080' : d.side === 'sell' ? '#FFA500' : d.side === 'hold' ? '#00FF00' : '#FF0000'} />\r\n\t\t\t\t\t\t<StraightLine yValue={0} />\r\n\r\n\t\t\t\t\t\t<SingleValueTooltip\r\n\t\t\t\t\t\t\tyAccessor={d => d.heik2.bearPower}\r\n\t\t\t\t\t\t\tyLabel=\"HEIK2 - Bear power\"\r\n\t\t\t\t\t\t\tyDisplayFormat={format(\".2f\")}\r\n\t\t\t\t\t\t\tappearance={rsiAppearance}\r\n\t\t\t\t\t\t\t{...SMATooltipProps}\r\n\t\t\t\t\t\t\torigin={[-40, this.props.isHompage ? 40 : 25]}/>\r\n\t\t\t\t\t</Chart>\r\n\t\t\t\t)} */}\r\n\t\t\t\t<CrossHairCursor />\r\n\t\t\t\t<DrawingObjectSelector\r\n\t\t\t\t\tenabled={!this.state.enableInteractiveObject}\r\n\t\t\t\t\tgetInteractiveNodes={this.getInteractiveNodes}\r\n\t\t\t\t\tdrawingObjectMap={{\r\n\t\t\t\t\t\tEquidistantChannel: \"channels\"\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonSelect={this.handleSelection}\r\n\t\t\t\t/>\r\n\t\t\t{(!this.props.isHomePage || isFullChart) && \r\n\t\t\t\t<g>\r\n\t\t\t\t\t<rect\r\n\t\t\t\t\t\tclassName={this.props.classes.CandleChart}\r\n\t\t\t\t\t\tx={this.state.x - 100}\r\n\t\t\t\t\t\ty={this.state.y - 50}\r\n\t\t\t\t\t\twidth=\"200\"\r\n\t\t\t\t\t\theight=\"50\"\r\n\t\t\t\t\t\tstroke=\"#3D4977\"\r\n\t\t\t\t\t\tfill=\"#3D4977\"\r\n\t\t\t\t\t\trx=\"2\"\r\n\t\t\t\t\t\try=\"2\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ToolTipText x={this.state.x} y={this.state.y}>\r\n\t\t\t\t\t\t<tspan\r\n\t\t\t\t\t\tclassName={this.props.classes.CandleChart_type_date}\r\n\t\t\t\t\t\tx={this.state.x}\r\n\t\t\t\t\t\ttextAnchor=\"middle\"\r\n\t\t\t\t\t\tdy=\"-1em\"\r\n\t\t\t\t\t\tfill={\"#fff\"}\r\n\t\t\t\t\t\tonClick={this.hideTextLabel.bind(this)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t{this.state.dateText}\r\n\t\t\t\t\t\t{this.state.status}\r\n\t\t\t\t\t\t</tspan>\r\n\t\t\t\t\t\t<tspan\r\n\t\t\t\t\t\tclassName={this.props.classes.CandleChart_type_value}\r\n\t\t\t\t\t\tx={this.state.x}\r\n\t\t\t\t\t\ttextAnchor=\"middle\"\r\n\t\t\t\t\t\tkey=\"value\"\r\n\t\t\t\t\t\tdy=\"-1em\"\r\n\t\t\t\t\t\tfill={\"#fff\"}\r\n\t\t\t\t\t\tonClick={this.hideTextLabel.bind(this)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\tPrice: {this.state.valueText}\r\n\t\t\t\t\t\t</tspan>\r\n\t\t\t\t\t</ToolTipText>\r\n\t\t\t\t\t</g>\r\n\t\t\t\t}\r\n\t\t\t</ChartCanvas>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nCandleStickChartWithEquidistantChannel.propTypes = {\r\n\tdata: PropTypes.array.isRequired,\r\n\twidth: PropTypes.number.isRequired,\r\n\tratio: PropTypes.number.isRequired,\r\n\ttype: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired\r\n};\r\n  \r\nCandleStickChartWithEquidistantChannel.defaultProps = {\r\n\ttype: \"svg\",\r\n};\r\n\r\nCandleStickChartWithEquidistantChannel = fitWidth(CandleStickChartWithEquidistantChannel);\r\n\r\n\r\n  \r\nexport default withStyles({\r\n\tCandleChart_type_date: {\r\n\t  fontSize: \"12px\",\r\n\t  fill: \"#AEC6EE\"\r\n\t},\r\n\tCandleChart: {\r\n\t  borderRadius: \"2px\"\r\n\t},\r\n\tCandleChart_type_value: {\r\n\t  fontSize: \"16px\",\r\n\t  fontWeight: 500\r\n\t},\r\n\tdeal_green_shadowed: {\r\n\t  textShadow: \"0 0 3px yellowgreen\"\r\n\t},\r\n\tdeal_red_shadowed: {\r\n\t  textShadow: \"0 0 3px fuchsia\"\r\n\t}\r\n})(fitWidth(CandleStickChartWithEquidistantChannel));\r\n  ","import React from 'react'\r\nimport Chart from 'react-apexcharts'\r\nimport moment from \"moment\";\r\n\r\nexport class MultiLineChart extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      series: this.getSeries(),\r\n      options: {\r\n        chart: {\r\n          height: 350,\r\n          type: 'line',\r\n          zoom: {\r\n            enabled: false\r\n          }\r\n        },\r\n        dataLabels: {\r\n          enabled: false\r\n        },\r\n        stroke: {\r\n          show: true,\r\n          curve: 'smooth',\r\n          lineCap: 'butt',\r\n          colors: undefined,\r\n          width: 2,\r\n          dashArray: 0,  \r\n        },\r\n        title: {\r\n          text: props.isPercent ? 'Percent Gain/Lost' : 'Efficiency',\r\n          align: 'left',\r\n          style: {\r\n            fontSize:  '18px',\r\n            fontWeight:  'bold',\r\n            color: '#FFFFFF'\r\n          },\r\n        },\r\n        grid: {\r\n          show: false\r\n        },\r\n        xaxis: {\r\n          categories: this.getCategories(),\r\n          labels: {\r\n            show: true,\r\n            style: {\r\n                colors: '#FFFFFF',\r\n            },\r\n            formatter: (val, opt) =>\r\n              moment.utc(val).format(\"MM/DD hh:mm\")\r\n          },\r\n          datetimeUTC: true,\r\n        },\r\n        yaxis: {\r\n          labels: {\r\n            show: true,\r\n            style: {\r\n                colors: '#FFFFFF',\r\n            },\r\n            formatter: (value) => value.toFixed(2),\r\n          },\r\n          axisBorder: {\r\n            show: true,\r\n          },\r\n          min: this.getMinValue(),\r\n          max: this.getMaxValue(),\r\n        },\r\n        legend: {\r\n          show: true,\r\n          labels: {\r\n            colors: ['#FFFFFF']\r\n          },\r\n          position: 'top'\r\n        }\r\n      },\r\n    };\r\n  }\r\n\r\n  getSeries() {\r\n    const series = []\r\n    this.props.chartData.map((data) => {\r\n      for (const property in data) {\r\n        series.push({\r\n          name: property,\r\n          data: data[property].map((o) => this.props.isPercent ? o.percent : o.efficiency)\r\n        })\r\n      }\r\n      return null\r\n    })\r\n    return series\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.chartData !== this.props.chartData) {\r\n      this.setState({\r\n        series: this.getSeries(),\r\n        options: {\r\n          xaxis: {\r\n            categories: this.getCategories(),\r\n            labels: {\r\n              show: true,\r\n              style: {\r\n                  colors: '#FFFFFF',\r\n              },\r\n              formatter: (val) =>\r\n                moment.utc(val).format(\"MM/DD hh:mm\")\r\n            },\r\n            datetimeUTC: true,\r\n          },\r\n          yaxis: {\r\n            labels: {\r\n              show: true,\r\n              style: {\r\n                  colors: '#FFFFFF',\r\n              },\r\n              formatter: (value) => value,\r\n              min: this.getMinValue(),\r\n              max: this.getMaxValue(),\r\n            },\r\n            axisBorder: {\r\n              show: true,\r\n            },\r\n          }\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  getMinValue() {\r\n    let series = [];\r\n    this.props.chartData.map((data) => {\r\n      for (const property in data) {\r\n        const rows = data[property].map(o => this.props.isPercent ? o.percent : o.efficiency)\r\n        series.push(Math.min(...rows))\r\n      }\r\n\r\n      return null\r\n    })\r\n    const min = Math.min(...series)\r\n    return min;\r\n  }\r\n  \r\n  getMaxValue() {\r\n    let series = [];\r\n    this.props.chartData.map((data) => {\r\n      for (const property in data) {\r\n        const rows = data[property].map(o => this.props.isPercent ? o.percent : o.efficiency)\r\n        series.push(Math.max(...rows))\r\n      }\r\n      return null\r\n    })\r\n    const max = Math.max(...series)\r\n    return max;\r\n  }\r\n\r\n  getCategories() {\r\n    const categories = this.props.chartData.map((data) => {\r\n      for (const property in data) {\r\n        return data[property].map((o) => o.date)\r\n      }\r\n      return []\r\n    })\r\n\r\n    return categories[0]\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <div id=\"chart\">\r\n        <Chart options={this.state.options} series={this.state.series} type=\"line\" height={350} />\r\n      </div>\r\n    )\r\n  }\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport ReactApexChart from \"react-apexcharts\";\r\n\r\nconst getWiningData = (chartData, isAverage) => {\r\n  return chartData.map((d) => isAverage ? d.avgWinning / 100 : d.winning )\r\n}\r\n\r\nconst getLosingData = (chartData, isAverage) => {\r\n  return chartData.map((d) => isAverage ? d.avgLosing / 100 : d.losing)\r\n}\r\n\r\nconst getSymbols = (chartData) => {\r\n  return chartData.map((d) => d.symbol)\r\n}\r\n\r\nconst optionCreator = (chartData, isAverage) => {\r\n  return {\r\n    chart: {\r\n      type: \"bar\",\r\n      width: \"100%\",\r\n      toolbar: {\r\n        show: false\r\n      },\r\n      events: {\r\n        click: function (event, chartContext, config) {\r\n          console.log(\"clicked\");\r\n        }\r\n      }\r\n    },\r\n    states: {\r\n      normal: {\r\n        filter: {\r\n          type: \"none\"\r\n        }\r\n      },\r\n      active: {\r\n        filter: {\r\n          type: \"darken\",\r\n          value: 0.35\r\n        }\r\n      }\r\n    },\r\n    colors: [\"#00ff00\", `rgba(255,0,0, ${1 ? 0.5 : 1})`],\r\n    title: {\r\n      text: isAverage ? \"Winning & Losing Avg Percent\" : \"Wining & Losing Trades\",\r\n      align: \"left\",\r\n      offsetX: 8,\r\n      offsetY: -2,\r\n      style: {\r\n        fontSize: \"16px\",\r\n        color: '#FFFFFF'\r\n      }\r\n    },\r\n    plotOptions: {\r\n      bar: {\r\n        endingShape: \"rounded\",\r\n        columnWidth: \"75%\",\r\n        barHeight: \"100%\",\r\n        dataLabels: {\r\n          position: \"top\"\r\n        }\r\n      }\r\n    },\r\n    dataLabels: {\r\n      enabled: true,\r\n      offsetY: -20,\r\n      style: {\r\n        fontSize: \"16px\",\r\n        colors: [\"#FFFFFF\", \"#FFFFFF\"]\r\n      },\r\n      formatter: (value, opts) => {\r\n        return isAverage ? value.toFixed(5) : value | 0 \r\n      },\r\n    },\r\n    stroke: {\r\n      show: true,\r\n      width: 1,\r\n      colors: [\"#fff\"]\r\n    },\r\n    xaxis: {\r\n      categories: getSymbols(chartData),\r\n      labels: {\r\n        show: true,\r\n        style: {\r\n            colors: '#FFFFFF',\r\n        },\r\n      },\r\n    },\r\n    grid: {\r\n      show: false\r\n    },\r\n    yaxis: {\r\n      labels: {\r\n        show: true,\r\n        style: {\r\n            colors: '#FFFFFF',\r\n        },\r\n        formatter: (value) => { return isAverage ? value.toFixed(5) : value | 0 },\r\n      },\r\n      axisBorder: {\r\n        show: true,\r\n      },\r\n    },\r\n    tooltip: {\r\n      enabled: true\r\n    },\r\n    legend: {\r\n      position: \"top\",\r\n      horizontalAlign: \"right\",\r\n      offsetY: -50,\r\n      fontSize: \"14px\",\r\n      labels: {\r\n        colors: \"#FFFFFF\"\r\n      },\r\n      markers: {\r\n        width: 16,\r\n        height: 16,\r\n        radius: 4\r\n      },\r\n      itemMargin: {\r\n        horizontal: 5,\r\n        vertical: 5\r\n      },\r\n      onItemHover: {\r\n        highlightDataSeries: true\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nexport default function GroupApexBar(props) {\r\n  const { data: chartData, isAverage } = props;\r\n  const [options, setOptions] = useState(optionCreator(chartData, isAverage));\r\n  const [series, setSeries] = useState([\r\n    {\r\n      data: getWiningData(chartData, isAverage)\r\n    },\r\n    {\r\n      data: getLosingData(chartData, isAverage)\r\n    }\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    setOptions(optionCreator(chartData, isAverage))\r\n    setSeries([\r\n      {\r\n        name: isAverage ? 'Winning Average' : 'Winning',\r\n        data: getWiningData(chartData, isAverage)\r\n      },\r\n      {\r\n        name: isAverage ? 'Losing Average' : 'Losing',\r\n        data: getLosingData(chartData, isAverage)\r\n      }\r\n    ])\r\n  }, [chartData, isAverage])\r\n\r\n  return (\r\n    <div id=\"chart\">\r\n      <ReactApexChart\r\n        options={options}\r\n        series={series}\r\n        type=\"bar\"\r\n        width={'100%'}\r\n        height={400}\r\n      />\r\n    </div>\r\n  );\r\n}","import { MultiLineChart } from './MultiLineChart'\r\nimport GroupApexBar from './GroupBarChart'\r\n\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { TypeChooser } from \"react-stockcharts/lib/helper\";\r\nimport { fitWidth } from \"react-stockcharts/lib/helper\";\r\nclass PerformanceChart extends React.Component {\r\n\trender() {\r\n\r\n\t\tconst { data: mainData } = this.props;\r\n\r\n\t\tif (mainData == null) {\r\n\t\t\treturn <div>Loading...</div>\r\n\t\t} else {\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<MultiLineChart chartData={mainData.percentEfficiency} isPercent={true}/>\r\n\t\t\t\t<TypeChooser>\r\n\t\t\t\t\t{type => <GroupApexBar type={type} data={mainData.winningLosing} isAverage={false}/>}\r\n\t\t\t\t</TypeChooser>\r\n\t\t\t\t<TypeChooser>\r\n\t\t\t\t\t{type => <GroupApexBar type={type} data={mainData.winningLosingAvg} isAverage={true}/>}\r\n\t\t\t\t</TypeChooser>\r\n\t\t\t\t<MultiLineChart chartData={mainData.percentEfficiency} isPercent={false}/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nPerformanceChart.propTypes = {\r\n\tdata: PropTypes.array.isRequired,\r\n\twidth: PropTypes.number.isRequired,\r\n\tratio: PropTypes.number.isRequired,\r\n\ttype: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired,\r\n};\r\n\r\nPerformanceChart.defaultProps = {\r\n\ttype: \"svg\",\r\n};\r\nPerformanceChart = fitWidth(PerformanceChart);\r\n\r\nexport default PerformanceChart;","import React, { useState, useEffect } from \"react\";\r\nimport Chart from '../trades-chart/TradesChart';\r\nimport PerformanceChart from '../performance-chart/PerformanceChart'\r\nimport { TypeChooser } from \"react-stockcharts/lib/helper\";\r\n\r\nconst StockChart = (props) => {\r\n  const { \r\n    chartColumn,\r\n    viewType,\r\n    symbol,\r\n    strategy,\r\n    isHomePage,\r\n    indicators,\r\n    multiSymbol,\r\n    microStrategy,\r\n    selectedInstance,\r\n    selectedTradeDB,\r\n    selectedSymbolType,\r\n    chartPeriod,\r\n    startDate,\r\n    endDate,\r\n    extendMarketTime\r\n  } = props;\r\n\r\n  const [dbname, setDbname] = useState('')\r\n\tconst [chartData, setChartData] = useState(null)\r\n\t\r\n  useEffect(() => {\r\n    if (selectedInstance === 'live_trading') {\r\n      setChartData(null)    \r\n    }\r\n  }, [selectedInstance])\r\n\r\n  useEffect(() => {\r\n    const initDbNamebySelectedTradeDB = () => {\r\n      if (selectedTradeDB === 'heikfilter-2mins-trades') {\r\n        setDbname('backtest_2_minute');\r\n      } else if(selectedTradeDB === 'heikfilter-12mins-trades') {\r\n        setDbname('backtest_12_minute');\r\n      } else if(selectedTradeDB === 'heikfilter-1hour-trades') {\r\n        setDbname('backtest_1_hour');\r\n      } else if(selectedTradeDB === 'heikfilter-4hours-trades') {\r\n        setDbname('backtest_4_hour');\r\n      } else if(selectedTradeDB === 'heikfilter-12hours-trades') {\r\n        setDbname('backtest_12_hour');\r\n      } else if(selectedTradeDB === 'heikfilter-1day-trades') {\r\n        setDbname('backtest_1_day');\r\n      }\r\n    }\r\n    initDbNamebySelectedTradeDB();\r\n  }, [selectedTradeDB])\r\n\r\n  useEffect(() => {\r\n    setChartData(null)      \r\n  }, [viewType])\r\n\r\n  useEffect(() => {\r\n    const get_data = (symbol) => {\r\n      if (viewType !== 'performance') {\r\n        if (!dbname) {\r\n          return;\r\n        }\r\n        const requestOptions = {\r\n          method: 'POST',\r\n          headers: {'Content-Type': 'application/json'},\r\n          body: JSON.stringify({\r\n            'db_name': dbname,\r\n            'symbol': symbol,\r\n            'symbol_type': selectedSymbolType,\r\n            'macro': strategy.value,\r\n            'micro': (selectedInstance !== 'live_trading') ? microStrategy : '',\r\n          })\r\n        };\r\n        setChartData(null)\r\n        let apiName = '/api/get_data';\r\n        if (extendMarketTime === 'extend_markettime') {\r\n          apiName = '/api/get_data_extended';\r\n        }\r\n        try {\r\n          fetch(process.env.REACT_APP_BACKEND_URL + apiName, requestOptions)\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            data['chart_data']['columns'] = [\"date\", \"open\", \"high\", \"low\", \"close\", \"volume\", \"split\", \"dividend\", \"absoluteChange\", \"percentChange\"]\r\n            data['chart_data'].map((x) => {\r\n              let converDate = new Date(x.date)\r\n              x.date = converDate\r\n              return null\r\n            })\r\n            setChartData(data['chart_data'])\r\n          })\r\n        } catch (error) {\r\n          console.log(error)    \r\n        }\r\n      } else {\r\n        const symbols = multiSymbol.map((symbol) => symbol.value);\r\n        if (!symbols.length | !microStrategy) {\r\n          return;\r\n        }\r\n        const requestOptions = {\r\n          method: 'POST',\r\n          headers: {'Content-Type': 'application/json'},\r\n          body: JSON.stringify({\r\n            'symbols': symbols,\r\n            'symbol_type': selectedSymbolType,\r\n            \"macro\": strategy.value,\r\n            \"micro\": microStrategy,\r\n            'start_date': startDate,\r\n            'end_date': endDate,\r\n          })\r\n        };\r\n        try {\r\n          fetch(process.env.REACT_APP_BACKEND_URL+'/api/get_backtesting_result', requestOptions)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n              setChartData(data['chart_data'])\r\n            })\r\n        } catch (error) {\r\n          console.log(error)\r\n        }\r\n      }\r\n    }\r\n      \r\n    if (symbol || multiSymbol.length) {\r\n      get_data(symbol)\r\n    }\r\n  }, [extendMarketTime, selectedInstance, dbname, viewType, symbol, multiSymbol, microStrategy, startDate, endDate, strategy.value])\r\n    \r\n  const displayPerformanceChart = (type) => {\r\n    return (\r\n      <PerformanceChart type={type} data={chartData} multiSymbol={multiSymbol.map((symbol) => symbol.value)}/>\r\n    )\r\n  }\r\n\r\n  const displayChart = () => {\r\n    return (\r\n      <TypeChooser >\r\n        {type => {\r\n          return (\r\n            (isHomePage | (viewType !== 'performance'))\r\n            && (<Chart\r\n                type={type}\r\n                data={chartData}\r\n                symbol={symbol}\r\n                strategy={strategy}\r\n                isHomePage={isHomePage}\r\n                indicators={indicators}\r\n                chartColumn={chartColumn}\r\n                microStrategy={microStrategy}\r\n                selectedInstance={selectedInstance}\r\n                extendMarketTime={extendMarketTime}\r\n            />)\r\n          )\r\n        }}\r\n      </TypeChooser>\r\n    )\r\n  }\r\n\r\n  return (\r\n  <>\r\n    {\r\n      chartData == null ? <div>Loading...</div> :\r\n      <>\r\n        <div className=\"select-wrape\">\r\n          <div>\r\n            <strong>{chartPeriod} [NASDAQ]</strong>\r\n          </div>\r\n        </div>\r\n        {(chartColumn === 1) && displayChart()}\r\n        {(chartColumn === 2) && displayChart()}\r\n        {(chartColumn === 4) && displayChart()}\r\n        {(chartColumn === 6) && displayChart()}\r\n        {(viewType === \"performance\") && displayPerformanceChart()}\r\n      </>\r\n  }\r\n  </>)\r\n}\r\n\r\nexport default StockChart","import React, { createContext, useContext } from \"react\";\r\nconst authContext = createContext();\r\n\r\nconst authUser = {\r\n  isAuthenticated: localStorage.getItem(\"auth-token\") ? true : false,\r\n  async signin(email, password) {\r\n    let formData = {\r\n      username: email,\r\n      password: password\r\n    }\r\n    return await fetch(process.env.REACT_APP_BACKEND_URL + '/signin/', {\r\n      method: \"POST\",\r\n      body: JSON.stringify(formData)\r\n    })\r\n      .then(response => {\r\n          return response.json();\r\n      })\r\n      .then(res => {\r\n        if (!res.user_id) {\r\n          throw new Error('SignIn failed');\r\n        }\r\n        return {\r\n          success: true,\r\n          user_id: res.user_id\r\n        }\r\n      })\r\n      .catch(err => {\r\n        return {\r\n          success: false,\r\n          error: \"User Name or Password is wrong\"\r\n        }\r\n      })\r\n  },\r\n\r\n  async signup(username, email, password1, password2, pathname) {\r\n    let formData = {\r\n      username: username,\r\n      email: email,\r\n      first_name: \"\",\r\n      last_name: \"\",\r\n      password1: password1,\r\n      password2: password2,\r\n      signup_path: process.env.REACT_APP_BACKEND_URL + pathname\r\n    }\r\n    \r\n    return await fetch(process.env.REACT_APP_BACKEND_URL + '/signup/', {\r\n      method: \"POST\",\r\n      body: JSON.stringify(formData)\r\n    })\r\n      .then(response => {\r\n          return response.json();\r\n      })\r\n      .then(res => {\r\n        if (res.success) {\r\n          return {\r\n            success: true\r\n          }\r\n        } else {\r\n          throw new Error(res.error);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        return {\r\n          success: false,\r\n          error: 'Sign up failed'\r\n        }\r\n      })\r\n  },\r\n  async verify(userId, code) {\r\n    let formData = {\r\n      user_id: userId,\r\n      num: code\r\n    }\r\n    const res = await fetch(process.env.REACT_APP_BACKEND_URL + '/verify/', {\r\n      method: \"POST\",\r\n      body: JSON.stringify(formData)\r\n    })\r\n      .then(response => {\r\n          return response.json();\r\n      })\r\n      .then(res => {\r\n        if (res.error) {\r\n          throw new Error(res.error);\r\n        }\r\n        return res\r\n      })\r\n      .catch(err => {\r\n        return { \r\n          verify: false,\r\n          error: 'verify failed'\r\n        }\r\n      })\r\n    authUser.isAuthenticated = true;\r\n    return res\r\n  },\r\n  signout() {\r\n    authUser.isAuthenticated = false;\r\n    localStorage.removeItem(\"auth-token\")\r\n    localStorage.removeItem(\"user-info\")\r\n  },\r\n};\r\n\r\nexport function useAuth() {\r\n  return useContext(authContext);\r\n}  \r\n\r\nexport default function ProvideAuth({ children }) {\r\n  const auth = useProvideAuth();\r\n  return (\r\n    <authContext.Provider value={auth}>\r\n      {children}\r\n    </authContext.Provider>\r\n  );\r\n}\r\n  \r\nfunction useProvideAuth() {\r\n  const verify = async ( userId, num ) => {\r\n    authUser.signin(userId, num)\r\n  };\r\n\r\n  const signin = async ( email, password ) => {\r\n    authUser.signin(email, password)\r\n  };\r\n\r\n  const signout = () => {\r\n    authUser.signout()\r\n  };\r\n  \r\n  return {\r\n    authUser,\r\n    verify,\r\n    signin,\r\n    signout,\r\n  };\r\n}","import React from \"react\";\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\nimport {\r\n  Button\r\n} from \"reactstrap\";\r\n// javascript plugin used to create scrollbars on windows\r\nimport PerfectScrollbar from \"perfect-scrollbar\";\r\n\r\nimport Sidebar from \"components/Sidebar/Sidebar.js\";\r\n\r\nimport { routes } from \"routes.js\";\r\n\r\nimport { BackgroundColorContext } from \"contexts/BackgroundColorContext\";\r\nimport HeiknStockChart from \"components/HeiknStockChart\"\r\nimport HeiknStockChartItem from \"components/ItemChart\"\r\n\r\nvar ps;\r\n\r\nfunction HomePage() {\r\n  const history = useHistory();\r\n  const initInstance = history.location.state ? history.location.state.initInstance : null;\r\n  const [isHomePage, setIsHomePage] = React.useState(true);\r\n  const [isShowSidebar, setShowSidebar] = React.useState(false);\r\n  const [selectedInstance, setSelectedInstance] = React.useState(\r\n    initInstance ? initInstance : 'forward_test'\r\n  );\r\n  const location = useLocation();\r\n  const mainPanelRef = React.useRef(null);\r\n  \r\n  React.useEffect(() => {\r\n    if (navigator.platform.indexOf(\"Win\") > -1) {\r\n      document.documentElement.className += \" perfect-scrollbar-on\";\r\n      document.documentElement.classList.remove(\"perfect-scrollbar-off\");\r\n      ps = new PerfectScrollbar(mainPanelRef.current, {\r\n        suppressScrollX: true,\r\n      });\r\n      let tables = document.querySelectorAll(\".table-responsive\");\r\n      for (let i = 0; i < tables.length; i++) {\r\n        ps = new PerfectScrollbar(tables[i]);\r\n      }\r\n    }\r\n\r\n    // Specify how to clean up after this effect:\r\n    return function cleanup() {\r\n      if (navigator.platform.indexOf(\"Win\") > -1) {\r\n        ps.destroy();\r\n        document.documentElement.classList.add(\"perfect-scrollbar-off\");\r\n        document.documentElement.classList.remove(\"perfect-scrollbar-on\");\r\n      }\r\n    };\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    if (navigator.platform.indexOf(\"Win\") > -1) {\r\n      let tables = document.querySelectorAll(\".table-responsive\");\r\n      for (let i = 0; i < tables.length; i++) {\r\n        ps = new PerfectScrollbar(tables[i]);\r\n      }\r\n    }\r\n    document.documentElement.scrollTop = 0;\r\n    document.scrollingElement.scrollTop = 0;\r\n    if (mainPanelRef.current) {\r\n      mainPanelRef.current.scrollTop = 0;\r\n    }\r\n  }, [location]);\r\n  \r\n  const handleSidebarChange = () => {\r\n    setShowSidebar(!isShowSidebar);\r\n  };\r\n\r\n  const handleInstanceChange = (instance) => {\r\n    setSelectedInstance(instance)\r\n  }\r\n\r\n  const handleChartRedirect = (flag) => {\r\n    setIsHomePage(flag);\r\n  }\r\n  \r\n  return (\r\n    <BackgroundColorContext.Consumer>\r\n      {({ color }) => (\r\n        <React.Fragment>\r\n          <div className=\"wrapper hunter-wrapper\">\r\n          {!isShowSidebar && (\r\n            <Button\r\n              className ={\"show-sidebar-toggle-area show-sidebar-icon\"}\r\n              onClick={handleSidebarChange}\r\n            >\r\n              <i className=\"tim-icons icon-align-left-2\"/>\r\n            </Button>\r\n          )}\r\n          {isShowSidebar && (\r\n              <Sidebar\r\n                subInstance={'view'}\r\n                isAdminPage={false}\r\n                routes={routes}\r\n                selectedInstance={selectedInstance}\r\n                handleSidebarChange={handleSidebarChange}\r\n                handleInstanceChange={handleInstanceChange}\r\n              />\r\n            )}\r\n            {isHomePage\r\n             ? (\r\n              <div className={`main-panel ${!isShowSidebar ? 'full-width' : ''}`} ref={mainPanelRef} data={color}>\r\n                <HeiknStockChart selectedInstance={selectedInstance} handleChartRedirect={handleChartRedirect}/>\r\n              </div>\r\n              )\r\n              : (\r\n                <div className={`main-panel ${!isShowSidebar ? 'full-width' : ''}`} ref={mainPanelRef} data={color}>\r\n                 <HeiknStockChartItem selectedInstance={selectedInstance} handleChartRedirect={handleChartRedirect}/>\r\n                </div>\r\n              )\r\n            }\r\n          </div>\r\n        </React.Fragment>\r\n      )}\r\n    </BackgroundColorContext.Consumer>\r\n  );\r\n}\r\n\r\nexport default HomePage;","import React, { useCallback, useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Select from 'react-select'\r\nimport \"react-datetime/css/react-datetime.css\";\r\nimport StockChart from \"./stock-chart/StockChart\"\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  Collapse,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  UncontrolledDropdown,\r\n  NavLink,\r\n  Nav,\r\n} from \"reactstrap\";\r\nimport { useAuth } from 'contexts/authContext';\r\nimport disableScroll from 'disable-scroll';\r\n\r\nconst HeiknStockChart = (props) => {\r\n\r\n  const auth = useAuth();\r\n  const { selectedInstance, handleChartRedirect } = props\r\n  const history = useHistory();\r\n  const [symbol, setSymbol] = useState({ value: 'MSFT', label: 'MSFT' });\r\n  const [indicators, setIndicators] = useState([]);\r\n  const [isShowMicro, setIsShowMicro] = useState(true);\r\n  const [symbolList, setSymbolList] = useState([])\r\n  const [isGetSymbolList] = useState(false)\r\n  const [collapseOpen,] = React.useState(false)\r\n  const [chartColumn, setChartColumn] = useState({ value: 6, label: '6' })\r\n  const [selectedViewType, setSelectedViewType] = useState({ value: 'charting', label: 'Charting' });\r\n  const [microStrategy, setMicroStrategy] = useState({ value: '2m', label: '2m' });\r\n  const [strategy, setStrategy] = useState({ value: 'heikfilter', label: 'heikfilter' });\r\n  const [strategyList, setStrategyList] = useState([]);\r\n  const [user] = useState(JSON.parse(localStorage.getItem('user-info')));\r\n  const [extendMarketTime, setExtendMarketTime] = useState(\r\n    {\r\n      value: 'markettime', label: 'market time',\r\n    }\r\n  );\r\n\r\n  const [selectedSymbolType, setSelectedSymbolType] = useState({\r\n    value: 'stock',\r\n    label: 'stock'\r\n  })\r\n\r\n  const optionsSymbolType = [\r\n    {\r\n      value: 'stock', label: 'stock',\r\n    },\r\n    {\r\n      value: 'crypto', label: 'crypto',\r\n    }\r\n  ]\r\n  \r\n  const [optionsViewTypes, setOptionsViewTypes] = useState([\r\n    { value: 'charting', label: 'Charting' },\r\n    { value: 'performance', label: 'Performance' },\r\n  ])\r\n\r\n  const [optionsMicroStrategy, setOptionsMicroStrategy] = useState([])\r\n  \r\n  const [optionsStratgy, setOptionsStrategy] = useState([])\r\n\r\n  const [optionsIndicator, setOptionsIndicator] = useState([\r\n    {\r\n      value: 'VOLUME', label: 'VOLUME',\r\n    },\r\n    {\r\n      value: 'RSI', label: 'RSI',\r\n    },\r\n    {\r\n      value: 'HEIK1', label: 'HEIK1',\r\n    },\r\n    {\r\n      value: 'HEIK2', label: 'HEIK2',\r\n    }\r\n  ]);\r\n  \r\n  const [optionsMarketTime] = useState([\r\n    {\r\n      value: 'markettime', label: 'market time',\r\n    },\r\n    {\r\n      value: 'extend_markettime', label: 'extend market time',\r\n    }\r\n  ]);\r\n\r\n  const optionsColumn = [\r\n    {\r\n      value: 1, label: '1',\r\n    },\r\n    {\r\n      value: 2, label: '2',\r\n    },\r\n    {\r\n      value: 4, label: '4',\r\n    },\r\n    {\r\n      value: 6, label: '6',\r\n    }\r\n  ]\r\n\r\n  const getStrategyList = useCallback(\r\n    () => {\r\n      try {\r\n        fetch(process.env.REACT_APP_BACKEND_URL + \"/api/get_strategy_list\")\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            setStrategyList(data.result);\r\n            const strategyOptions = data.result.map((o => {\r\n              return {\r\n                value: o.macro,\r\n                label: o.macro,\r\n              }\r\n            }))\r\n            // setStrategy({\r\n            //   value: 'heikfilter',\r\n            //   label: 'heikfilter'\r\n            // });\r\n            setOptionsStrategy(strategyOptions);\r\n            if (data.result.length) {\r\n              data.result.forEach((item) => {\r\n                if (item.macro === 'heikfilter') {\r\n                  const microStrategyOptions = item.micro.map(o => {\r\n                    return {\r\n                      value: o,\r\n                      label: o,\r\n                    }\r\n                  })\r\n                  setOptionsMicroStrategy( microStrategyOptions )\r\n                  // setMicroStrategy(microStrategyOptions[0])\r\n  \r\n                  const symbolOptions = item.symbols.map(o => {\r\n                    return {\r\n                      value: o,\r\n                      label: o,\r\n                    }\r\n                  })\r\n                  setSymbolList(symbolOptions)\r\n                  // setSymbol(symbolOptions[0])\r\n                }\r\n              })\r\n            }\r\n          })   \r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    },\r\n    [],\r\n  )\r\n\r\n  const get_tables = useCallback(\r\n    (strategy) => {\r\n      const requestOptions = {\r\n        method: 'POST',\r\n        headers: {'Content-Type': 'application/json'},\r\n        body: JSON.stringify({\r\n          'strategy': strategy\r\n        })\r\n      };\r\n      \r\n      fetch(process.env.REACT_APP_BACKEND_URL + \"/api/tables\", requestOptions)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          let temp_data = []\r\n          data.tables.map((x) => {\r\n            temp_data.push({\r\n              value: x,\r\n              label: x\r\n            });\r\n            return null\r\n          })\r\n          setSymbolList(temp_data)\r\n          // setSymbol(temp_data[0])\r\n        })\r\n    },\r\n    [],\r\n  )\r\n\r\n  useEffect(() => {\r\n    disableScroll.on();\r\n    if (user.is_admin || user?.role.length) {\r\n      if(!isGetSymbolList) {\r\n        getStrategyList();\r\n      }  \r\n    }\r\n    return () => {\r\n      disableScroll.off();\r\n    }\r\n  }, [getStrategyList, isGetSymbolList, user])\r\n  \r\n  useEffect(() => {\r\n    const handleInstanceChange = (value) => {\r\n      if (value === 'live_trading') {\r\n        setIsShowMicro(false);\r\n        setStrategy({ value: 'no_strategy', label: 'No Strategy' });\r\n        setOptionsStrategy([\r\n          { value: 'no_strategy', label: 'No Srategy' },\r\n        ])\r\n        return\r\n      } else if (value === 'forward_test') {\r\n        setStrategy({ value: 'heikfilter', label: 'heikfilter' });\r\n        setSymbol({ value: 'MSFT', label: 'MSFT' });\r\n      }\r\n      getStrategyList()\r\n      setIsShowMicro(true);\r\n    } \r\n    if (!user.is_admin && !user?.role.length) {\r\n      return;\r\n    }\r\n    handleInstanceChange(selectedInstance)\r\n    if(selectedInstance === 'live_trading') {\r\n      get_tables('no_strategy');    \r\n    }\r\n    if (selectedInstance === 'optimization') {\r\n      setOptionsViewTypes([\r\n        { value: 'optimization ', label: 'Optimization' },\r\n      ])\r\n    } else {\r\n      setOptionsViewTypes([\r\n        { value: 'charting', label: 'Charting' },\r\n        { value: 'performance', label: 'Performance' },\r\n      ])\r\n    }\r\n  }, [selectedInstance, getStrategyList, get_tables, user.is_admin, user.role?.length])\r\n\r\n  const handleViewTypeChange = (value) => {\r\n    setSelectedViewType(value)\r\n    if (value.value === 'performance') {\r\n      const locationState = {\r\n        selectedInstance,\r\n        viewType: value,\r\n        initStrategy: strategy,\r\n        initMicroStrategy: { value: '2m', label: '2m' },\r\n        initIndicators: indicators,\r\n        initSymbol: symbol,\r\n      }\r\n      if (value) {\r\n        handleChartRedirect(false)\r\n        history.push({\r\n          state: locationState,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  const handlSymbolChange = (e) => {\r\n    if (e) {\r\n      setSymbol(e)\r\n    }\r\n  }\r\n\r\n  const handleMarketTimeChange = (e) => {\r\n    if (e) {\r\n      setExtendMarketTime(e)\r\n    }\r\n  }\r\n\r\n  const handleStrategy = async (e) => {\r\n    if (e) {\r\n      if (strategyList.length) {\r\n        strategyList.forEach((item) => {\r\n          if (item.macro === e.value) {\r\n            const microStrategyOptions = item.micro.map(o => {\r\n              return {\r\n                value: o,\r\n                label: o,\r\n              }\r\n            })\r\n            setOptionsMicroStrategy( microStrategyOptions )\r\n\r\n            const is_2m = microStrategyOptions.filter((o => o.value === '2m'))\r\n\r\n            if (is_2m.length) {\r\n              setMicroStrategy({\r\n                value: '2m',\r\n                label: '2m'\r\n              })\r\n            } else {\r\n              setMicroStrategy(microStrategyOptions[0])\r\n            }\r\n\r\n            const symbolOptions = item.symbols.map(o => {\r\n              return {\r\n                value: o,\r\n                label: o,\r\n              }\r\n            })\r\n            setSymbolList(symbolOptions)\r\n            // setSymbol(symbolOptions[0])\r\n            setSymbol({value: 'MSFT', label: 'MSFT'})\r\n          }\r\n        })\r\n      }\r\n      setStrategy(e)\r\n    }\r\n  }\r\n  \r\n  const handleMicroStrategyChange = (e) => {\r\n    if (e) {\r\n      setMicroStrategy(e)\r\n    }\r\n  }\r\n  \r\n  const handleIndicatorsChange = (options) => {\r\n    setIndicators(options);\r\n  }\r\n\r\n  const handleChartsColumnChange = (option) => {\r\n    if (option.value === 4 || option.value === 6) {\r\n      setIndicators([])\r\n      setOptionsIndicator([\r\n        {\r\n          value: 'VOLUME', label: 'VOLUME',\r\n        },\r\n        {\r\n          value: 'RSI', label: 'RSI',\r\n        },\r\n        {\r\n          value: 'HEIK1', label: 'HEIK1',\r\n        },\r\n        {\r\n          value: 'HEIK2', label: 'HEIK2',\r\n        }\r\n      ])\r\n    } else {\r\n      setIndicators([])\r\n      setOptionsIndicator([\r\n        {\r\n          value: 'VOLUME', label: 'VOLUME',\r\n        },\r\n        {\r\n          value: 'RSI', label: 'RSI',\r\n        },\r\n        {\r\n          value: 'RSI2', label: 'RSI2',\r\n        },\r\n        {\r\n          value: 'RSI3', label: 'RSI3',\r\n        },\r\n        {\r\n          value: 'HEIK1', label: 'HEIK1',\r\n        },\r\n        {\r\n          value: 'HEIK2', label: 'HEIK2',\r\n        }\r\n      ])\r\n    }\r\n    setChartColumn(option)\r\n  }\r\n\r\n  const calculateHeightStyle = () => {\r\n    if (chartColumn.value === 1 || chartColumn.value === 2) {\r\n      return 'full-height'\r\n    }\r\n    return 'half-height'\r\n  }\r\n\r\n  const calculateGridColumn = () => {\r\n    if (chartColumn.value === 1) {\r\n      return 12\r\n    } else if ((chartColumn.value === 2) || (chartColumn.value === 4)) {\r\n      return 6\r\n    }\r\n    return 4\r\n  }\r\n\r\n  const handleSymbolTypeChange = (e) => {\r\n    setSelectedSymbolType(e)\r\n  }\r\n\r\n  const handleSignout = () => {\r\n    auth.signout()\r\n    history.push('/login')\r\n  }\r\n\r\n  const displayChart = () => {\r\n    return (\r\n      <div className={`row ${calculateHeightStyle()}`}>\r\n        <div className={`col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          {microStrategy && symbol && (\r\n            < StockChart\r\n              selectedSymbolType={selectedSymbolType.value}\r\n              extendMarketTime={extendMarketTime.value}\r\n              selectedInstance={selectedInstance}\r\n              selectedTradeDB='heikfilter-2mins-trades'\r\n              chartPeriod='20D 2min'\r\n              symbol={symbol.value}\r\n              indicators={indicators}\r\n              strategy={strategy}\r\n              isHomePage={true}\r\n              chartColumn={chartColumn.value}\r\n              microStrategy={microStrategy.value}\r\n              startDate={null}\r\n              endDate={null}\r\n            />\r\n          )}\r\n        </div>\r\n        <div className={`col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          {microStrategy && symbol && (\r\n            < StockChart \r\n            extendMarketTime={extendMarketTime.value}\r\n            selectedInstance={selectedInstance}\r\n            selectedTradeDB='heikfilter-12mins-trades'\r\n            chartPeriod='20D 12min'\r\n            symbol={symbol.value}\r\n            indicators={indicators}\r\n            strategy={strategy}\r\n            isHomePage={true}\r\n            chartColumn={chartColumn.value}\r\n            microStrategy={microStrategy.value}\r\n            startDate={null}\r\n            endDate={null}\r\n          />)}\r\n        </div>\r\n        <div className={`col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          {microStrategy && symbol && (\r\n            < StockChart\r\n              extendMarketTime={extendMarketTime.value}\r\n              selectedInstance={selectedInstance}\r\n              selectedTradeDB='heikfilter-1hour-trades'\r\n              chartPeriod='30D 1hour'\r\n              symbol={symbol.value}\r\n              indicators={indicators}\r\n              strategy={strategy}\r\n              isHomePage={true}\r\n              chartColumn={chartColumn.value}\r\n              microStrategy={microStrategy.value}\r\n              startDate={null}\r\n              endDate={null}\r\n            />)}\r\n        </div>\r\n        <div className={`col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          {microStrategy && symbol && (\r\n            < StockChart\r\n              extendMarketTime={extendMarketTime.value}\r\n              selectedInstance={selectedInstance}\r\n              selectedTradeDB='heikfilter-4hours-trades'\r\n              chartPeriod='90D 4hour'\r\n              symbol={symbol.value}\r\n              indicators={indicators}\r\n              strategy={strategy}\r\n              isHomePage={true}\r\n              chartColumn={chartColumn.value}\r\n              microStrategy={microStrategy.value}\r\n              startDate={null}\r\n              endDate={null}\r\n            />)}\r\n        </div>\r\n        <div className={`col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          {microStrategy && symbol && (\r\n            < StockChart\r\n              extendMarketTime={extendMarketTime.value}\r\n              selectedInstance={selectedInstance}\r\n              selectedTradeDB='heikfilter-12hours-trades'\r\n              chartPeriod='90D 12hour'\r\n              symbol={symbol.value}\r\n              indicators={indicators}\r\n              strategy={strategy}\r\n              isHomePage={true}\r\n              chartColumn={chartColumn.value}\r\n              microStrategy={microStrategy.value}\r\n              startDate={null}\r\n              endDate={null}\r\n            />)}\r\n        </div>\r\n        <div className={`col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          {microStrategy && symbol && (\r\n          < StockChart\r\n            extendMarketTime={extendMarketTime.value}\r\n            selectedInstance={selectedInstance}\r\n            selectedTradeDB='heikfilter-1day-trades'\r\n            chartPeriod='1Y 1day'\r\n            symbol={symbol.value}\r\n            indicators={indicators}\r\n            strategy={strategy}\r\n            isHomePage={true}\r\n            chartColumn={chartColumn.value}\r\n            microStrategy={microStrategy.value}\r\n            startDate={null}\r\n            endDate={null}\r\n          />)}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"hunter-chart-container\">\r\n      <nav className=\"navbar navbar-expand navbar-dark bg-dark hunter-nav-bar\">\r\n        <div className=\"logo-title\">\r\n          <a href=\"/chart\" className=\"hunter-navbar-brand\">\r\n            Violette AM - Client Portal\r\n          </a>\r\n        </div>\r\n        {(user.is_admin || (user.role?.length)) && (\r\n          <div className=\"navbar-nav mr-auto\">\r\n            <li className=\"nav-item\">\r\n              <Link to={\"/chart\"} className=\"nav-link\"></Link>\r\n            </li>\r\n            <div className=\"select-option\">\r\n              <Select\r\n                value={selectedViewType}\r\n                onChange={handleViewTypeChange}\r\n                options={optionsViewTypes}\r\n                placeholder=\"Charting\"\r\n              />\r\n            </div>\r\n            <div className=\"select-option\">\r\n              <Select\r\n                value={extendMarketTime}\r\n                onChange={handleMarketTimeChange}\r\n                options={optionsMarketTime}\r\n                placeholder=\"Market Time\"\r\n              />\r\n            </div>\r\n            {/* <div className=\"select-option\">\r\n              <Select\r\n                value={selectedSymbolType}\r\n                onChange={handleSymbolTypeChange}\r\n                options={optionsSymbolType}\r\n                placeholder=\"Select Symbol Type\"\r\n              />\r\n            </div> */}\r\n            <div className=\"select-option\">\r\n              <Select\r\n                value={strategy}\r\n                onChange={handleStrategy}\r\n                options={optionsStratgy}\r\n                placeholder=\"Macro Strategy\"\r\n              />\r\n            </div>\r\n            {isShowMicro && (\r\n              <div className=\"select-option\">\r\n                <Select\r\n                  value={microStrategy}\r\n                  onChange={handleMicroStrategyChange}\r\n                  options={optionsMicroStrategy}\r\n                  placeholder=\"Micro Strategy\"\r\n                />\r\n              </div>  \r\n            )}\r\n            <div className=\"select-option\">\r\n              <Select\r\n                value={symbol}\r\n                onChange={handlSymbolChange}\r\n                options={symbolList}\r\n                placeholder=\"Symbol\"\r\n              />\r\n            </div>\r\n            <div className=\"select-multi-option\">\r\n              <Select\r\n                name=\"filters\"\r\n                placeholder=\"Indicators\"\r\n                value={indicators}\r\n                onChange={handleIndicatorsChange}\r\n                options={optionsIndicator}\r\n                isMulti={true}\r\n              />\r\n            </div>\r\n            <div className=\"select-option\">\r\n              <Select\r\n                value={chartColumn}\r\n                onChange={handleChartsColumnChange}\r\n                options={optionsColumn}\r\n                placeholder=\"Columns\"\r\n              />\r\n            </div>\r\n          </div>\r\n        )}\r\n        <Collapse navbar isOpen={collapseOpen}>\r\n            <Nav className=\"ml-auto\" navbar>\r\n              <UncontrolledDropdown>\r\n                <DropdownToggle\r\n                  caret\r\n                  color=\"default\"\r\n                  nav\r\n                  onClick={(e) => e.preventDefault()}\r\n                >\r\n                  <div className=\"photo\">\r\n                    <img\r\n                      alt=\"...\"\r\n                      src={require(\"assets/img/anime3.png\").default}\r\n                    />\r\n                  </div>\r\n                  <p className=\"d-lg-none\">Log out</p>\r\n                </DropdownToggle>\r\n                <DropdownMenu className=\"dropdown-navbar\" right tag=\"ul\">\r\n                  <DropdownItem divider tag=\"li\" />\r\n                  <NavLink tag=\"li\">\r\n                    <DropdownItem className=\"nav-item\" onClick={() => {\r\n                      handleSignout()\r\n                    }}>Log out</DropdownItem>\r\n                  </NavLink>\r\n                </DropdownMenu>\r\n              </UncontrolledDropdown>\r\n              <li className=\"separator d-lg-none\" />\r\n            </Nav>\r\n          </Collapse>    \r\n      </nav>\r\n      {!user.is_admin && !user?.role.length\r\n        ? (<div className=\"development-in-content dark\">\r\n            No Permission\r\n          </div>)\r\n        : selectedInstance === 'stress_test' || selectedInstance === 'optimization' \r\n        ? (<div className=\"development-in-content dark\">\r\n          In development\r\n        </div>)\r\n        : (<div className=\"graphs-container dark\">\r\n          {displayChart()}\r\n        </div>)\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HeiknStockChart;","import React, { useState } from 'react'\r\nimport { Range } from 'rc-slider';\r\nimport Form from 'react-bootstrap/Form'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport moment from 'moment'\r\n\r\nimport 'rc-slider/assets/index.css';\r\n\r\nexport default (props) => {\r\n  const { selectDateRange } = props\r\n  const startedDate = moment().subtract(365, 'days').format(\"YYYY-MM-DD\")\r\n  const endedDate = moment().format(\"YYYY-MM-DD\")\r\n  const [tradeStartDate, setTradeStartDate] = useState(startedDate);\r\n  const [tradeEndDate, setTradeEndDate ] = useState(endedDate)\r\n  \r\n  const handleDateRangeChange = (rangeValue, isFlag) => {\r\n    const startDate = moment(startedDate, \"YYYY-MM-DD\").add(rangeValue[0], 'days').format(\"YYYY-MM-DD\")\r\n    const endDate = moment(startedDate, \"YYYY-MM-DD\").add(rangeValue[1], 'days').format(\"YYYY-MM-DD\")\r\n    setTradeStartDate(startDate)\r\n    setTradeEndDate(endDate)\r\n\r\n    if ( isFlag ) {\r\n      selectDateRange(startDate, endDate)  \r\n    }\r\n  }\r\n  \r\n  return (\r\n    <Form.Group as={Row} className=\"hunter-multi-range-area\">\r\n      <input \r\n        type='text'\r\n        className=\"hunter-form-control-input\"\r\n        value={tradeStartDate}\r\n        disabled\r\n      />\r\n      <Range\r\n        min={0}\r\n        max={365}\r\n        defaultValue={[0, 365]}\r\n        step={1}\r\n        onChange={(value) => {\r\n          handleDateRangeChange(value, false)\r\n        }}\r\n        onAfterChange={(value) => {\r\n          handleDateRangeChange(value, true)\r\n        }}\r\n      />\r\n      <input \r\n        type='text'\r\n        className=\"hunter-form-control-input\"\r\n        value={tradeEndDate}\r\n        disabled\r\n      />    \r\n    </Form.Group>\r\n)};","import React, { useCallback, useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Select from 'react-select'\r\nimport \"react-datetime/css/react-datetime.css\";\r\nimport StockChart from \"./stock-chart/StockChart\"\r\nimport { useHistory } from \"react-router-dom\";\r\nimport disableScroll from 'disable-scroll';\r\n\r\nimport ReactMultiSelectCheckboxes from 'react-multiselect-checkboxes';\r\nimport MultiRangeSlider from 'components/MultiRangeSlider/MultiRangeSlider'\r\n\r\nconst HeiknStockChartItem = (props) => {\r\n    \r\n  const { selectedInstance, handleChartRedirect } = props\r\n  const history = useHistory();\r\n  const { viewType, initStrategy, initMicroStrategy, initIndicators, initSymbol } = history.location.state\r\n  \r\n  const [selectedViewType, setSelectedViewType] = useState(\r\n    viewType\r\n    ? viewType\r\n    : { value: 'charting', label: 'Charting' }\r\n  );\r\n    \r\n  const [selectedSymbolType, setSelectedSymbolType] = useState({\r\n    value: 'stock',\r\n    label: 'stock'\r\n  })\r\n  const [symbol, setSymbol] = useState(initSymbol)\r\n  const [multiSymbol, setMultiSymbol] = useState([initSymbol])\r\n  const [strategy, setStrategy] = useState(initStrategy ? initStrategy : {})\r\n  const [symbolList, setSymbolList] = useState([])\r\n  const [microStrategy, setMicroStrategy] = useState(initMicroStrategy ? initMicroStrategy: null)\r\n  const [indicators, setIndicators] = useState(initIndicators)\r\n  const [apiFlag, setApiFlag] = useState(false)\r\n  const [tradeStartDate, setTradeStartDate] = useState('')\r\n  const [tradeEndDate, setTradeEndDate] = useState('')\r\n  const [strategyList, setStrategyList] = useState([]);\r\n    \r\n  const [optionsViewTypes, setOptionsViewTypes] = useState([\r\n    { value: 'charting', label: 'Charting' },\r\n    { value: 'performance', label: 'Performance' },\r\n  ])    \r\n\r\n  const [optionsMicroStrategy, setOptionsMicroStrategy] = useState([])\r\n    \r\n  const [optionsStratgy, setOptionsStrategy] = useState([])\r\n\r\n  const optionsSymbolType = [\r\n    {\r\n      value: 'stock', label: 'stock',\r\n    },\r\n    {\r\n      value: 'crypto', label: 'crypto',\r\n    }\r\n  ]\r\n    \r\n  const optionsIndicator = [\r\n    {\r\n      value: 'VOLUME', label: 'VOLUME',\r\n    },\r\n    {\r\n      value: 'RSI', label: 'RSI',\r\n    },\r\n    {\r\n      value: 'MACD', label: 'MACD',\r\n    },\r\n    {\r\n      value: 'SMA', label: 'SMA',\r\n    }\r\n  ]\r\n\r\n  const getStrategyList = useCallback(\r\n    () => {\r\n      fetch(process.env.REACT_APP_BACKEND_URL + \"/api/get_strategy_list\")\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          setStrategyList(data.result);\r\n          const strategyOptions = data.result.map((o => {\r\n            return {\r\n              value: o.macro,\r\n              label: o.macro,\r\n            }\r\n          }))\r\n          // setStrategy({\r\n          //   value: 'heikfilter',\r\n          //   label: 'heikfilter'\r\n          // });\r\n          setOptionsStrategy(strategyOptions);\r\n          if (data.result.length) {\r\n            data.result.forEach((item) => {\r\n              if (item.macro === 'heikfilter') {\r\n                const microStrategyOptions = item.micro.map(o => {\r\n                  return {\r\n                    value: o,\r\n                    label: o,\r\n                  }\r\n                })\r\n                setOptionsMicroStrategy( microStrategyOptions )                \r\n\r\n                const symbolOptions = item.symbols.map(o => {\r\n                  return {\r\n                    value: o,\r\n                    label: o,\r\n                  }\r\n                })\r\n                setSymbolList(symbolOptions)\r\n                // setSymbol(symbolOptions[0])\r\n              }\r\n            })\r\n          }\r\n        })   \r\n    },\r\n    [],\r\n  )\r\n\r\n  useEffect(() => {\r\n    const user = JSON.parse(localStorage.getItem('user-info'))\r\n    if (user.is_admin || user.role.length) {\r\n      getStrategyList();\r\n    }\r\n    disableScroll.on();\r\n    return () => {\r\n      disableScroll.off();\r\n    }\r\n  }, [getStrategyList])\r\n    \r\n  useEffect(() => {\r\n    if (selectedInstance.value === 'optimization') {\r\n      setOptionsViewTypes([\r\n        { value: 'optimization', label: 'Optimization' },\r\n      ])\r\n    } else {\r\n      setOptionsViewTypes([\r\n        { value: 'charting', label: 'Charting' },\r\n        { value: 'performance', label: 'Performance' },\r\n      ])\r\n    }\r\n  }, [selectedInstance])\r\n\r\n  useEffect(() => {\r\n    const get_tables = () => {\r\n      try {\r\n        const requestOptions = {\r\n          method: 'POST',\r\n          headers: {'Content-Type': 'application/json'},\r\n          body: JSON.stringify({\r\n            'strategy': strategy.value\r\n          })\r\n        };\r\n        fetch(process.env.REACT_APP_BACKEND_URL + \"/api/tables\", requestOptions)\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            let temp_data = []\r\n            data.tables.map((x) => {\r\n              temp_data.push({\r\n                value: x,\r\n                label: x\r\n              });\r\n              return null\r\n            })\r\n            setSymbolList(temp_data)\r\n          })\r\n      } catch (error) {\r\n        console.log(error)  \r\n      }\r\n    }\r\n    \r\n    if (!apiFlag) {\r\n      setMicroStrategy(microStrategy)\r\n      get_tables();\r\n      setApiFlag(true)\r\n    }\r\n  }, [setMicroStrategy, apiFlag, microStrategy, setApiFlag, strategy.value])\r\n\r\n  const handleViewTypeChange = (e) => {\r\n    setSelectedViewType(e)\r\n    if (e.value === 'charting') {\r\n      handleChartRedirect(true)\r\n    }\r\n  }\r\n\r\n  const handlSymbolChange = (e) => {\r\n    if (e) {\r\n      setSymbol(e)\r\n    }\r\n  }\r\n    \r\n  const handlMultiSymbolChange = (e) => {\r\n    setMultiSymbol(e)\r\n  }\r\n\r\n  const handleStrategyChange = async (e) => {\r\n    if (e) {\r\n      setStrategy(e)\r\n      if (strategyList.length) {\r\n        strategyList.forEach((item) => {\r\n          if (item.macro === e.value) {\r\n            const microStrategyOptions = item.micro.map(o => {\r\n              return {\r\n                value: o,\r\n                label: o,\r\n              }\r\n            })\r\n            setOptionsMicroStrategy( microStrategyOptions )\r\n\r\n            const is_2m = microStrategyOptions.filter((o => o.value === '2m'))\r\n            if (is_2m.length) {\r\n              setMicroStrategy({\r\n                value: '2m',\r\n                label: '2m'\r\n              })\r\n            } else {\r\n              setMicroStrategy(microStrategyOptions[2])\r\n            }\r\n\r\n            const symbolOptions = item.symbols.map(o => {\r\n              return {\r\n                value: o,\r\n                label: o,\r\n              }\r\n            })\r\n            setSymbolList(symbolOptions)\r\n            setSymbol(symbolOptions[0])\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleIndicatorsChange = (options) => {\r\n    setIndicators(options);\r\n  }\r\n\r\n  const handleMicroStrategyChange = (e) => {\r\n    setMicroStrategy(e);\r\n  }\r\n\r\n  const selectDateRange = (startDate, endDate) => {\r\n    setTradeStartDate(startDate)\r\n    setTradeEndDate(endDate)\r\n  }\r\n\r\n  const handleSymbolTypeChange = (e) => {\r\n    setSelectedSymbolType(e)\r\n  }\r\n\r\n  return (\r\n    <div className=\"hunter-chart-container\">\r\n      <nav className=\"navbar navbar-expand navbar-dark bg-dark hunter-nav-bar\">\r\n        <div className=\"logo-title\">\r\n          <a href=\"/chart\" className=\"hunter-navbar-brand\">\r\n            Violette AM - Client Portal \r\n          </a>\r\n        </div>\r\n        <div className=\"navbar-nav ma-auto hunter-nav-bar-nav\">\r\n          <li className=\"nav-item\">\r\n            <Link to={\"/chart\"} className=\"nav-link\"></Link>\r\n          </li>\r\n          <div className=\"select-option\">\r\n            <Select\r\n              value={selectedViewType}\r\n              onChange={handleViewTypeChange}\r\n              options={optionsViewTypes}\r\n              placeholder=\"Charting\"\r\n            />\r\n          </div>\r\n          {selectedViewType.value !== 'performance'\r\n            ? (<div className=\"select-option\">\r\n              <Select\r\n                  value={symbol}\r\n                  onChange={handlSymbolChange}\r\n                  options={symbolList}\r\n              />\r\n                </div>)\r\n            : (<div className=\"select-multi-option hunter-multi-select-checkboxes\">\r\n                <ReactMultiSelectCheckboxes\r\n                  options={symbolList}\r\n                  value={multiSymbol}\r\n                  onChange={handlMultiSymbolChange}\r\n                />\r\n              </div>)\r\n          }\r\n          {/* <div className=\"select-option\">\r\n            <Select\r\n              value={selectedSymbolType}\r\n              onChange={handleSymbolTypeChange}\r\n              options={optionsSymbolType}\r\n              placeholder=\"Select Symbol Type\"\r\n            />\r\n          </div> */}\r\n          {(selectedInstance.value !== 'live_trading') &&\r\n            (<div className=\"select-option\">\r\n                <Select\r\n                  value={strategy}\r\n                  onChange={handleStrategyChange}\r\n                  options={optionsStratgy}\r\n                  placeholder=\"Macro Strategy\"\r\n                />\r\n            </div>)\r\n          }\r\n          {selectedInstance.value !== 'live_trading' && \r\n            (<div className=\"select-option\">\r\n              <Select\r\n                name=\"filters\"\r\n                placeholder=\"Micro Strategy\"\r\n                value={microStrategy}\r\n                onChange={handleMicroStrategyChange}\r\n                options={optionsMicroStrategy}\r\n              />\r\n            </div>)\r\n          }\r\n          {selectedViewType.value !== 'performance' && \r\n            (<div className=\"select-multi-option\">\r\n              <Select\r\n                name=\"filters\"\r\n                placeholder=\"Indicators\"\r\n                value={indicators}\r\n                onChange={handleIndicatorsChange}\r\n                options={optionsIndicator}\r\n                isMulti={true}\r\n              />\r\n            </div>)\r\n          }\r\n          <div className='date hunter-item-chart hunter-date-time-picker' id='datetimepicker1'>\r\n            <MultiRangeSlider\r\n              selectDateRange={selectDateRange}\r\n            />\r\n          </div>\r\n        </div>\r\n      </nav>\r\n      <div className=\"graphs-container dark\">\r\n        {viewType && (\r\n          < StockChart\r\n            selectedSymbolType={selectedSymbolType.value}\r\n            selectedInstance ={selectedInstance.value}\r\n            viewType={selectedViewType.value}\r\n            microStrategy={microStrategy.value}\r\n            symbol={symbol.value}\r\n            multiSymbol={multiSymbol}\r\n            indicators={indicators}\r\n            strategy={strategy}\r\n            isHomePage={false}\r\n            startDate={tradeStartDate}\r\n            endDate={tradeEndDate}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HeiknStockChartItem;\r\n","export function validateEmail(email) {\r\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(String(email).toLowerCase());\r\n}\r\n\r\n// export function validateEmail(email) {\r\n//  if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(email))\r\n//   {\r\n//     return (true)\r\n//   }\r\n//     alert(\"You have entered an invalid email address!\")\r\n//     return (false)\r\n// }\r\n\r\nexport function currentDateString() {\r\n    const date = new Date();\r\n    let month = date.getMonth() + 1\r\n    let day = date.getDate()\r\n    if (date.getMonth() + 1 < 10) {\r\n        month = '0' + month\r\n    }\r\n    if (date.getDate() < 10) {\r\n        day = '0' + day\r\n    }\r\n\r\n    return `${date.getFullYear()}-${month}-${day}`;\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n    useHistory,\r\n} from \"react-router-dom\";\r\nimport { useAuth } from 'contexts/authContext'\r\nimport { validateEmail } from 'utils/helper'\r\n\r\nconst Login = () => {\r\n    let auth = useAuth();\r\n    let history = useHistory();\r\n    const [error, setError] = useState(-1)\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [message, setMessage] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n    useEffect(() => {\r\n        const listener = event => {\r\n            if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\r\n                event.preventDefault();\r\n                login();\r\n            }\r\n        };\r\n        document.addEventListener(\"keydown\", listener);\r\n        return () => {\r\n            document.removeEventListener(\"keydown\", listener);\r\n        };\r\n    }, []);\r\n\r\n    const handleEmailChange = (e) => {\r\n        setEmail(e.target.value)\r\n    }\r\n    \r\n    const handlePasswordChange = (e) => {\r\n        setPassword(e.target.value)\r\n    }\r\n    \r\n    const login = async () => {\r\n        if (!email.length || !password.length) {\r\n            setError(1)\r\n            setMessage('Email or password is wrong')\r\n            return\r\n        }\r\n        \r\n        if (!validateEmail(email)){\r\n            alert('Invalid email')\r\n            return\r\n        }\r\n        \r\n        setIsLoading(true)\r\n        const res = await auth.authUser.signin(email, password)\r\n        setIsLoading(false)\r\n        if (res.success) {\r\n            const historyState = {\r\n                userId: res.user_id\r\n            }\r\n            history.push({\r\n                pathname: '/verify',\r\n                state: historyState\r\n            })\r\n        } else {\r\n            setError(1)\r\n            setMessage(res.error)\r\n            return\r\n        }\r\n    }\r\n\r\n    const handleModalClose = () => {\r\n        setError(-1);\r\n        setMessage('');\r\n    }\r\n\r\n    return (\r\n        <div className={\"login-form\"}>\r\n            <div>\r\n\r\n                <h3>Log In</h3>\r\n\r\n                <div className=\"form-group\">\r\n                    <label>User Email</label>\r\n                    <input\r\n                        type=\"email\"\r\n                        className=\"form-control hunter-form-control\"\r\n                        placeholder=\"Enter user email\"\r\n                        value={email}\r\n                        onChange={(e) => { handleEmailChange(e)}}\r\n                        required\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label>Password</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        className=\"form-control hunter-form-control\"\r\n                        placeholder=\"Enter password\"\r\n                        value={password}\r\n                        onChange={(e) => { handlePasswordChange(e)}}\r\n                        required\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <div className=\"custom-control custom-checkbox\">\r\n                        <input type=\"checkbox\" className=\"custom-control-input\" id=\"customCheck1\" />\r\n                        <label className=\"custom-control-label\" htmlFor=\"customCheck1\">Remember me</label>\r\n                    </div>\r\n                </div>\r\n\r\n                <button\r\n                    className=\"btn btn-dark btn-lg btn-block hunter-signin-button\"\r\n                    onClick={login}\r\n                >\r\n                    {isLoading && (\r\n                        <span className=\"spinner-border spinner-border-sm hunter-spinner-button\" role=\"status\" aria-hidden=\"true\"></span>\r\n                    )}\r\n                    Sign in\r\n                </button>\r\n                \r\n                <div className=\"form-group hunter-form-signup-area\">\r\n                    {/* <p className=\"sign-up-area text-left\">\r\n                        <a href=\"/signup\">Sign Up?</a>\r\n                    </p> */}\r\n                    <p className=\"forgot-password text-right\">\r\n                        Forgot <a href=\"/forgot_password\">password?</a>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            {error !== -1 && \r\n                <div className=\"alert alert-primary\" role=\"alert\">\r\n                    <div className=\"alert-container\">\r\n                        <div className=\"alert-content\">\r\n                            {message}\r\n                        </div>\r\n                        <button type=\"button\" className=\"btn btn-primary modal-close-button hunter-modal-small-button\" onClick={() => { handleModalClose() }}>Close</button>\r\n                    </div>\r\n                </div>   \r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login","import React from \"react\";\r\n// nodejs library that concatenates classes\r\nimport classNames from \"classnames\";\r\n\r\n// reactstrap components\r\nimport {\r\n  Collapse,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  UncontrolledDropdown,\r\n  Input,\r\n  Navbar,\r\n  NavLink,\r\n  Nav,\r\n  Container,\r\n  Modal,\r\n  ModalHeader,\r\n} from \"reactstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useAuth } from 'contexts/authContext';\r\n\r\nfunction AdminNavbar() {\r\n  const auth = useAuth();\r\n  const history = useHistory();\r\n  const [collapseOpen] = React.useState(false);\r\n  const [modalSearch, setmodalSearch] = React.useState(false);\r\n  const [color, setcolor] = React.useState(\"navbar-transparent\");\r\n  React.useEffect(() => {\r\n    window.addEventListener(\"resize\", updateColor);\r\n    // Specify how to clean up after this effect:\r\n    return function cleanup() {\r\n      window.removeEventListener(\"resize\", updateColor);\r\n    };\r\n  });\r\n  // function that adds color white/transparent to the navbar on resize (this is for the collapse)\r\n  const updateColor = () => {\r\n    if (window.innerWidth < 993 && collapseOpen) {\r\n      setcolor(\"bg-white\");\r\n    } else {\r\n      setcolor(\"navbar-transparent\");\r\n    }\r\n  };\r\n  \r\n  // this function is to open the Search modal\r\n  const toggleModalSearch = () => {\r\n    setmodalSearch(!modalSearch);\r\n  };\r\n\r\n  const handleSignout = () => {\r\n    auth.signout()\r\n    history.push('/login')\r\n  }\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-expand navbar-dark bg-dark hunter-nav-bar\">\r\n      <div className=\"logo-title\">\r\n        <a href=\"/chart\" className=\"hunter-navbar-brand\">\r\n          Violette AM - Client Portal\r\n        </a>\r\n      </div>\r\n      <Navbar className={classNames(\"navbar-absolute\", color)} expand=\"lg\">\r\n        <Container fluid>\r\n          <Collapse navbar isOpen={collapseOpen}>\r\n            <Nav className=\"ml-auto\" navbar>\r\n              <UncontrolledDropdown nav>\r\n                <DropdownToggle\r\n                  caret\r\n                  color=\"default\"\r\n                  nav\r\n                  onClick={(e) => e.preventDefault()}\r\n                >\r\n                  <div className=\"photo\">\r\n                    <img\r\n                      alt=\"...\"\r\n                      src={require(\"assets/img/anime3.png\").default}\r\n                    />\r\n                  </div>\r\n                  <p className=\"d-lg-none\">Log out</p>\r\n                </DropdownToggle>\r\n                <DropdownMenu className=\"dropdown-navbar\" right tag=\"ul\">\r\n                  {/* <NavLink tag=\"li\">\r\n                    <DropdownItem className=\"nav-item\">Profile</DropdownItem>\r\n                  </NavLink>\r\n                  <NavLink tag=\"li\">\r\n                    <DropdownItem className=\"nav-item\">Settings</DropdownItem>\r\n                  </NavLink> */}\r\n                  <DropdownItem divider tag=\"li\" />\r\n                  <NavLink tag=\"li\">\r\n                    <DropdownItem className=\"nav-item\" onClick={() => {handleSignout()}}>Log out</DropdownItem>\r\n                  </NavLink>\r\n                </DropdownMenu>\r\n              </UncontrolledDropdown>\r\n              <li className=\"separator d-lg-none\" />\r\n            </Nav>\r\n          </Collapse>\r\n        </Container>\r\n      </Navbar>\r\n      <Modal\r\n        modalClassName=\"modal-search\"\r\n        isOpen={modalSearch}\r\n        toggle={toggleModalSearch}\r\n      >\r\n        <ModalHeader>\r\n          <Input placeholder=\"SEARCH\" type=\"text\" />\r\n          <button\r\n            aria-label=\"Close\"\r\n            className=\"close\"\r\n            onClick={toggleModalSearch}\r\n          >\r\n            <i className=\"tim-icons icon-simple-remove\" />\r\n          </button>\r\n        </ModalHeader>\r\n      </Modal>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default AdminNavbar;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Route, Switch, useLocation } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  Button\r\n} from \"reactstrap\";\r\n// javascript plugin used to create scrollbars on windows\r\nimport PerfectScrollbar from \"perfect-scrollbar\";\r\n\r\n// core components\r\nimport AdminNavbar from \"components/Navbars/AdminNavbar.js\";\r\nimport Sidebar from \"components/Sidebar/Sidebar.js\";\r\n\r\nimport { adminRoutes } from \"routes.js\";\r\n\r\nimport { BackgroundColorContext } from \"contexts/BackgroundColorContext\";\r\n\r\nvar ps;\r\n\r\nfunction Admin() {\r\n  const history = useHistory();\r\n  const [isShowSidebar, setShowSidebar] = React.useState(true);\r\n  const location = useLocation();\r\n  const mainPanelRef = React.useRef(null);\r\n  const [sidebarOpened, setsidebarOpened] = React.useState(\r\n    document.documentElement.className.indexOf(\"nav-open\") !== -1\r\n  );\r\n  const [selectedInstance, setSelectedInstance] = React.useState('usermanage');\r\n  const [user] = useState(JSON.parse(localStorage.getItem('user-info')));\r\n\r\n    useEffect(() => {\r\n      if (!user.is_admin) {\r\n        history.push('/')\r\n      }\r\n    }, [user, history])\r\n\r\n  React.useEffect(() => {\r\n    if (navigator.platform.indexOf(\"Win\") > -1) {\r\n      document.documentElement.className += \" perfect-scrollbar-on\";\r\n      document.documentElement.classList.remove(\"perfect-scrollbar-off\");\r\n      ps = new PerfectScrollbar(mainPanelRef.current, {\r\n        suppressScrollX: true,\r\n      });\r\n      let tables = document.querySelectorAll(\".table-responsive\");\r\n      for (let i = 0; i < tables.length; i++) {\r\n        ps = new PerfectScrollbar(tables[i]);\r\n      }\r\n    }\r\n    // Specify how to clean up after this effect:\r\n    return function cleanup() {\r\n      if (navigator.platform.indexOf(\"Win\") > -1) {\r\n        ps.destroy();\r\n        document.documentElement.classList.add(\"perfect-scrollbar-off\");\r\n        document.documentElement.classList.remove(\"perfect-scrollbar-on\");\r\n      }\r\n    };\r\n  });\r\n  React.useEffect(() => {\r\n    if (navigator.platform.indexOf(\"Win\") > -1) {\r\n      let tables = document.querySelectorAll(\".table-responsive\");\r\n      for (let i = 0; i < tables.length; i++) {\r\n        ps = new PerfectScrollbar(tables[i]);\r\n      }\r\n    }\r\n    document.documentElement.scrollTop = 0;\r\n    document.scrollingElement.scrollTop = 0;\r\n    if (mainPanelRef.current) {\r\n      mainPanelRef.current.scrollTop = 0;\r\n    }\r\n  }, [location]);\r\n  // this function opens and closes the sidebar on small devices\r\n  const toggleSidebar = () => {\r\n    document.documentElement.classList.toggle(\"nav-open\");\r\n    setsidebarOpened(!sidebarOpened);\r\n  };\r\n  \r\n  const handleSidebarChange = () => {\r\n    setShowSidebar(!isShowSidebar);\r\n  };\r\n  const getRoutes = (routes) => {\r\n    return routes.map((prop, key) => {\r\n      if (prop.layout === \"/admin\") {\r\n        return (\r\n          <Route\r\n            path={prop.layout + prop.path}\r\n            component={prop.component}\r\n            key={key}\r\n          />\r\n        );\r\n      } else {\r\n        return null;\r\n      }\r\n    });\r\n  };\r\n  const getBrandText = (path) => {\r\n    for (let i = 0; i < adminRoutes.length; i++) {\r\n      if (location.pathname.indexOf(adminRoutes[i].layout + adminRoutes[i].path) !== -1) {\r\n        return adminRoutes[i].name;\r\n      }\r\n    }\r\n    return \"Brand\";\r\n  };\r\n  const handleInstanceChange = (instance) => {\r\n    setSelectedInstance(instance)\r\n  }\r\n\r\n  return (\r\n    <BackgroundColorContext.Consumer>\r\n      {({ color, changeColor }) => (\r\n        <React.Fragment>\r\n          <div className=\"wrapper hunter-wrapper\">\r\n          {!isShowSidebar && (\r\n            <Button\r\n              className ={\"show-sidebar-toggle-area show-sidebar-icon\"}\r\n              onClick={handleSidebarChange}\r\n            >\r\n              <i className=\"tim-icons icon-align-left-2\"/>\r\n            </Button>\r\n          )}\r\n          {isShowSidebar && (\r\n              <Sidebar\r\n                isAdminPage={true}\r\n                routes={adminRoutes}\r\n                handleSidebarChange={handleSidebarChange}\r\n                selectedInstance={selectedInstance}\r\n                handleInstanceChange={handleInstanceChange}\r\n              />\r\n            )}\r\n            <div className={`main-panel ${!isShowSidebar ? 'full-width' : ''}`} ref={mainPanelRef} data={color}>\r\n              <AdminNavbar\r\n                brandText={getBrandText(location.pathname)}\r\n                toggleSidebar={toggleSidebar}\r\n                sidebarOpened={sidebarOpened}\r\n              />\r\n              <Switch>\r\n                {getRoutes(adminRoutes)}\r\n              </Switch>\r\n            </div>\r\n          </div>\r\n        </React.Fragment>\r\n      )}\r\n    </BackgroundColorContext.Consumer>\r\n  );\r\n}\r\n\r\nexport default Admin;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport Select from 'react-select'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  Button\r\n} from \"reactstrap\";\r\n// javascript plugin used to create scrollbars on windows\r\nimport PerfectScrollbar from \"perfect-scrollbar\";\r\n\r\n// core components\r\nimport AdminNavbar from \"components/Navbars/AdminNavbar.js\";\r\nimport Sidebar from \"components/Sidebar/Sidebar.js\";\r\n\r\nimport { adminRoutes } from \"routes.js\";\r\n\r\nimport { BackgroundColorContext } from \"contexts/BackgroundColorContext\";\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport { MDBBtn, MDBTable, MDBTableBody, MDBTableHead  } from 'mdbreact';\r\nimport { getUserList, updateUserRole, deleteUser } from 'api/Api';\r\n\r\nvar ps;\r\n\r\nfunction UserManage() {\r\n  const history = useHistory();\r\n  const [isRequest, setIsRequest] = useState(true)\r\n  const [error, setError] = useState(-1)\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [message, setMessage] = useState('')\r\n  const [isShowSidebar, setShowSidebar] = React.useState(true);\r\n  const location = useLocation();\r\n  const mainPanelRef = React.useRef(null);\r\n  const [isShowUpdateRoleModal, setIsShowUpdateRoleModal] = useState(false);\r\n  const [roles, setRoles] = useState([]);\r\n  const [userlist, setUserList] = useState([])\r\n  const [selectedUserId, setSelectedUserId] = useState(null);\r\n  const [sidebarOpened, setsidebarOpened] = React.useState(\r\n    document.documentElement.className.indexOf(\"nav-open\") !== -1\r\n  );\r\n  const [selectedInstance, setSelectedInstance] = React.useState('usermanage');\r\n  const optionsRole = [\r\n    { value: 'forward_test', label: 'Forward Test' },\r\n    { value: 'stress_test', label: 'Stress Test' },\r\n    { value: 'optimization', label: 'Optimization' },\r\n    { value: 'live_trade', label: 'Live Trade' },\r\n    { value: 'macket_watch', label: 'Macket Watch' },\r\n    { value: 'scanner', label: 'Scanner' },\r\n    { value: 'trade_data', label: 'Trade Data'},\r\n  ]\r\n  const [user] = useState(JSON.parse(localStorage.getItem('user-info')));\r\n\r\n  useEffect(() => {\r\n    if (!user.is_admin) {\r\n      history.push('/')\r\n    }\r\n  }, [user, history])\r\n\r\n  React.useEffect(() => {\r\n    if (navigator.platform.indexOf(\"Win\") > -1) {\r\n      document.documentElement.className += \" perfect-scrollbar-on\";\r\n      document.documentElement.classList.remove(\"perfect-scrollbar-off\");\r\n      ps = new PerfectScrollbar(mainPanelRef.current, {\r\n        suppressScrollX: true,\r\n      });\r\n      let tables = document.querySelectorAll(\".table-responsive\");\r\n      for (let i = 0; i < tables.length; i++) {\r\n        ps = new PerfectScrollbar(tables[i]);\r\n      }\r\n    }\r\n    // Specify how to clean up after this effect:\r\n    return function cleanup() {\r\n      if (navigator.platform.indexOf(\"Win\") > -1) {\r\n        ps.destroy();\r\n        document.documentElement.classList.add(\"perfect-scrollbar-off\");\r\n        document.documentElement.classList.remove(\"perfect-scrollbar-on\");\r\n      }\r\n    };\r\n  });\r\n  React.useEffect(() => {\r\n    if (navigator.platform.indexOf(\"Win\") > -1) {\r\n      let tables = document.querySelectorAll(\".table-responsive\");\r\n      for (let i = 0; i < tables.length; i++) {\r\n        ps = new PerfectScrollbar(tables[i]);\r\n      }\r\n    }\r\n    document.documentElement.scrollTop = 0;\r\n    document.scrollingElement.scrollTop = 0;\r\n    if (mainPanelRef.current) {\r\n      mainPanelRef.current.scrollTop = 0;\r\n    }\r\n  }, [location]);\r\n\r\n  useEffect(() => {\r\n    const fetchUserList = async () => {\r\n      const list = await getUserList();\r\n      const users = list.map((user, index) => {\r\n        return {\r\n          id: index,\r\n          username: user.username,\r\n          email: user.email,\r\n          role: user.is_superuser ? 'Super User' : user.role,\r\n          active: 'active',\r\n          action: <div className=\"hunter-user-manage-button-area\">\r\n            <MDBBtn color=\"blue\" size=\"sm\" onClick={\r\n            () => {\r\n              setRoles([]);\r\n              setSelectedUserId(user.id);\r\n              showUpdateUserRoleModal();\r\n            }}\r\n            >Update Role</MDBBtn>\r\n            <MDBBtn color=\"blue\" size=\"sm\" onClick={\r\n            async () => {\r\n              if (window.confirm(\"Do you really want to delete this user?\")) {\r\n                const res = await deleteUser(user.id)\r\n                setIsRequest(true);\r\n                alert(res.message)\r\n              }\r\n            }}\r\n          >Delete User</MDBBtn>\r\n          </div>\r\n        }\r\n      })\r\n       setUserList(users)\r\n    };\r\n    if (isRequest) {\r\n      fetchUserList();\r\n      setIsRequest(false);\r\n    }\r\n  }, [isRequest])\r\n\r\n  const showUpdateUserRoleModal = () => {\r\n    setIsShowUpdateRoleModal(true);\r\n  }\r\n\r\n  // this function opens and closes the sidebar on small devices\r\n  const toggleSidebar = () => {\r\n    document.documentElement.classList.toggle(\"nav-open\");\r\n    setsidebarOpened(!sidebarOpened);\r\n  };\r\n  \r\n  const handleSidebarChange = () => {\r\n    setShowSidebar(!isShowSidebar);\r\n  };\r\n  \r\n  const getBrandText = (path) => {\r\n    for (let i = 0; i < adminRoutes.length; i++) {\r\n      if (location.pathname.indexOf(adminRoutes[i].layout + adminRoutes[i].path) !== -1) {\r\n        return adminRoutes[i].name;\r\n      }\r\n    }\r\n    return \"Brand\";\r\n  };\r\n  const handleInstanceChange = (instance) => {\r\n    setSelectedInstance(instance)\r\n  }\r\n\r\n  const columns= [\r\n    {\r\n      label: '#',\r\n      field: 'id',\r\n    },\r\n    {\r\n      label: 'name',\r\n      field: 'username',\r\n    },\r\n    {\r\n      label: 'email',\r\n      field: 'email',\r\n    },\r\n    {\r\n      label: 'Role',\r\n      field: 'role',\r\n    },\r\n    {\r\n      label: 'Active',\r\n      field: 'active',\r\n    },\r\n    {\r\n      action: 'Action',\r\n      field: 'action',\r\n    }\r\n  ];\r\n\r\n  const handleRolesChange = (options) => {\r\n    setRoles(options);\r\n  }\r\n\r\n  const handleUpdateRoleModalClose = () => {\r\n    setIsShowUpdateRoleModal(false)  \r\n  }\r\n\r\n  const transformUserRole = (roles) => {\r\n    let roleValues = ''\r\n    let coma = ''\r\n    roles.forEach(role => {\r\n      roleValues = roleValues + coma + role.value\r\n      coma = ','\r\n    })\r\n    return roleValues;\r\n  }\r\n\r\n  const handleUserRoleUpdate = async () => {\r\n    setIsLoading(true)\r\n    const res = await updateUserRole(selectedUserId, transformUserRole(roles));\r\n    setIsLoading(false)\r\n    if ( res.success ) {\r\n      setIsRequest(true);\r\n      setError(0)\r\n      setMessage(res.message)\r\n      return;\r\n    }\r\n    setError(1)\r\n    setMessage(res.message)\r\n    return\r\n  }\r\n\r\n  const handleModalClose = () => {\r\n    setError(-1);\r\n    setMessage('');\r\n    setIsShowUpdateRoleModal(false)\r\n  }\r\n\r\n  return (\r\n    <BackgroundColorContext.Consumer>\r\n      {({ color, changeColor }) => (\r\n        <React.Fragment>\r\n          <div className=\"wrapper hunter-wrapper\">\r\n          {!isShowSidebar && (\r\n            <Button\r\n              className ={\"show-sidebar-toggle-area show-sidebar-icon\"}\r\n              onClick={handleSidebarChange}\r\n            >\r\n              <i className=\"tim-icons icon-align-left-2\"/>\r\n            </Button>\r\n          )}\r\n          {isShowSidebar && (\r\n            <Sidebar\r\n              isAdminPage={true}\r\n              routes={adminRoutes}\r\n              handleSidebarChange={handleSidebarChange}\r\n              selectedInstance={selectedInstance}\r\n              handleInstanceChange={handleInstanceChange}\r\n            />\r\n          )}\r\n          <Modal show={isShowUpdateRoleModal} className=\"hunter-modal\" onHide={handleUpdateRoleModalClose}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Update User Role</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n              <div className=\"select-multi-option\">\r\n                <Select\r\n                  name=\"filters\"\r\n                  placeholder=\"Roles\"\r\n                  value={roles}\r\n                  onChange={handleRolesChange}\r\n                  options={optionsRole}\r\n                  isMulti={true}\r\n                />\r\n              </div>\r\n            </Modal.Body>\r\n            <Modal.Footer className=\"hunter-modal-footer\">\r\n              <Button variant=\"primary\" onClick={handleUserRoleUpdate}>\r\n                {isLoading && (\r\n                  <span className=\"spinner-border spinner-border-sm hunter-spinner-button\" role=\"status\" aria-hidden=\"true\"></span>\r\n                )}\r\n                Update Role\r\n              </Button>\r\n            </Modal.Footer>\r\n            {error !== -1 && \r\n              <div className=\"alert alert-primary\" role=\"alert\">\r\n                <div className=\"alert-container\">\r\n                  <div className=\"alert-content\">\r\n                    {message}\r\n                  </div>\r\n                  <button type=\"button\" className=\"btn btn-primary modal-close-button hunter-modal-small-button\" onClick={() => { handleModalClose() }}>Close</button>\r\n                </div>\r\n              </div>   \r\n            }\r\n          </Modal>\r\n            <div className={`main-panel ${!isShowSidebar ? 'full-width' : ''}`} ref={mainPanelRef} data={color}>\r\n              <AdminNavbar\r\n                brandText={getBrandText(location.pathname)}\r\n                toggleSidebar={toggleSidebar}\r\n                sidebarOpened={sidebarOpened}\r\n              />\r\n              <div className=\"hunter-page-container\">\r\n                <div className=\"hunter-page-title\">\r\n                  <h3>User Manage</h3>\r\n                </div>\r\n                <div className=\"col-sm-8 hunter-mdb-table-container\">\r\n                  <MDBTable btn>\r\n                    <MDBTableHead columns={columns} color=\"dark\"/>\r\n                    <MDBTableBody rows={userlist} className=\"hunter-mdb-table-body\"/>\r\n                  </MDBTable>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </React.Fragment>\r\n      )}\r\n    </BackgroundColorContext.Consumer>\r\n  );\r\n}\r\n\r\nexport default UserManage;\r\n","export const filterPriceData = async (selectedSymbolType, symbol, timeFrame, tradeStartDate, tradeEndDate) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      'selectedSymbolType': selectedSymbolType,\r\n      'symbol': symbol,\r\n      'time_frame': timeFrame,\r\n      'start': tradeStartDate,\r\n      'end': tradeEndDate\r\n    })\r\n  };\r\n\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/api/get_table_candles\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      const candles = []\r\n      data.candles.forEach((x) => {\r\n        candles.push({\r\n          'o': x.o,\r\n          'h': x.h,\r\n          'c': x.c,\r\n          'l': x.l,\r\n          'v': x.v,\r\n          'date': x.date.replace('T', ' '),\r\n        })\r\n      })\r\n      return candles\r\n    })\r\n}\r\n\r\nexport const filterTradesData = async (selectedSymbolType, symbol, macroStrategy, microStrategy, tradeStartDate, tradeEndDate) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      'selectedSymbolType': selectedSymbolType,\r\n      'symbol': symbol,\r\n      'macroStrategy': macroStrategy,\r\n      'microStrategy': microStrategy,\r\n      'tradeStartDate': tradeStartDate,\r\n      'tradeEndDate': tradeEndDate\r\n    })\r\n  };\r\n\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/api/get_data_trades\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      let trades_data = []\r\n      data.trades_data.forEach((x) => {\r\n        trades_data.push({\r\n          'symbol': x.symbol,\r\n          'strategy': `${x.macro_strategy} - ${x.micro_strategy}`,\r\n          'side': x.side,\r\n          'quantity': x.quantity,\r\n          'date': x.date.replace('T', ' '),\r\n          'price': x.price\r\n        })\r\n      })\r\n      return trades_data\r\n    })\r\n}\r\n\r\nexport const getAllSymbols = async () => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      'strategy': 'no_strategy'\r\n    })\r\n  };\r\n  \r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/api/tables\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      let temp_data = []\r\n      data.tables.map((x) => {\r\n        temp_data.push({\r\n          value: x,\r\n          label: x\r\n        });\r\n        return null\r\n      })\r\n      return temp_data\r\n    })\r\n}\r\n\r\nexport const createSignUpLink = async (roles) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      roles: roles,\r\n      link: process.env.REACT_APP_BACKEND_URL + '/signup/'\r\n    })\r\n  };\r\n  let res = []\r\n  await fetch(process.env.REACT_APP_BACKEND_URL + \"/links\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(async data => {\r\n      if (data.success === \"create link\") {\r\n        await fetch(process.env.REACT_APP_BACKEND_URL + \"/links\")\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          res = data\r\n        })\r\n      }\r\n    })  \r\n  return res\r\n}\r\n\r\nexport const getActiveLinks = async () => {\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/links\")\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data;\r\n    })\r\n}\r\n\r\nexport const sendSignUpLink = async (email, link) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      email,\r\n      link\r\n    })\r\n  };\r\n  \r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/send-signup-link\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return true\r\n    })  \r\n}\r\n\r\nexport const forgotPassword = async (email) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      email,\r\n      url: process.env.REACT_APP_BACKEND_URL\r\n    })\r\n  };\r\n  \r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/password_reset/\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })    \r\n}\r\n\r\nexport const getStrategyOptions = async () => {\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/api/get_strategies\")\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })\r\n}\r\n\r\nexport const passwordConfirmReset = async (password1, password2, pathname) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      password1,\r\n      password2,\r\n      pathname: pathname\r\n    })\r\n  };\r\n  \r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/password_reset_confirm/\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })    \r\n}\r\n\r\nexport const getScriptFileNames = async() => {\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/api/get_script_files\")\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })\r\n}\r\n\r\nexport const getModuleTypeNames = async() => {\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/strategy/parameter_list/\")\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })\r\n}\r\n\r\nexport const getFileTypeNames = async(moduleType) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      param_type: moduleType\r\n    })\r\n  };\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/strategy/parameter_detail_list/\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })\r\n}\r\n\r\nexport const createScriptFile = async(filename, content, isUpdate) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      filename,\r\n      content,\r\n    })\r\n  };\r\n\r\n  const api = isUpdate ? '/api/update_script_file' : '/api/create_script_file';\r\n\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + api, requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })\r\n}\r\n\r\nconst convertArraytoString = (src) => {\r\n  if (!src) {\r\n    return ''\r\n  }\r\n\r\n  let dest = ''\r\n  let comma = ''\r\n  src.forEach(o => {\r\n    dest = dest + comma + o.value\r\n    comma = ','\r\n  })\r\n  return dest\r\n}\r\n\r\nconst convertStringtoArray = (src) => {\r\n  if (!src || !src.length) {\r\n    return null\r\n  }\r\n\r\n  const dest = src.split(',')\r\n  return dest.map((o) => ({\r\n    value: o,\r\n    label: o\r\n  }))\r\n}\r\n\r\nconst transformingProcessConfigToQuery = (settings) => {\r\n  return {\r\n    bot_name: settings.bot_name,\r\n    timeframe: convertArraytoString(settings.timeframe),\r\n    indicator: convertArraytoString(settings.indicator),\r\n    watchlist: convertArraytoString(settings.watchlist),\r\n    position_sizing: convertArraytoString(settings.position_sizing),\r\n    order_routing: convertArraytoString(settings.order_routing),\r\n    data_source: convertArraytoString(settings.data_source),\r\n    live_trading: convertArraytoString(settings.live_trading),\r\n    starting_cash: settings.starting_cash,\r\n    hours: convertArraytoString(settings.hours),\r\n    name: settings.name,\r\n    macro_strategy: convertArraytoString(settings.macro_strategy),\r\n    indicator_signalling: convertArraytoString(settings.indicator_signalling),\r\n    asset_class: convertArraytoString(settings.asset_class),\r\n  };\r\n}\r\n\r\nconst transformingProcessConfigFromParam = (settings) => {\r\n  return {\r\n    bot_name: settings.bot_name,\r\n    timeframe: convertStringtoArray(settings.timeframe),\r\n    indicator: convertStringtoArray(settings.indicator),\r\n    watchlist: convertStringtoArray(settings.watchlist),\r\n    position_sizing: convertStringtoArray(settings.position_sizing),\r\n    order_routing: convertStringtoArray(settings.order_routing),\r\n    data_source: convertStringtoArray(settings.data_source),\r\n    live_trading: convertStringtoArray(settings.live_trading),\r\n    starting_cash: settings.starting_cash,\r\n    hours: convertStringtoArray(settings.hours),\r\n    name: settings.name,\r\n    macro_strategy: convertStringtoArray(settings.macro_strategy),\r\n    indicator_signalling: convertStringtoArray(settings.indicator_signalling),\r\n    asset_class: convertStringtoArray(settings.asset_class),\r\n  };\r\n}\r\n\r\nexport const saveConfigFile = async(settings) => {\r\n  const data = transformingProcessConfigToQuery(settings)\r\n  \r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      config_collection: 'bot_configs',\r\n      config: data\r\n    })\r\n  };  \r\n\r\n  const api = '/strategy/create_one_config_detail/';\r\n\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + api, requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })\r\n}\r\n\r\nexport const saveScriptFile = async(filename, content, isUpdate, isCheckedStrategy) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      filename,\r\n      content,\r\n      isStrategyScript: isCheckedStrategy\r\n    })\r\n  };\r\n\r\n  const api = isUpdate ? '/strategy/save_script_file' : '/api/create_script_file';\r\n\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + api, requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })\r\n}\r\n\r\nexport const getScriptFile = async(filename) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      filename,\r\n    })\r\n  };\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/api/get_script_file\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })\r\n}\r\n\r\n/** User Management Api*/\r\nexport const getUserList = async () => {\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/get_user_list\")\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })\r\n}\r\n\r\nexport const updateUserRole = async (id, role) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      id,\r\n      role\r\n    })\r\n  };\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/update_user_role\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })\r\n}\r\n\r\nexport const deleteUser = async (id) => {\r\n  const requestOptions = {\r\n    method: 'PUT',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      id,\r\n    })\r\n  };\r\n\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/delete_user/\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })\r\n}\r\n\r\nexport const getConfigFileList = async (collection) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      config_collection: collection,\r\n    })\r\n  };\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/strategy/config_detail_names/\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })\r\n}\r\n\r\nexport const getConfigFileDetail = async (collection, name) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      config_collection: collection,\r\n      name,\r\n    })\r\n  };\r\n  const res = await fetch(process.env.REACT_APP_BACKEND_URL + \"/strategy/config_item_detail/\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })\r\n\r\n  return transformingProcessConfigFromParam(res.result)\r\n}\r\n\r\nexport const getBotStatusList = async () => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      \"config_collection\": \"bot_status\"\r\n    })\r\n  };\r\n  \r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/strategy/bot_status_list/\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })  \r\n}\r\n\r\nexport const updateBotStatus = async (botName, botAction) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      \"config_collection\": \"bot_configs\",\r\n      \"name\": botName\r\n    })\r\n  };\r\n  \r\n  const apiUrl = botAction === 'start' \r\n    ? '/strategy/bot_run/'\r\n    : botAction === 'pause' \r\n    ? '/strategy/bot_pause/'\r\n    : '/strategy/bot_stop/'\r\n\r\n  try {\r\n    return await fetch(process.env.REACT_APP_BACKEND_URL + apiUrl, requestOptions)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        return data\r\n      })  \r\n  } catch (e) {\r\n    return {\r\n      success: false,\r\n      message: e\r\n    }\r\n  }\r\n}\r\n\r\nexport const getBotConfigList = async () => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      \"config_collection\": \"bot_configs\",\r\n    })\r\n  };\r\n  \r\n  const apiUrl = '/strategy/config_details/'\r\n\r\n  try {\r\n    return await fetch(process.env.REACT_APP_BACKEND_URL + apiUrl, requestOptions)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        return data\r\n      })  \r\n  } catch (e) {\r\n    return {\r\n      success: false,\r\n      message: e\r\n    }\r\n  }\r\n}\r\n\r\nexport const getNewsFinancialData = async () => {\r\n  const apiUrl = '/news/recent_news/'\r\n\r\n  try {\r\n    return await fetch(process.env.REACT_APP_BACKEND_URL + apiUrl)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        return data\r\n      })  \r\n  } catch (e) {\r\n    return {\r\n      success: false,\r\n      message: e\r\n    }\r\n  }\r\n}\r\n\r\nexport const getIncomeStatement = async (symbol) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      'symbol': symbol,\r\n    })\r\n  };\r\n\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/financials/income_statement/\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })\r\n}\r\nexport const getBalanceSheet = async (symbol) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      'symbol': symbol,\r\n    })\r\n  };\r\n\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/financials/balance_sheet/\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })\r\n}\r\n\r\nexport const getCashStatement = async (symbol) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      'symbol': symbol,\r\n    })\r\n  };\r\n\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/financials/cash_statement/\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })\r\n}\r\n\r\nexport const getFinancialTotalData = async (symbol) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      'symbol': symbol,\r\n    })\r\n  };\r\n\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/financials/financial_total_data/\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })\r\n}\r\n\r\nexport const getStockModalData = async () => {\r\n  const apiUrl = '/scanner/available_items/'\r\n\r\n  try {\r\n    return await fetch(process.env.REACT_APP_BACKEND_URL + apiUrl)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        return data\r\n      })  \r\n  } catch (e) {\r\n    return {\r\n      success: false,\r\n      message: e\r\n    }\r\n  }\r\n}\r\n\r\nexport const getMultiFinancials = async (symbols, statement_type) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      'symbols': symbols,\r\n      'financial_part': statement_type,\r\n    })\r\n  };\r\n\r\n  const apiURL = '/scanner/multi_financials/'\r\n  try {\r\n    return await fetch(process.env.REACT_APP_BACKEND_URL + apiURL, requestOptions)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        return data.results\r\n      })  \r\n  } catch (e) {\r\n    return {\r\n      success: false,\r\n      message: e\r\n    }\r\n  }\r\n}\r\n\r\nexport const saveScannerView = async (chart_number, symbols, fields) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      'chart_number': chart_number,\r\n      'symbols': symbols,\r\n      'fields': fields,\r\n    })\r\n  };\r\n\r\n  const apiURL = '/scanner/save_scanner_views/'\r\n  try {\r\n    return await fetch(process.env.REACT_APP_BACKEND_URL + apiURL, requestOptions)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        return data.results\r\n      })  \r\n  } catch (e) {\r\n    return {\r\n      success: false,\r\n      message: e\r\n    }\r\n  }    \r\n}\r\n\r\nexport const getScannerViewData = async (chart_number) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      'chart_number': chart_number,\r\n    })\r\n  };\r\n\r\n  const apiURL = '/scanner/scanner_views/'\r\n  try {\r\n    return await fetch(process.env.REACT_APP_BACKEND_URL + apiURL, requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        return data.result\r\n      })  \r\n  } catch (e) {\r\n    return {\r\n      success: false,\r\n      message: e\r\n    }\r\n  }\r\n}\r\n\r\nexport const getScannerDetails = async (exchange='', industry='', sector='') => {\r\n  \r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      'exchange': exchange,\r\n      'industry': industry,\r\n      'sector': sector\r\n    })\r\n  };\r\n  \r\n  const apiURL = '/scanner/ticker_details_list/'\r\n  \r\n  try {\r\n    return await fetch(process.env.REACT_APP_BACKEND_URL + apiURL, requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data.result\r\n    })  \r\n  } catch (e) {\r\n    return {\r\n      success: false,\r\n      message: e\r\n    }\r\n  }\r\n}\r\n\r\nexport const getTickerScannerOptions = async () => {\r\n  const apiUrl = '/scanner/ticker_details_filter_options/'\r\n\r\n  try {\r\n    return await fetch(process.env.REACT_APP_BACKEND_URL + apiUrl)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        return data\r\n      })  \r\n  } catch (e) {\r\n    return {\r\n      success: false,\r\n      message: e\r\n    }\r\n  }\r\n}\r\n\r\nexport const getFloatsFilterOptions = async () => {\r\n  const apiUrl = '/floats/float_details_filter_options/'\r\n\r\n  try {\r\n    return await fetch(process.env.REACT_APP_BACKEND_URL + apiUrl)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        return data\r\n      })  \r\n  } catch (e) {\r\n    return {\r\n      success: false,\r\n      message: e\r\n    }\r\n  }\r\n}\r\n\r\nexport const getFloatsDetails = async (pageNumber, pageAmount, exchange='', industry='', sector='') => {\r\n  \r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      'page_num': pageNumber,\r\n      'page_mounts': pageAmount,\r\n      'exchange': exchange,\r\n      'industry': industry,\r\n      'sector': sector,\r\n    })\r\n  };\r\n  \r\n  const apiURL = '/floats/float_details_list/'\r\n  \r\n  try {\r\n    return await fetch(process.env.REACT_APP_BACKEND_URL + apiURL, requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data.results\r\n    })  \r\n  } catch (e) {\r\n    return {\r\n      success: false,\r\n      message: e\r\n    }\r\n  }\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport Select from 'react-select'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  Button\r\n} from \"reactstrap\";\r\n// javascript plugin used to create scrollbars on windows\r\nimport PerfectScrollbar from \"perfect-scrollbar\";\r\n\r\n// core components\r\nimport AdminNavbar from \"components/Navbars/AdminNavbar.js\";\r\nimport Sidebar from \"components/Sidebar/Sidebar.js\";\r\n\r\nimport { adminRoutes } from \"routes.js\";\r\n\r\nimport { BackgroundColorContext } from \"contexts/BackgroundColorContext\";\r\nimport { MDBBtn, MDBTable, MDBTableBody, MDBTableHead  } from 'mdbreact';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport { createSignUpLink, getActiveLinks, sendSignUpLink } from 'api/Api';\r\nimport { validateEmail } from 'utils/helper';\r\n\r\nvar ps;\r\n\r\nfunction LinkManage() {\r\n  const history = useHistory();\r\n  const [roles, setRoles] = useState([])\r\n  const [isShowSendModal, setIsShowSendModal] = useState(false)\r\n  const [isShowCreateLinkModal, setShowCreateLinkModal] = useState(false);\r\n  const [isShowSidebar, setShowSidebar] = React.useState(true);\r\n  const location = useLocation();\r\n  const mainPanelRef = React.useRef(null);\r\n  const [sidebarOpened, setsidebarOpened] = React.useState(\r\n    document.documentElement.className.indexOf(\"nav-open\") !== -1\r\n  );\r\n  const [selectedInstance, setSelectedInstance] = React.useState('linkmanage');\r\n  const [selectedLink, setSelectedLink] = useState('')\r\n  const [email, setEmail] = useState('')\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  \r\n  const optionsRole = [\r\n    { value: 'forward_test', label: 'Forward Test' },\r\n    { value: 'stress_test', label: 'Stress Test' },\r\n    { value: 'optimization', label: 'Optimization' },\r\n    { value: 'live_trading', label: 'Live Trade' },\r\n    { value: 'macket_watch', label: 'Macket Watch' },\r\n    { value: 'scanner', label: 'Scanner' },\r\n    { value: 'trade_data', label: 'Trade Data' },\r\n    { value: 'hybrid_view', label: 'Hybrid View' },\r\n    { value: 'financial_data', label: 'Financial Data' },\r\n  ]\r\n\r\n  const [user] = useState(JSON.parse(localStorage.getItem('user-info')));\r\n\r\n  useEffect(() => {\r\n    if (!user.is_admin) {\r\n      history.push('/')\r\n    }\r\n  }, [user, history])\r\n  \r\n  React.useEffect(() => {\r\n    if (navigator.platform.indexOf(\"Win\") > -1) {\r\n      document.documentElement.className += \" perfect-scrollbar-on\";\r\n      document.documentElement.classList.remove(\"perfect-scrollbar-off\");\r\n      ps = new PerfectScrollbar(mainPanelRef.current, {\r\n        suppressScrollX: true,\r\n      });\r\n      let tables = document.querySelectorAll(\".table-responsive\");\r\n      for (let i = 0; i < tables.length; i++) {\r\n        ps = new PerfectScrollbar(tables[i]);\r\n      }\r\n    }\r\n    // Specify how to clean up after this effect:\r\n    return function cleanup() {\r\n      if (navigator.platform.indexOf(\"Win\") > -1) {\r\n        ps.destroy();\r\n        document.documentElement.classList.add(\"perfect-scrollbar-off\");\r\n        document.documentElement.classList.remove(\"perfect-scrollbar-on\");\r\n      }\r\n    };\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    const fetchActiveLinks = async () => {\r\n      let links = await getActiveLinks();\r\n      const linklist = links.map(link => {\r\n        return {\r\n          id: link.id,\r\n          link: link.link,\r\n          roles: link.role,\r\n          action: <MDBBtn color=\"blue\" size=\"sm\" onClick={\r\n            () => {\r\n              setSelectedLink(link.link)\r\n              showSendEmailModal()\r\n            }}\r\n          >Send</MDBBtn>\r\n        }\r\n      })\r\n      setLinkList(linklist)\r\n    }\r\n    \r\n    fetchActiveLinks()\r\n  }, [])\r\n\r\n  React.useEffect(() => {\r\n    if (navigator.platform.indexOf(\"Win\") > -1) {\r\n      let tables = document.querySelectorAll(\".table-responsive\");\r\n      for (let i = 0; i < tables.length; i++) {\r\n        ps = new PerfectScrollbar(tables[i]);\r\n      }\r\n    }\r\n    document.documentElement.scrollTop = 0;\r\n    document.scrollingElement.scrollTop = 0;\r\n    if (mainPanelRef.current) {\r\n      mainPanelRef.current.scrollTop = 0;\r\n    }\r\n  }, [location]);\r\n  // this function opens and closes the sidebar on small devices\r\n  const toggleSidebar = () => {\r\n    document.documentElement.classList.toggle(\"nav-open\");\r\n    setsidebarOpened(!sidebarOpened);\r\n  };\r\n  \r\n  const handleSidebarChange = () => {\r\n    setShowSidebar(!isShowSidebar);\r\n  };\r\n\r\n  const getBrandText = (path) => {\r\n    for (let i = 0; i < adminRoutes.length; i++) {\r\n      if (location.pathname.indexOf(adminRoutes[i].layout + adminRoutes[i].path) !== -1) {\r\n        return adminRoutes[i].name;\r\n      }\r\n    }\r\n    return \"Brand\";\r\n  };\r\n\r\n  const handleInstanceChange = (instance) => {\r\n    setSelectedInstance(instance)\r\n  }\r\n\r\n  const handleCreateLinkModalClose = () => {\r\n    setRoles([])\r\n    setShowCreateLinkModal(false)  \r\n  }\r\n\r\n  const handleCreateLinkClick = () => {\r\n    setShowCreateLinkModal(true)\r\n  }\r\n\r\n  const handleRolesChange = (options) => {\r\n    setRoles(options);\r\n  }\r\n\r\n  const handleLinkCreate = async () => {\r\n    let roleValues = ''\r\n    let coma = ''\r\n    roles.forEach(role => {\r\n      roleValues = roleValues + coma + role.value\r\n      coma = ','\r\n    })\r\n    \r\n    setIsLoading(true)\r\n    let links = await createSignUpLink(roleValues);\r\n    setIsLoading(false)\r\n\r\n    const linklist = links.map(link => {\r\n      return {\r\n        id: link.id,\r\n        link: link.link,\r\n        roles: link.role,\r\n        action: <MDBBtn color=\"blue\" size=\"sm\" onClick={\r\n          () => {\r\n            setSelectedLink(link.link)\r\n            showSendEmailModal()\r\n          }}\r\n        >Send</MDBBtn>\r\n      }\r\n    })\r\n\r\n    setLinkList(linklist)\r\n    setShowCreateLinkModal(false)  \r\n  }\r\n  \r\n  const showSendEmailModal = async () => {\r\n    setIsShowSendModal(true);\r\n  }\r\n\r\n  const handleSendEmailModalClose = async () => {\r\n    setIsShowSendModal(false);\r\n  }\r\n\r\n  const handleLinkToEmailSend = async () => {\r\n    if (!validateEmail(email)) {\r\n      alert('Email is invalid')\r\n      return\r\n    }\r\n\r\n    setIsLoading(true)\r\n    await sendSignUpLink(email, selectedLink);\r\n    setIsLoading(false)\r\n\r\n    alert(`sent to ${email} successfully!`)\r\n\r\n    setEmail('')\r\n    setIsShowSendModal(false);\r\n  }\r\n\r\n  const columns= [\r\n    {\r\n      label: '#',\r\n      field: 'id',\r\n    },\r\n    {\r\n      label: 'Link',\r\n      field: 'link',\r\n    },\r\n    {\r\n      label: 'Roles',\r\n      field: 'roles',\r\n    },\r\n    {\r\n      label: 'Action',\r\n      field: 'action',\r\n    }\r\n  ];\r\n  \r\n  const [linklist, setLinkList] = useState()\r\n\r\n  const handleEmailChange = (e) => {\r\n    setEmail(e.target.value)\r\n  }\r\n\r\n  return (\r\n    <BackgroundColorContext.Consumer>\r\n      {({ color, changeColor }) => (\r\n        <React.Fragment>\r\n          <div className=\"wrapper hunter-wrapper\">\r\n          {!isShowSidebar && (\r\n            <Button\r\n              className ={\"show-sidebar-toggle-area show-sidebar-icon\"}\r\n              onClick={handleSidebarChange}\r\n            >\r\n              <i className=\"tim-icons icon-align-left-2\"/>\r\n            </Button>\r\n          )}\r\n          {isShowSidebar && (\r\n              <Sidebar\r\n                isAdminPage={true}\r\n                routes={adminRoutes}\r\n                handleSidebarChange={handleSidebarChange}\r\n                selectedInstance={selectedInstance}\r\n                handleInstanceChange={handleInstanceChange}\r\n              />\r\n            )}\r\n            <Modal show={isShowCreateLinkModal} className=\"hunter-modal\" onHide={handleCreateLinkModalClose}>\r\n              <Modal.Header closeButton>\r\n                <Modal.Title>Create Sign Up link for users</Modal.Title>\r\n              </Modal.Header>\r\n              <Modal.Body>\r\n                <div className=\"select-multi-option\">\r\n                  <Select\r\n                    name=\"filters\"\r\n                    placeholder=\"Roles\"\r\n                    value={roles}\r\n                    onChange={handleRolesChange}\r\n                    options={optionsRole}\r\n                    isMulti={true}\r\n                  />\r\n                </div>\r\n              </Modal.Body>\r\n              <Modal.Footer className=\"hunter-modal-footer\">\r\n                <Button variant=\"primary\" onClick={handleLinkCreate}>\r\n                  Create Link\r\n                </Button>\r\n              </Modal.Footer>\r\n            </Modal>\r\n            <Modal show={isShowSendModal} className=\"hunter-modal\" onHide={handleSendEmailModalClose}>\r\n              <Modal.Header closeButton>\r\n                <Modal.Title>Send the link</Modal.Title>\r\n              </Modal.Header>\r\n              <Modal.Body>\r\n                <div className=\"form-group\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control hunter-form-control\"\r\n                    placeholder=\"Email\"\r\n                    value={email}\r\n                    onChange={(e) => { handleEmailChange(e)} }\r\n                  />\r\n                </div>\r\n              </Modal.Body>\r\n              <Modal.Footer className=\"hunter-modal-footer\">\r\n                <Button variant=\"primary\" onClick={handleLinkToEmailSend} className=\"hunter-flex-button\">\r\n                  {isLoading && (\r\n                    <span className=\"spinner-border spinner-border-sm hunter-spinner-button\" role=\"status\" aria-hidden=\"true\"></span>\r\n                  )}\r\n                  Send\r\n                </Button>\r\n              </Modal.Footer>\r\n            </Modal>\r\n            <div className={`main-panel ${!isShowSidebar ? 'full-width' : ''}`} ref={mainPanelRef} data={color}>\r\n              <AdminNavbar\r\n                brandText={getBrandText(location.pathname)}\r\n                toggleSidebar={toggleSidebar}\r\n                sidebarOpened={sidebarOpened}\r\n              />\r\n              <div className=\"hunter-page-container\">\r\n                <div className=\"hunter-page-title\">\r\n                  <h3>Link Manage</h3>\r\n                </div>\r\n                <div className=\"col-sm-6 hunter-mdb-table-container\">\r\n                  <div className=\"create-button-bar\">\r\n                    <MDBBtn color=\"blue\" size=\"md\" onClick={handleCreateLinkClick}>Create</MDBBtn>                    \r\n                  </div>\r\n                  <MDBTable btn>\r\n                    <MDBTableHead columns={columns} color=\"dark\"/>\r\n                    <MDBTableBody rows={linklist} className=\"hunter-mdb-table-body\"/>\r\n                  </MDBTable>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </React.Fragment>\r\n      )}\r\n    </BackgroundColorContext.Consumer>\r\n  );\r\n}\r\n\r\nexport default LinkManage;","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport Select from 'react-select'\r\nimport { Link } from \"react-router-dom\";\r\nimport \"react-datetime/css/react-datetime.css\";\r\nimport {\r\n  Collapse,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  UncontrolledDropdown,\r\n  NavLink,\r\n  Nav,\r\n} from \"reactstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { MDBDataTableV5 } from 'mdbreact';\r\nimport { useAuth } from 'contexts/authContext';\r\nimport { getAllSymbols, filterPriceData } from 'api/Api'\r\nimport { currentDateString } from 'utils/helper'\r\nimport MultiRangeSlider from 'components/MultiRangeSlider/MultiRangeSlider'\r\n\r\nconst PriceDataTable = () => {\r\n  const auth = useAuth();\r\n  const history = useHistory();\r\n  const [collapseOpen,] = React.useState(false)\r\n  const [symbol, setSymbol] = React.useState({value: \"GOOG\", label: \"GOOG\"})\r\n  const [timeFrame, setTimeFrame] = useState({ value: \"1m\", label: \"1m\"});\r\n  const [tradeStartDate, setTradeStartDate] = useState('2021-01-01')\r\n  const [tradeEndDate, setTradeEndDate] = useState(currentDateString())\r\n  const [optionsSymbol, setOptionsSymbol] = useState([])\r\n  const [optionsTimeFrame] = useState([\r\n    { value: \"1m\", label: \"1m\" },\r\n    { value: \"1h\", label: \"1h\" },\r\n    { value: \"1d\", label: \"1d\" }\r\n  ])\r\n\r\n  const [selectedSymbolType, setSelectedSymbolType] = useState({\r\n    value: 'stock',\r\n    label: 'stock'\r\n  })\r\n\r\n  const optionsSymbolType = [\r\n    {\r\n      value: 'stock', label: 'stock',\r\n    },\r\n    {\r\n      value: 'crypto', label: 'crypto',\r\n    }\r\n  ]\r\n\r\n  const hearder_columns = useMemo(() => {\r\n    return [\r\n    {\r\n      label: 'O',\r\n      field: 'o',\r\n      width: 200,\r\n      attributes: {\r\n        'aria-controls': 'DataTable',\r\n        'aria-label': 'symbol',\r\n      },\r\n    },\r\n    {\r\n      label: 'H',\r\n      field: 'h',\r\n      width: 200,\r\n    },\r\n    {\r\n      label: 'C',\r\n      field: 'c',\r\n      width: 200,\r\n    },\r\n    {\r\n      label: 'L',\r\n      field: 'l',\r\n      width: 200,\r\n    },  \r\n    {\r\n      label: 'V',\r\n      field: 'v',\r\n      width: 200,\r\n    },   \r\n    {\r\n      label: 'Date',\r\n      field: 'date',\r\n      sort: 'price',\r\n    },\r\n  ]}, [])\r\n\r\n  const [datatable, setDatatable] = React.useState({\r\n    columns: hearder_columns,\r\n    rows: [\r\n    ],\r\n  });\r\n\r\n  useEffect(() => {\r\n    const getPriceTrades = async (symbol, timeFrame, tradeStartDate, tradeEndDate) => {\r\n      const trades_data = await filterPriceData(selectedSymbolType.value, symbol, timeFrame, tradeStartDate, tradeEndDate);\r\n      setDatatable({\r\n        columns: hearder_columns,\r\n        rows: trades_data\r\n      })\r\n    }\r\n\r\n    getPriceTrades(symbol.value, timeFrame.value, tradeStartDate, tradeEndDate)\r\n\r\n  }, [selectedSymbolType, symbol, timeFrame, hearder_columns, tradeStartDate, tradeEndDate])\r\n\r\n  useEffect(() => {\r\n      const getSymbols = async () => {\r\n      const res = await getAllSymbols()\r\n      setOptionsSymbol(res)\r\n    }\r\n    getSymbols()\r\n  }, [setOptionsSymbol])\r\n\r\n  const handleSignout = () => {\r\n    auth.signout()\r\n    history.push('/login')\r\n  }\r\n\r\n  const handleSymbolChange = (e) => {\r\n    setSymbol(e)\r\n  }\r\n  \r\n  const handleTimeFrameChange = (e) => {\r\n    setTimeFrame(e)\r\n  }\r\n  \r\n  const selectDateRange = (startDate, endDate) => {\r\n    setTradeStartDate(startDate)\r\n    setTradeEndDate(endDate)\r\n  }\r\n\r\n  const handleSymbolTypeChange = (e) => {\r\n    setSelectedSymbolType(e)\r\n  }\r\n\r\n  return (\r\n    <div className=\"hunter-chart-container\">\r\n      <nav className=\"navbar navbar-expand navbar-dark bg-dark hunter-nav-bar\">\r\n        <div className=\"logo-title\">\r\n          <a href=\"/chart\" className=\"hunter-navbar-brand\">\r\n            Violette AM - Client Portal\r\n          </a>\r\n        </div>\r\n        <div className=\"navbar-nav mr-auto\">\r\n          <li className=\"nav-item\">\r\n            <Link to={\"/chart\"} className=\"nav-link\"></Link>\r\n          </li>\r\n        </div>\r\n        <Collapse navbar isOpen={collapseOpen}>\r\n            <Nav className=\"ml-auto\" navbar>\r\n              <UncontrolledDropdown nav>\r\n                <DropdownToggle\r\n                  caret\r\n                  color=\"default\"\r\n                  nav\r\n                  onClick={(e) => e.preventDefault()}\r\n                >\r\n                  <div className=\"photo\">\r\n                    <img\r\n                      alt=\"...\"\r\n                      src={require(\"assets/img/anime3.png\").default}\r\n                    />\r\n                  </div>\r\n                  <p className=\"d-lg-none\">Log out</p>\r\n                </DropdownToggle>\r\n                <DropdownMenu className=\"dropdown-navbar\" right tag=\"ul\">\r\n                  {/* <NavLink tag=\"li\">\r\n                    <DropdownItem className=\"nav-item\">Profile</DropdownItem>\r\n                  </NavLink>\r\n                  <NavLink tag=\"li\">\r\n                    <DropdownItem className=\"nav-item\">Settings</DropdownItem>\r\n                  </NavLink> */}\r\n                  <DropdownItem divider tag=\"li\" />\r\n                  <NavLink tag=\"li\">\r\n                    <DropdownItem className=\"nav-item\" onClick={() => {handleSignout()}}>Log out</DropdownItem>\r\n                  </NavLink>\r\n                </DropdownMenu>\r\n              </UncontrolledDropdown>\r\n              <li className=\"separator d-lg-none\" />\r\n            </Nav>\r\n          </Collapse>    \r\n      </nav>\r\n      <div className=\"col-sm-12 hunter-data-table-container\">\r\n        <div className=\"hunter-data-table-title\">\r\n          Price Data Table\r\n        </div>\r\n        <div className=\"hunter-search-filter-area\">\r\n          {/* <div className=\"select-option\">\r\n            <Select\r\n              value={selectedSymbolType}\r\n              onChange={handleSymbolTypeChange}\r\n              options={optionsSymbolType}\r\n              placeholder=\"Select Symbol Type\"\r\n            />\r\n          </div> */}\r\n          <div className=\"select-option\">\r\n            <Select\r\n              value={symbol}\r\n              onChange={handleSymbolChange}\r\n              options={optionsSymbol}\r\n              placeholder=\"Symbol\"\r\n            />\r\n          </div>\r\n          <div className=\"select-option\">\r\n            <Select\r\n              value={timeFrame}\r\n              onChange={handleTimeFrameChange}\r\n              options={optionsTimeFrame}\r\n              placeholder=\"Time Frame\"\r\n            />\r\n          </div>\r\n          <div className='input-group date hunter-date-time-picker' id='datetimepicker1'>\r\n            <MultiRangeSlider\r\n              selectDateRange={selectDateRange}\r\n            />\r\n          </div>\r\n        </div>\r\n        <MDBDataTableV5 \r\n          hover\r\n          maxHeight=\"500px\"\r\n          entriesOptions={[10, 25, 50, 100]}\r\n          entries={10}\r\n          pagesAmount={4}\r\n          data={datatable}\r\n          // searchTop searchBottom={false}\r\n          // bordered={true}\r\n          dark={true}\r\n          noBottomColumns={true}\r\n          small={true}\r\n          striped={true}\r\n          scrollY={true}\r\n        />;\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PriceDataTable;\r\n","import React from \"react\";\r\nimport {\r\n  Button\r\n} from \"reactstrap\";\r\n\r\nimport Sidebar from \"components/Sidebar/Sidebar.js\";\r\nimport PriceDataTable from \"components/Datatable/PriceDataTable\"\r\n\r\nimport { routes } from \"routes.js\";\r\n\r\nimport { BackgroundColorContext } from \"contexts/BackgroundColorContext\";\r\n\r\nfunction PriceData() {\r\n  const [isShowSidebar, setShowSidebar] = React.useState(false);\r\n  const [selectedInstance, setSelectedInstance] = React.useState('trade_data');\r\n  \r\n  const handleSidebarChange = () => {\r\n    setShowSidebar(!isShowSidebar);\r\n  };\r\n\r\n  const handleInstanceChange = (instance) => {\r\n    setSelectedInstance(instance)\r\n  }\r\n  \r\n  return (\r\n    <BackgroundColorContext.Consumer>\r\n      {({ color }) => (\r\n        <React.Fragment>\r\n          <div className=\"wrapper hunter-wrapper\">\r\n          {!isShowSidebar && (\r\n            <Button\r\n              className ={\"show-sidebar-toggle-area show-sidebar-icon\"}\r\n              onClick={handleSidebarChange}\r\n            >\r\n              <i className=\"tim-icons icon-align-left-2\"/>\r\n            </Button>\r\n          )}\r\n          {isShowSidebar && (\r\n              <Sidebar\r\n                isAdminPage={false}\r\n                routes={routes}\r\n                subInstance={'pricedatatable'}\r\n                selectedInstance={selectedInstance}\r\n                handleSidebarChange={handleSidebarChange}\r\n                handleInstanceChange={handleInstanceChange}\r\n              />\r\n            )}\r\n            <div className=\"col-sm-12\">\r\n                <PriceDataTable />\r\n            </div>\r\n          </div>\r\n        </React.Fragment>\r\n      )}\r\n    </BackgroundColorContext.Consumer>\r\n  );\r\n}\r\n\r\nexport default PriceData;","import React, { useCallback, useState, useEffect, useMemo } from \"react\";\r\nimport Select from 'react-select'\r\nimport { Link } from \"react-router-dom\";\r\nimport \"react-datetime/css/react-datetime.css\";\r\nimport {\r\n  Collapse,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  UncontrolledDropdown,\r\n  NavLink,\r\n  Nav,\r\n} from \"reactstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { MDBDataTableV5 } from 'mdbreact';\r\nimport { useAuth } from 'contexts/authContext';\r\nimport { getAllSymbols, filterTradesData } from 'api/Api'\r\nimport { currentDateString } from 'utils/helper'\r\nimport MultiRangeSlider from 'components/MultiRangeSlider/MultiRangeSlider'\r\n\r\nconst TradeDataTable = () => {\r\n  const auth = useAuth();\r\n  const history = useHistory();\r\n  const [collapseOpen,] = React.useState(false)\r\n  const [symbol, setSymbol] = React.useState([])\r\n  const [macroStrategy, setMacroStrategy] = useState();\r\n  const [microStrategy, setMicroStrategy] = useState()\r\n  const [tradeStartDate, setTradeStartDate] = useState('2021-01-01')\r\n  const [tradeEndDate, setTradeEndDate] = useState(currentDateString())\r\n  const [strategyList, setStrategyList] = useState([]);\r\n  \r\n  const [optionsStrategy, setOptionsStrategy] = useState([])\r\n  const [optionsMacroStrategy, setOptionsMacroStrategy] = useState([])\r\n\r\n  const [optionsMicroStrategy, setOptionsMicroStrategy] = useState([])\r\n  \r\n  const [optionsSymbol, setOptionsSymbol] = useState([])\r\n\r\n  const [selectedSymbolType, setSelectedSymbolType] = useState({\r\n    value: 'stock',\r\n    label: 'stock'\r\n  })\r\n\r\n  const optionsSymbolType = [\r\n    {\r\n      value: 'stock', label: 'stock',\r\n    },\r\n    {\r\n      value: 'crypto', label: 'crypto',\r\n    }\r\n  ]\r\n\r\n  const hearder_columns = useMemo(() => {\r\n    return [\r\n    {\r\n      label: 'Symbol',\r\n      field: 'symbol',\r\n      width: 150,\r\n      attributes: {\r\n        'aria-controls': 'DataTable',\r\n        'aria-label': 'symbol',\r\n      },\r\n    },\r\n    {\r\n      label: 'Strategy',\r\n      field: 'strategy',\r\n      width: 200,\r\n    },\r\n    {\r\n      label: 'Trade Date',\r\n      field: 'date',\r\n      sort: 'date',\r\n      width: 150,\r\n    },\r\n    {\r\n      label: 'Side',\r\n      field: 'side',\r\n      width: 270,\r\n    },  \r\n    {\r\n      label: 'Quantity',\r\n      field: 'quantity',\r\n      sort: 'quantity',\r\n      width: 100,\r\n    },   \r\n    {\r\n      label: 'Price',\r\n      field: 'price',\r\n      sort: 'price',\r\n      width: 100,\r\n    },\r\n  ]}, [])\r\n\r\n  const [datatable, setDatatable] = React.useState({\r\n    columns: hearder_columns,\r\n    rows: [\r\n    ],\r\n  });\r\n\r\n  const getStrategyList = useCallback(\r\n    () => {\r\n      fetch(process.env.REACT_APP_BACKEND_URL + \"/api/get_strategy_list\")\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          const strategyOptions = data.result.map((o => {\r\n            return {\r\n              value: o.macro,\r\n              label: o.macro,\r\n            }\r\n          }))\r\n          setOptionsStrategy(strategyOptions);\r\n          if (data.result.length) {\r\n            setStrategyList(data.result);\r\n            data.result.forEach((item) => {\r\n              if (item.macro === 'heikfilter') {\r\n                const microStrategyOptions = item.micro.map(o => {\r\n                  return {\r\n                    value: o,\r\n                    label: o,\r\n                  }\r\n                })\r\n                setOptionsMicroStrategy( microStrategyOptions )\r\n                setMicroStrategy(microStrategyOptions[0])\r\n\r\n                const symbolOptions = item.symbols.map(o => {\r\n                  return {\r\n                    value: o,\r\n                    label: o,\r\n                  }\r\n                })\r\n                setOptionsSymbol(symbolOptions)\r\n                // setSymbol(symbolOptions[0])\r\n              }\r\n            })\r\n          }\r\n        })   \r\n    },\r\n    [],\r\n  )\r\n\r\n  useEffect(() => {\r\n    getStrategyList()\r\n  }, [getStrategyList])\r\n\r\n  useEffect(() => {\r\n    const get_trades = async (symbol, macroStrat, microStrat, tradeStartDate, tradeEndDate) => {\r\n      const trades_data = await filterTradesData(selectedSymbolType.value, symbol, macroStrat, microStrat, tradeStartDate, tradeEndDate);\r\n      setDatatable({\r\n        columns: hearder_columns,\r\n        rows: trades_data\r\n      })\r\n    }\r\n\r\n    get_trades(\r\n      symbol ? symbol.value : '',\r\n      macroStrategy ? macroStrategy.value : '',\r\n      microStrategy ? microStrategy.value : '', \r\n      tradeStartDate, tradeEndDate)\r\n  }, [selectedSymbolType, symbol, macroStrategy, microStrategy, hearder_columns, tradeStartDate, tradeEndDate])\r\n\r\n  useEffect(() => {\r\n      const getSymbols = async () => {\r\n      const res = await getAllSymbols()\r\n      setOptionsSymbol(res)\r\n    }\r\n    getSymbols()\r\n  }, [setOptionsSymbol])\r\n\r\n  const handleSignout = () => {\r\n    auth.signout()\r\n    history.push('/login')\r\n  }\r\n\r\n  const handleSymbolChange = (e) => {\r\n    setSymbol(e)\r\n  }\r\n\r\n  const handleSymbolTypeChange = (e) => {\r\n    setSelectedSymbolType(e)\r\n  }\r\n  \r\n  const handleMacroStrategy = (e) => {\r\n    if (e) {\r\n      if (strategyList.length) {\r\n        strategyList.forEach((item) => {\r\n          if (item.macro === e.value) {\r\n            const microStrategyOptions = item.micro.map(o => {\r\n              return {\r\n                value: o,\r\n                label: o,\r\n              }\r\n            })\r\n            setOptionsMicroStrategy( microStrategyOptions )\r\n\r\n            setMicroStrategy(microStrategyOptions[0])\r\n\r\n            const symbolOptions = item.symbols.map(o => {\r\n              return {\r\n                value: o,\r\n                label: o,\r\n              }\r\n            })\r\n            setOptionsSymbol(symbolOptions)\r\n            // setSymbol(symbolOptions[0])\r\n            // setSymbol({value: 'MSFT', label: 'MSFT'})\r\n          }\r\n        })\r\n      }\r\n      setMacroStrategy(e)\r\n    }\r\n\r\n  }\r\n  \r\n  const handleMicroStrategy = (e) => {\r\n    setMicroStrategy(e)\r\n  }\r\n\r\n  const selectDateRange = (startDate, endDate) => {\r\n    setTradeStartDate(startDate)\r\n    setTradeEndDate(endDate)\r\n  }\r\n\r\n  return (\r\n    <div className=\"hunter-chart-container\">\r\n      <nav className=\"navbar navbar-expand navbar-dark bg-dark hunter-nav-bar\">\r\n        <div className=\"logo-title\">\r\n          <a href=\"/chart\" className=\"hunter-navbar-brand\">\r\n            Violette AM - Client Portal\r\n          </a>\r\n        </div>\r\n        <div className=\"navbar-nav mr-auto\">\r\n          <li className=\"nav-item\">\r\n            <Link to={\"/chart\"} className=\"nav-link\"></Link>\r\n          </li>\r\n        </div>\r\n        <Collapse navbar isOpen={collapseOpen}>\r\n            <Nav className=\"ml-auto\" navbar>\r\n              <UncontrolledDropdown nav>\r\n                <DropdownToggle\r\n                  caret\r\n                  color=\"default\"\r\n                  nav\r\n                  onClick={(e) => e.preventDefault()}\r\n                >\r\n                  <div className=\"photo\">\r\n                    <img\r\n                      alt=\"...\"\r\n                      src={require(\"assets/img/anime3.png\").default}\r\n                    />\r\n                  </div>\r\n                  <p className=\"d-lg-none\">Log out</p>\r\n                </DropdownToggle>\r\n                <DropdownMenu className=\"dropdown-navbar\" right tag=\"ul\">\r\n                  {/* <NavLink tag=\"li\">\r\n                    <DropdownItem className=\"nav-item\">Profile</DropdownItem>\r\n                  </NavLink>\r\n                  <NavLink tag=\"li\">\r\n                    <DropdownItem className=\"nav-item\">Settings</DropdownItem>\r\n                  </NavLink> */}\r\n                  <DropdownItem divider tag=\"li\" />\r\n                  <NavLink tag=\"li\">\r\n                    <DropdownItem className=\"nav-item\" onClick={() => {handleSignout()}}>Log out</DropdownItem>\r\n                  </NavLink>\r\n                </DropdownMenu>\r\n              </UncontrolledDropdown>\r\n              <li className=\"separator d-lg-none\" />\r\n            </Nav>\r\n          </Collapse>    \r\n      </nav>\r\n      <div className=\"col-sm-12 hunter-data-table-container\">\r\n        <div className=\"hunter-data-table-title\">\r\n          Trade Data Table\r\n        </div>\r\n        <div className=\"hunter-search-filter-area\">\r\n          {/* <div className=\"select-option\">\r\n            <Select\r\n              value={selectedSymbolType}\r\n              onChange={handleSymbolTypeChange}\r\n              options={optionsSymbolType}\r\n              placeholder=\"Select Symbol Type\"\r\n            />\r\n          </div> */}\r\n          <div className=\"select-option\">\r\n            <Select\r\n              value={symbol}\r\n              onChange={handleSymbolChange}\r\n              options={optionsSymbol}\r\n              placeholder=\"Symbol\"\r\n            />\r\n          </div>\r\n          <div className=\"select-option\">\r\n            <Select\r\n              value={macroStrategy}\r\n              onChange={handleMacroStrategy}\r\n              options={optionsStrategy}\r\n              placeholder=\"Macro Strategy\"\r\n            />\r\n          </div>\r\n          <div className=\"select-option\">\r\n            <Select\r\n              value={microStrategy}\r\n              onChange={handleMicroStrategy}\r\n              options={optionsMicroStrategy}\r\n              placeholder=\"Micro Strategy\"\r\n            />\r\n          </div>\r\n          <div className='input-group date hunter-date-time-picker' id='datetimepicker1'>\r\n            <MultiRangeSlider\r\n              selectDateRange={selectDateRange}\r\n            />\r\n          </div>\r\n        </div>\r\n        <MDBDataTableV5 \r\n          hover\r\n          maxHeight=\"500px\"\r\n          entriesOptions={[10, 25, 50, 100]}\r\n          entries={10}\r\n          pagesAmount={4}\r\n          data={datatable}\r\n          // searchTop searchBottom={false}\r\n          // bordered={true}\r\n          dark={true}\r\n          noBottomColumns={true}\r\n          small={true}\r\n          striped={true}\r\n          scrollY={true}\r\n        />;\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TradeDataTable;\r\n","import React from \"react\";\r\nimport {\r\n  Button\r\n} from \"reactstrap\";\r\n\r\nimport Sidebar from \"components/Sidebar/Sidebar.js\";\r\nimport TradeDataTable from \"components/Datatable/TradeDataTable\"\r\n\r\nimport { routes } from \"routes.js\";\r\n\r\nimport { BackgroundColorContext } from \"contexts/BackgroundColorContext\";\r\n\r\nfunction TradeData() {\r\n  const [isShowSidebar, setShowSidebar] = React.useState(false);\r\n  const [selectedInstance, setSelectedInstance] = React.useState('trade_data');\r\n  \r\n  const handleSidebarChange = () => {\r\n    setShowSidebar(!isShowSidebar);\r\n  };\r\n\r\n  const handleInstanceChange = (instance) => {\r\n    setSelectedInstance(instance)\r\n  }\r\n  \r\n  return (\r\n    <BackgroundColorContext.Consumer>\r\n      {({ color }) => (\r\n        <React.Fragment>\r\n          <div className=\"wrapper hunter-wrapper\">\r\n            {!isShowSidebar && (\r\n              <Button\r\n                className ={\"show-sidebar-toggle-area show-sidebar-icon\"}\r\n                onClick={handleSidebarChange}\r\n              >\r\n                <i className=\"tim-icons icon-align-left-2\"/>\r\n              </Button>\r\n            )}\r\n            {isShowSidebar && (\r\n              <Sidebar\r\n                isAdminPage={false}\r\n                routes={routes}\r\n                subInstance={'tradedatatable'}\r\n                selectedInstance={selectedInstance}\r\n                handleSidebarChange={handleSidebarChange}\r\n                handleInstanceChange={handleInstanceChange}\r\n              />\r\n            )}\r\n            <div className=\"col-sm-12\">\r\n                <TradeDataTable />\r\n            </div>\r\n          </div>\r\n        </React.Fragment>\r\n      )}\r\n    </BackgroundColorContext.Consumer>\r\n  );\r\n}\r\n\r\nexport default TradeData;","import React, { useCallback, useState, useEffect, useMemo } from \"react\";\r\nimport MultiRangeSlider from 'components/MultiRangeSlider/MultiRangeSlider'\r\nimport { Link } from \"react-router-dom\";\r\nimport \"react-datetime/css/react-datetime.css\";\r\nimport {\r\n  Collapse,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  UncontrolledDropdown,\r\n  NavLink,\r\n  Nav,\r\n} from \"reactstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { MDBDataTableV5 } from 'mdbreact';\r\nimport { useAuth } from 'contexts/authContext';\r\nimport { filterTradesData } from 'api/Api'\r\nimport { currentDateString } from 'utils/helper'\r\n\r\nconst HybridViewTable = (props) => {\r\n  const { symbol, macroStrategy, microStrategy } = props;\r\n  const auth = useAuth();\r\n  const history = useHistory();\r\n  const [collapseOpen,] = React.useState(false)\r\n  const [tradeStartDate, setTradeStartDate] = useState('2021-01-01')\r\n  const [tradeEndDate, setTradeEndDate] = useState(currentDateString())\r\n\r\n  const hearder_columns = useMemo(() => {\r\n    return [\r\n    {\r\n      label: 'Symbol',\r\n      field: 'symbol',\r\n      width: 150,\r\n      attributes: {\r\n        'aria-controls': 'DataTable',\r\n        'aria-label': 'symbol',\r\n      },\r\n    },\r\n    {\r\n      label: 'Strategy',\r\n      field: 'strategy',\r\n      width: 200,\r\n    },\r\n    {\r\n      label: 'Trade Date',\r\n      field: 'date',\r\n      sort: 'date',\r\n      width: 150,\r\n    },\r\n    {\r\n      label: 'Side',\r\n      field: 'side',\r\n      width: 270,\r\n    },  \r\n    {\r\n      label: 'Quantity',\r\n      field: 'quantity',\r\n      sort: 'quantity',\r\n      width: 100,\r\n    },   \r\n    {\r\n      label: 'Price',\r\n      field: 'price',\r\n      sort: 'price',\r\n      width: 100,\r\n    },\r\n  ]}, [])\r\n\r\n  const [datatable, setDatatable] = React.useState({\r\n    columns: hearder_columns,\r\n    rows: [\r\n    ],\r\n  });\r\n\r\n  useEffect(() => {\r\n    const get_trades = async (symbol, macroStrat, microStrat, tradeStartDate, tradeEndDate) => {\r\n      const trades_data = await filterTradesData(symbol, macroStrat, microStrat, tradeStartDate, tradeEndDate);\r\n      setDatatable({\r\n        columns: hearder_columns,\r\n        rows: trades_data\r\n      })\r\n    }\r\n\r\n    get_trades(\r\n      symbol ? symbol.value : '',\r\n      macroStrategy ? macroStrategy.value : '',\r\n      microStrategy ? microStrategy.value : '', \r\n      tradeStartDate, tradeEndDate)\r\n  }, [symbol, macroStrategy, microStrategy, hearder_columns, tradeStartDate, tradeEndDate])\r\n\r\n  const handleSignout = () => {\r\n    auth.signout()\r\n    history.push('/login')\r\n  }\r\n\r\n  const selectDateRange = (startDate, endDate) => {\r\n    setTradeStartDate(startDate)\r\n    setTradeEndDate(endDate)\r\n  }\r\n\r\n  return (\r\n    <div className=\"hunter-chart-container\">\r\n      <div className=\"col-sm-12 hunter-data-table-container\">\r\n        <div className=\"hunter-data-table-title\">\r\n          Trade Data Table\r\n        </div>\r\n        <div className=\"hunter-search-filter-area\">\r\n          <div className='date hunter-item-chart hunter-date-time-picker mb-3' id='datetimepicker1'>\r\n            <MultiRangeSlider\r\n              selectDateRange={selectDateRange}\r\n            />\r\n          </div>\r\n        </div>\r\n        <MDBDataTableV5 \r\n          hover\r\n          maxHeight=\"500px\"\r\n          entriesOptions={[10, 25, 50, 100]}\r\n          entries={10}\r\n          pagesAmount={4}\r\n          data={datatable}\r\n          dark={true}\r\n          noBottomColumns={true}\r\n          small={true}\r\n          striped={true}\r\n          scrollY={true}\r\n        />;\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HybridViewTable;\r\n","import React, { useCallback, useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Select from 'react-select'\r\nimport \"react-datetime/css/react-datetime.css\";\r\nimport StockChart from \"../stock-chart/StockChart\"\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  Collapse,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  UncontrolledDropdown,\r\n  NavLink,\r\n  Nav,\r\n} from \"reactstrap\";\r\nimport { useAuth } from 'contexts/authContext';\r\nimport disableScroll from 'disable-scroll';\r\nimport HybridViewTable from \"./HybridViewTable\"\r\n\r\nconst HybridViewChartTable = (props) => {\r\n\r\n  const auth = useAuth();\r\n  const { selectedInstance } = props\r\n  const history = useHistory();\r\n  const [symbol, setSymbol] = useState({ value: 'MSFT', label: 'MSFT' });\r\n  const [indicators, setIndicators] = useState([]);\r\n  const [isShowMicro, setIsShowMicro] = useState(true);\r\n  const [symbolList, setSymbolList] = useState([])\r\n  const [isGetSymbolList] = useState(false)\r\n  const [collapseOpen,] = React.useState(false)\r\n  const [selectedViewType, setSelectedViewType] = useState({ value: 'charting', label: 'Charting' });\r\n  const [microStrategy, setMicroStrategy] = useState({ value: '2m', label: '2m' });\r\n  const [strategy, setStrategy] = useState({ value: 'heikfilter', label: 'heikfilter' });\r\n  const [strategyList, setStrategyList] = useState([]);\r\n  const [user] = useState(JSON.parse(localStorage.getItem('user-info')));\r\n  const [extendMarketTime, setExtendMarketTime] = useState(\r\n    {\r\n      value: 'markettime', label: 'market time',\r\n    }\r\n  );\r\n  \r\n  const [optionsViewTypes, setOptionsViewTypes] = useState([\r\n    { value: 'charting', label: 'Charting' },\r\n    { value: 'performance', label: 'Performance' },\r\n  ])\r\n\r\n  const [optionsMicroStrategy, setOptionsMicroStrategy] = useState([])\r\n  \r\n  const [optionsStratgy, setOptionsStrategy] = useState([])\r\n\r\n  const [optionsIndicator, setOptionsIndicator] = useState([\r\n    {\r\n      value: 'VOLUME', label: 'VOLUME',\r\n    },\r\n    {\r\n      value: 'RSI', label: 'RSI',\r\n    },\r\n    {\r\n      value: 'RSI2', label: 'RSI2',\r\n    },\r\n    {\r\n      value: 'RSI3', label: 'RSI3',\r\n    },\r\n    {\r\n      value: 'HEIK1', label: 'HEIK1',\r\n    },\r\n    {\r\n      value: 'HEIK2', label: 'HEIK2',\r\n    }\r\n  ]);\r\n  \r\n  const [optionsMarketTime, setOptionsMarketTime] = useState([\r\n    {\r\n      value: 'markettime', label: 'market time',\r\n    },\r\n    {\r\n      value: 'extend_markettime', label: 'extend market time',\r\n    }\r\n  ]);\r\n\r\n  const getStrategyList = useCallback(\r\n    () => {\r\n      fetch(process.env.REACT_APP_BACKEND_URL + \"/api/get_strategy_list\")\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          setStrategyList(data.result);\r\n          const strategyOptions = data.result.map((o => {\r\n            return {\r\n              value: o.macro,\r\n              label: o.macro,\r\n            }\r\n          }))\r\n          setOptionsStrategy(strategyOptions);\r\n          if (data.result.length) {\r\n            data.result.forEach((item) => {\r\n              if (item.macro === 'heikfilter') {\r\n                const microStrategyOptions = item.micro.map(o => {\r\n                  return {\r\n                    value: o,\r\n                    label: o,\r\n                  }\r\n                })\r\n                setOptionsMicroStrategy( microStrategyOptions )\r\n\r\n                const symbolOptions = item.symbols.map(o => {\r\n                  return {\r\n                    value: o,\r\n                    label: o,\r\n                  }\r\n                })\r\n                setSymbolList(symbolOptions)\r\n              }\r\n            })\r\n          }\r\n        })   \r\n    },\r\n    [],\r\n  )\r\n\r\n  const get_tables = useCallback(\r\n    (strategy) => {\r\n      const requestOptions = {\r\n        method: 'POST',\r\n        headers: {'Content-Type': 'application/json'},\r\n        body: JSON.stringify({\r\n          'strategy': strategy\r\n        })\r\n      };\r\n      \r\n      fetch(process.env.REACT_APP_BACKEND_URL + \"/api/tables\", requestOptions)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          let temp_data = []\r\n          data.tables.map((x) => {\r\n            temp_data.push({\r\n              value: x,\r\n              label: x\r\n            });\r\n            return null\r\n          })\r\n          setSymbolList(temp_data)\r\n          setSymbol(temp_data[0])\r\n        })\r\n    },\r\n    [],\r\n  )\r\n\r\n  useEffect(() => {\r\n    disableScroll.on();\r\n    if (user.is_admin || user?.role.length) {\r\n      if(!isGetSymbolList) {\r\n        getStrategyList();\r\n      }  \r\n    }\r\n    return () => {\r\n      disableScroll.off();\r\n    }\r\n  }, [getStrategyList, isGetSymbolList, user])\r\n  \r\n  useEffect(() => {\r\n    const handleInstanceChange = (value) => {\r\n      if (value === 'live_trading') {\r\n        setIsShowMicro(false);\r\n        setStrategy({ value: 'no_strategy', label: 'No Strategy' });\r\n        setOptionsStrategy([\r\n          { value: 'no_strategy', label: 'No Srategy' },\r\n        ])\r\n        return\r\n      }\r\n      getStrategyList()\r\n      setIsShowMicro(true);\r\n    }\r\n    if (!user.is_admin && !user?.role.length) {\r\n      return;\r\n    }\r\n    handleInstanceChange(selectedInstance)\r\n    if(selectedInstance === 'live_trading') {\r\n      get_tables('no_strategy');    \r\n    }\r\n    if (selectedInstance === 'optimization') {\r\n      setOptionsViewTypes([\r\n        { value: 'optimization ', label: 'Optimization' },\r\n      ])\r\n    } else {\r\n      setOptionsViewTypes([\r\n        { value: 'charting', label: 'Charting' },\r\n        { value: 'performance', label: 'Performance' },\r\n      ])\r\n    }\r\n  }, [selectedInstance, getStrategyList, get_tables, user.is_admin, user.role?.length])\r\n\r\n  const handleViewTypeChange = (value) => {\r\n    setSelectedViewType(value)\r\n    if (value.value === 'performance') {\r\n      const locationState = {\r\n        selectedInstance,\r\n        viewType: value,\r\n        initStrategy: strategy,\r\n        initMicroStrategy: { value: '2m', label: '2m' },\r\n        initIndicators: indicators,\r\n        initSymbol: symbol,\r\n      }\r\n      if (value) {\r\n        history.push({\r\n          state: locationState,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  const handlSymbolChange = (e) => {\r\n    if (e) {\r\n      setSymbol(e)\r\n    }\r\n  }\r\n\r\n  const handleMarketTimeChange = (e) => {\r\n    if (e) {\r\n      setExtendMarketTime(e)\r\n    }\r\n  }\r\n\r\n  const handleStrategy = async (e) => {\r\n    if (e) {\r\n      if (strategyList.length) {\r\n        strategyList.forEach((item) => {\r\n          if (item.macro === e.value) {\r\n            const microStrategyOptions = item.micro.map(o => {\r\n              return {\r\n                value: o,\r\n                label: o,\r\n              }\r\n            })\r\n            setOptionsMicroStrategy( microStrategyOptions )\r\n\r\n            const is_2m = microStrategyOptions.filter((o => o.value === '2m'))\r\n\r\n            setMicroStrategy(microStrategyOptions[0])\r\n            \r\n            const symbolOptions = item.symbols.map(o => {\r\n              return {\r\n                value: o,\r\n                label: o,\r\n              }\r\n            })\r\n            setSymbolList(symbolOptions)\r\n            setSymbol({value: 'MSFT', label: 'MSFT'})\r\n          }\r\n        })\r\n      }\r\n      setStrategy(e)\r\n    }\r\n  }\r\n  \r\n  const handleMicroStrategyChange = (e) => {\r\n    if (e) {\r\n      setMicroStrategy(e)\r\n    }\r\n  }\r\n  \r\n  const handleIndicatorsChange = (options) => {\r\n    setIndicators(options);\r\n  }\r\n\r\n  const calculateGridColumn = () => {\r\n    return 12\r\n  }\r\n\r\n  const handleSignout = () => {\r\n    auth.signout()\r\n    history.push('/login')\r\n  }\r\n\r\n  const displayChart = () => {\r\n    return (\r\n      <div className={`row full-height`}>\r\n        <div className={`col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          {microStrategy && symbol && (\r\n            < StockChart \r\n              extendMarketTime={extendMarketTime.value}\r\n              selectedInstance={selectedInstance}\r\n              selectedTradeDB='heikfilter-2mins-trades'\r\n              chartPeriod='20D 2min'\r\n              symbol={symbol.value}\r\n              indicators={indicators}\r\n              strategy={strategy}\r\n              isHomePage={true}\r\n              chartColumn={1}\r\n              microStrategy={microStrategy.value}\r\n              startDate={null}\r\n              endDate={null}\r\n            />\r\n          )}\r\n        </div>\r\n        <div className={`col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          {microStrategy && symbol && (\r\n            < StockChart \r\n            extendMarketTime={extendMarketTime.value}\r\n            selectedInstance={selectedInstance}\r\n            selectedTradeDB='heikfilter-12mins-trades'\r\n            chartPeriod='20D 12min'\r\n            symbol={symbol.value}\r\n            indicators={indicators}\r\n            strategy={strategy}\r\n            isHomePage={true}\r\n            chartColumn={1}\r\n            microStrategy={microStrategy.value}\r\n            startDate={null}\r\n            endDate={null}\r\n          />)}\r\n        </div>\r\n        <div className={`col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          {microStrategy && symbol && (\r\n            < StockChart\r\n              extendMarketTime={extendMarketTime.value}\r\n              selectedInstance={selectedInstance}\r\n              selectedTradeDB='heikfilter-1hour-trades'\r\n              chartPeriod='30D 1hour'\r\n              symbol={symbol.value}\r\n              indicators={indicators}\r\n              strategy={strategy}\r\n              isHomePage={true}\r\n              chartColumn={1}\r\n              microStrategy={microStrategy.value}\r\n              startDate={null}\r\n              endDate={null}\r\n            />)}\r\n        </div>\r\n        <div className={`col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          {microStrategy && symbol && (\r\n            < StockChart\r\n              extendMarketTime={extendMarketTime.value}\r\n              selectedInstance={selectedInstance}\r\n              selectedTradeDB='heikfilter-4hours-trades'\r\n              chartPeriod='90D 4hour'\r\n              symbol={symbol.value}\r\n              indicators={indicators}\r\n              strategy={strategy}\r\n              isHomePage={true}\r\n              chartColumn={1}\r\n              microStrategy={microStrategy.value}\r\n              startDate={null}\r\n              endDate={null}\r\n            />)}\r\n        </div>\r\n        <div className={`col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          {microStrategy && symbol && (\r\n            < StockChart\r\n              extendMarketTime={extendMarketTime.value}\r\n              selectedInstance={selectedInstance}\r\n              selectedTradeDB='heikfilter-12hours-trades'\r\n              chartPeriod='90D 12hour'\r\n              symbol={symbol.value}\r\n              indicators={indicators}\r\n              strategy={strategy}\r\n              isHomePage={true}\r\n              chartColumn={1}\r\n              microStrategy={microStrategy.value}\r\n              startDate={null}\r\n              endDate={null}\r\n            />)}\r\n        </div>\r\n        <div className={`col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          {microStrategy && symbol && (\r\n          < StockChart\r\n            extendMarketTime={extendMarketTime.value}\r\n            selectedInstance={selectedInstance}\r\n            selectedTradeDB='heikfilter-1day-trades'\r\n            chartPeriod='1Y 1day'\r\n            symbol={symbol.value}\r\n            indicators={indicators}\r\n            strategy={strategy}\r\n            isHomePage={true}\r\n            chartColumn={1}\r\n            microStrategy={microStrategy.value}\r\n            startDate={null}\r\n            endDate={null}\r\n          />)}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  \r\n  return (\r\n    <div className=\"hunter-chart-container\">\r\n      <nav className=\"navbar navbar-expand navbar-dark bg-dark hunter-nav-bar\">\r\n        <div className=\"logo-title\">\r\n          <a href=\"/chart\" className=\"hunter-navbar-brand\">\r\n            Violette AM - Client Portal\r\n          </a>\r\n        </div>\r\n        <div className=\"navbar-nav mr-auto\">\r\n          <li className=\"nav-item\">\r\n            <Link to={\"/chart\"} className=\"nav-link\"></Link>\r\n          </li>\r\n          {/* <div className=\"select-option\">\r\n            <Select\r\n              value={extendMarketTime}\r\n              onChange={handleMarketTimeChange}\r\n              options={optionsMarketTime}\r\n              placeholder=\"Market Time\"\r\n            />\r\n          </div> */}\r\n          <div className=\"select-option\">\r\n            <Select\r\n              value={strategy}\r\n              onChange={handleStrategy}\r\n              options={optionsStratgy}\r\n              placeholder=\"Macro Strategy\"\r\n            />\r\n          </div>\r\n          {isShowMicro && (\r\n            <div className=\"select-option\">\r\n              <Select\r\n                value={microStrategy}\r\n                onChange={handleMicroStrategyChange}\r\n                options={optionsMicroStrategy}\r\n                placeholder=\"Micro Strategy\"\r\n              />\r\n            </div>  \r\n          )}\r\n          <div className=\"select-option\">\r\n            <Select\r\n              value={symbol}\r\n              onChange={handlSymbolChange}\r\n              options={symbolList}\r\n              placeholder=\"Symbol\"\r\n            />\r\n          </div>\r\n          <div className=\"select-multi-option\">\r\n            <Select\r\n              name=\"filters\"\r\n              placeholder=\"Indicators\"\r\n              value={indicators}\r\n              onChange={handleIndicatorsChange}\r\n              options={optionsIndicator}\r\n              isMulti={true}\r\n            />\r\n          </div>\r\n        </div>\r\n        <Collapse navbar isOpen={collapseOpen}>\r\n            <Nav className=\"ml-auto\" navbar>\r\n              <UncontrolledDropdown>\r\n                <DropdownToggle\r\n                  caret\r\n                  color=\"default\"\r\n                  nav\r\n                  onClick={(e) => e.preventDefault()}\r\n                >\r\n                  <div className=\"photo\">\r\n                    <img\r\n                      alt=\"...\"\r\n                      src={require(\"assets/img/anime3.png\").default}\r\n                    />\r\n                  </div>\r\n                  <p className=\"d-lg-none\">Log out</p>\r\n                </DropdownToggle>\r\n                <DropdownMenu className=\"dropdown-navbar\" right tag=\"ul\">\r\n                  <DropdownItem divider tag=\"li\" />\r\n                  <NavLink tag=\"li\">\r\n                    <DropdownItem className=\"nav-item\" onClick={() => {\r\n                      handleSignout()\r\n                    }}>Log out</DropdownItem>\r\n                  </NavLink>\r\n                </DropdownMenu>\r\n              </UncontrolledDropdown>\r\n              <li className=\"separator d-lg-none\" />\r\n            </Nav>\r\n          </Collapse>    \r\n      </nav>\r\n      <div className=\"display-flex-j-c\">\r\n        <div className=\"graphs-container half-width dark\">\r\n          {displayChart()}\r\n        </div>\r\n        <div className=\"half-width dark\">\r\n          <HybridViewTable\r\n            symbol={symbol}\r\n            macroStrategy={strategy}\r\n            microStrategy={microStrategy}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HybridViewChartTable;","import React from 'react'\r\nimport {\r\n  Button\r\n} from \"reactstrap\";\r\nimport Sidebar from \"components/Sidebar/Sidebar.js\";\r\nimport { routes } from \"routes.js\";\r\nimport { BackgroundColorContext } from \"contexts/BackgroundColorContext\";\r\nimport HybridViewChartTable from \"components/HybridViewChartTable/HybridViewChartTable\";\r\n\r\nconst HybridView = () => {\r\n  const [isShowSidebar, setShowSidebar] = React.useState(false);\r\n  const [selectedInstance, setSelectedInstance] = React.useState('hybrid_view');\r\n  \r\n  const handleSidebarChange = () => {\r\n      setShowSidebar(!isShowSidebar);\r\n  };\r\n\r\n  const handleInstanceChange = (instance) => {\r\n      setSelectedInstance(instance)\r\n  }\r\n\r\n  return (\r\n    <BackgroundColorContext.Consumer>\r\n      {({ color }) => (\r\n        <React.Fragment>\r\n          <div className=\"wrapper hunter-wrapper\">\r\n          {!isShowSidebar && (\r\n            <Button\r\n              className ={\"show-sidebar-toggle-area show-sidebar-icon\"}\r\n              onClick={handleSidebarChange}\r\n            >\r\n              <i className=\"tim-icons icon-align-left-2\"/>\r\n            </Button>\r\n          )}\r\n          {isShowSidebar && (\r\n            <Sidebar\r\n              isAdminPage={false}\r\n              routes={routes}\r\n              subInstance={'tradedatatable'}\r\n              selectedInstance={selectedInstance}\r\n              handleSidebarChange={handleSidebarChange}\r\n              handleInstanceChange={handleInstanceChange}\r\n            />\r\n            )}\r\n            <div className=\"col-sm-12\">\r\n              <HybridViewChartTable selectedInstance={selectedInstance} />                \r\n            </div>\r\n          </div>\r\n        </React.Fragment>\r\n      )}\r\n    </BackgroundColorContext.Consumer>\r\n    );\r\n}\r\n\r\nexport default HybridView","import React from 'react';\r\nimport Select from 'react-select';\r\n\r\n\r\nconst Header = (props) => {\r\n  const { selectedHeaderNav, setSelectedHeaderNav, symbol, setSymbol, optionsSymbol } = props;\r\n\r\n  \r\n  const handleNavClicked = (item) => {\r\n    setSelectedHeaderNav(item);\r\n  }\r\n\r\n  const handleSymbolChange = (e) => {\r\n    setSymbol(e);\r\n  };\r\n\r\n  \r\n\r\n  return (\r\n    <div className=\"container custom-container\">\r\n      <div className=\"row dashboard-toolbar d-block\">\r\n        <div className=\"dashboard-toolbar-title d-flex\">\r\n          <div className=\"financial-dashboard-title\">\r\n            <span>Dashboard</span>\r\n          </div>\r\n          <div className=\"financial-dashboard-toolbar d-flex\">\r\n            <div className=\"select-option\">\r\n              <Select\r\n                value={symbol}\r\n                onChange={handleSymbolChange}\r\n                options={optionsSymbol}\r\n                placeholder=\"Symbol\"\r\n              />\r\n            </div>\r\n            <div className=\"dashboard-navbar\">\r\n              <ul className=\"nav justify-content-center\">\r\n                <li\r\n                  className={`nav-item ${selectedHeaderNav == \"News\" ? \"selected\" : \"\"}`}\r\n                  onClick={() => handleNavClicked(\"News\")}\r\n                >\r\n                  <i className=\"fas fa-inbox\"></i>\r\n                  <span>News</span>\r\n                </li>\r\n                <li\r\n                  className={`nav-item ${selectedHeaderNav == \"Data Table\" ? \"selected\" : \"\"}`}\r\n                  onClick={() => handleNavClicked(\"Data Table\")}\r\n                >\r\n                  <i className=\"fas fa-image\"></i>\r\n                  <span>Data Table</span>\r\n                </li>\r\n                <li\r\n                  className={`nav-item ${selectedHeaderNav == \"Chart\" ? \"selected\" : \"\"}`}\r\n                  onClick={() => handleNavClicked(\"Chart\")}\r\n                >\r\n                  <i className=\"fas fa-chart-bar\"></i>\r\n                  <span>Chart</span>\r\n                </li>\r\n                {/* <li\r\n                  className={`nav-item ${selectedHeaderNav == \"Income Statement\" ? \"selected\" : \"\"}`}\r\n                  onClick={() => handleNavClicked(\"Income Statement\")}\r\n                >\r\n                  <i className=\"fas fa-file-invoice-dollar\"></i>\r\n                  <span>Income Statement</span>\r\n                </li>\r\n                <li\r\n                  className={`nav-item ${selectedHeaderNav == \"Balance Sheet\" ? \"selected\" : \"\"}`}\r\n                  onClick={() => handleNavClicked(\"Balance Sheet\")}\r\n                >\r\n                  <i className=\"fas fa-money-bill-alt\"></i>\r\n                  <span>Balance Sheet</span>\r\n                </li>\r\n                <li\r\n                  className={`nav-item ${selectedHeaderNav == \"Cash Flow Statement\" ? \"selected\" : \"\"}`}\r\n                  onClick={() => handleNavClicked(\"Cash Flow Statement\")}\r\n                >\r\n                  <i className=\"fas fa-dollar-sign\"></i>\r\n                  <span>Cash Flow Statement</span>\r\n                </li> */}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import { isNotDefined, isDefined } from \"react-stockcharts/lib/utils\";\r\n\r\nexport function saveInteractiveNode(chartId) {\r\n\treturn node => {\r\n\t\tthis[`node_${chartId}`] = node;\r\n\t};\r\n}\r\n\r\nexport function handleSelection(type, chartId) {\r\n\treturn selectionArray => {\r\n\t\tconst key = `${type}_${chartId}`;\r\n\t\tconst interactive = this.state[key].map((each, idx) => {\r\n\t\t\treturn {\r\n\t\t\t\t...each,\r\n\t\t\t\tselected: selectionArray[idx]\r\n\t\t\t};\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\t[key]: interactive\r\n\t\t});\r\n\t};\r\n}\r\n\r\nexport function saveInteractiveNodes(type, chartId) {\r\n\treturn node => {\r\n\t\tif (isNotDefined(this.interactiveNodes)) {\r\n\t\t\tthis.interactiveNodes = {};\r\n\t\t}\r\n\t\tconst key = `${type}_${chartId}`;\r\n\t\tif (isDefined(node) || isDefined(this.interactiveNodes[key])) {\r\n\t\t\t// console.error(node, key)\r\n\t\t\t// console.log(this.interactiveNodes)\r\n\t\t\tthis.interactiveNodes = {\r\n\t\t\t\t...this.interactiveNodes,\r\n\t\t\t\t[key]: { type, chartId, node },\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n}\r\n\r\nexport function getInteractiveNodes() {\r\n\treturn this.interactiveNodes;\r\n}","\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { format } from \"d3-format\";\r\nimport { timeFormat } from \"d3-time-format\";\r\nimport dayjs from \"dayjs\";\r\nimport { ChartCanvas, Chart } from \"react-stockcharts\";\r\nimport {\r\n\tBarSeries,\r\n\tCandlestickSeries,\r\n\tLineSeries,\r\n\tMACDSeries,\r\n} from \"react-stockcharts/lib/series\";\r\nimport { XAxis, YAxis } from \"react-stockcharts/lib/axes\";\r\nimport {\r\n\tCrossHairCursor,\r\n\tEdgeIndicator,\r\n\tCurrentCoordinate,\r\n\tMouseCoordinateX,\r\n\tMouseCoordinateY,\r\n} from \"react-stockcharts/lib/coordinates\";\r\n\r\nimport { discontinuousTimeScaleProvider } from \"react-stockcharts/lib/scale\";\r\nimport {\r\n\tOHLCTooltip,\r\n\tMovingAverageTooltip,\r\n\tMACDTooltip,\r\n} from \"react-stockcharts/lib/tooltip\";\r\nimport { ema, macd } from \"react-stockcharts/lib/indicator\";\r\nimport { fitWidth } from \"react-stockcharts/lib/helper\";\r\nimport { EquidistantChannel, DrawingObjectSelector } from \"react-stockcharts/lib/interactive\";\r\nimport { last, toObject } from \"react-stockcharts/lib/utils\";\r\nimport {\r\n\tsaveInteractiveNodes,\r\n\tgetInteractiveNodes,\r\n} from \"./interactiveutils\";\r\n\r\nconst macdAppearance = {\r\n\tstroke: {\r\n\t\tmacd: \"#FF0000\",\r\n\t\tsignal: \"#00F300\",\r\n\t},\r\n\tfill: {\r\n\t\tdivergence: \"#4682B4\"\r\n\t},\r\n};\r\n\r\nclass CandleStickChartWithEquidistantChannel extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.onKeyPress = this.onKeyPress.bind(this);\r\n\t\tthis.onDrawComplete = this.onDrawComplete.bind(this);\r\n\t\tthis.saveInteractiveNode = this.saveInteractiveNode.bind(this);\r\n\t\tthis.saveCanvasNode = this.saveCanvasNode.bind(this);\r\n\t\tthis.handleSelection = this.handleSelection.bind(this);\r\n\r\n\t\tthis.saveInteractiveNodes = saveInteractiveNodes.bind(this);\r\n\t\tthis.getInteractiveNodes = getInteractiveNodes.bind(this);\r\n\r\n\t\tthis.state = {\r\n\t\t\tenableInteractiveObject: true,\r\n\t\t\tchannels_1: [],\r\n\t\t\tchannels_3: [],\r\n\t\t};\r\n\t}\r\n\tsaveInteractiveNode(node) {\r\n\t\tthis.node = node;\r\n\t}\r\n\tsaveCanvasNode(node) {\r\n\t\tthis.canvasNode = node;\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tdocument.addEventListener(\"keyup\", this.onKeyPress);\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\tdocument.removeEventListener(\"keyup\", this.onKeyPress);\r\n\t}\r\n\thandleSelection(interactives) {\r\n\t\tconst state = toObject(interactives, each => {\r\n\t\t\treturn [\r\n\t\t\t\t`channels_${each.chartId}`,\r\n\t\t\t\teach.objects,\r\n\t\t\t];\r\n\t\t});\r\n\t\tthis.setState(state);\r\n\t}\r\n\tonDrawComplete(channels_1) {\r\n\t\t// this gets called on\r\n\t\t// 1. draw complete of drawing object\r\n\t\t// 2. drag complete of drawing object\r\n\t\tthis.setState({\r\n\t\t\tenableInteractiveObject: false,\r\n\t\t\tchannels_1\r\n\t\t});\r\n\t}\r\n\tonKeyPress(e) {\r\n\t\tconst keyCode = e.which;\r\n\t\tconsole.log(keyCode);\r\n\t\tswitch (keyCode) {\r\n\t\tcase 46: { // DEL\r\n\r\n\t\t\tconst channels_1 = this.state.channels_1\r\n\t\t\t\t.filter(each => !each.selected);\r\n\t\t\tconst channels_3 = this.state.channels_3\r\n\t\t\t\t.filter(each => !each.selected);\r\n\r\n\t\t\tthis.canvasNode.cancelDrag();\r\n\t\t\tthis.setState({\r\n\t\t\t\tchannels_1,\r\n\t\t\t\tchannels_3,\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tcase 27: { // ESC\r\n\t\t\tthis.node.terminate();\r\n\t\t\tthis.canvasNode.cancelDrag();\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tenableInteractiveObject: false\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tcase 68:   // D - Draw drawing object\r\n\t\tcase 69: { // E - Enable drawing object\r\n\t\t\tthis.setState({\r\n\t\t\t\tenableInteractiveObject: true\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\tconst ema26 = ema()\r\n\t\t\t.id(0)\r\n\t\t\t.options({ windowSize: 26 })\r\n\t\t\t.merge((d, c) => { d.ema26 = c; })\r\n\t\t\t.accessor(d => d.ema26);\r\n\r\n\t\tconst ema12 = ema()\r\n\t\t\t.id(1)\r\n\t\t\t.options({ windowSize: 12 })\r\n\t\t\t.merge((d, c) => {d.ema12 = c;})\r\n\t\t\t.accessor(d => d.ema12);\r\n\r\n\t\tconst macdCalculator = macd()\r\n\t\t\t.options({\r\n\t\t\t\tfast: 12,\r\n\t\t\t\tslow: 26,\r\n\t\t\t\tsignal: 9,\r\n\t\t\t})\r\n\t\t\t.merge((d, c) => {d.macd = c;})\r\n\t\t\t.accessor(d => d.macd);\r\n\r\n\t\tconst { type, data: initialData, width, ratio } = this.props;\r\n    initialData.dataPoints.forEach(line => {\r\n\t\t\tline.date = dayjs(line.calendarDate).toDate();\r\n\t\t});\r\n\t\tconst { channels_1, channels_3 } = this.state;\r\n\r\n\t\tconst calculatedData = macdCalculator(ema12(ema26(initialData.dataPoints)));\r\n\t\tconst xScaleProvider = discontinuousTimeScaleProvider\r\n\t\t\t.inputDateAccessor(d => d.date);\r\n\t\tconst {\r\n\t\t\tdata,\r\n\t\t\txScale,\r\n\t\t\txAccessor,\r\n\t\t\tdisplayXAccessor,\r\n\t\t} = xScaleProvider(calculatedData);\r\n\r\n\t\tconst start = xAccessor(last(data));\r\n\t\tconst end = xAccessor(data[Math.max(0, data.length - 150)]);\r\n\t\tconst xExtents = [start, end];\r\n\r\n\t\treturn (\r\n\t\t\t<ChartCanvas ref={this.saveCanvasNode}\r\n\t\t\t\theight={380}\r\n\t\t\t\twidth={width}\r\n\t\t\t\tratio={ratio}\r\n\t\t\t\tmargin={{ left: 70, right: 70, top: 20, bottom: 30 }}\r\n\t\t\t\ttype={type}\r\n\t\t\t\tseriesName=\"MSFT\"\r\n\t\t\t\tdata={data}\r\n\t\t\t\txScale={xScale}\r\n\t\t\t\txAccessor={xAccessor}\r\n\t\t\t\tdisplayXAccessor={displayXAccessor}\r\n\t\t\t\txExtents={xExtents}\r\n\t\t\t>\r\n\t\t\t\t\r\n\t\t\t\t<Chart id={3} height={250}\r\n\t\t\t\t\tyExtents={[d => d.value]}\r\n\t\t\t\t\torigin={(w, h) => [0, h - 300]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\"/>\r\n\t\t\t\t\t<YAxis axisAt=\"left\" orient=\"left\" ticks={5} tickFormat={format(\".2s\")}/>\r\n\r\n          <MouseCoordinateX\r\n\t\t\t\t\t\tat=\"bottom\"\r\n\t\t\t\t\t\torient=\"bottom\"\r\n\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\r\n\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\tat=\"left\"\r\n\t\t\t\t\t\torient=\"left\"\r\n\t\t\t\t\t\tdisplayFormat={format(\".4s\")} />\r\n\r\n\t\t\t\t\t<BarSeries yAccessor={d => d.value} fill={d => initialData.color} baseAt={(xScale, yScale, d) => yScale(0)} />\r\n\t\t\t\t</Chart>\r\n\t\t\t\t<CrossHairCursor />\r\n\t\t\t\t<DrawingObjectSelector\r\n\t\t\t\t\tenabled={!this.state.enableInteractiveObject}\r\n\t\t\t\t\tgetInteractiveNodes={this.getInteractiveNodes}\r\n\t\t\t\t\tdrawingObjectMap={{\r\n\t\t\t\t\t\tEquidistantChannel: \"channels\"\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonSelect={this.handleSelection}\r\n\t\t\t\t/>\r\n\t\t\t</ChartCanvas>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nCandleStickChartWithEquidistantChannel.propTypes = {\r\n\tdata: PropTypes.array.isRequired,\r\n\twidth: PropTypes.number.isRequired,\r\n\tratio: PropTypes.number.isRequired,\r\n\ttype: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired,\r\n};\r\n\r\nCandleStickChartWithEquidistantChannel.defaultProps = {\r\n\ttype: \"svg\",\r\n};\r\n\r\nCandleStickChartWithEquidistantChannel = fitWidth(CandleStickChartWithEquidistantChannel);\r\n\r\nexport default CandleStickChartWithEquidistantChannel;\r\n","import React from 'react';\r\n\r\nconst ChartTools = (props) => {\r\n  const {\r\n    aggregationTypeForOne,\r\n    setAggregrationTypeForOne,\r\n    color,\r\n  } = props;\r\n  \r\n  const handleAggregationForOneClicked = (aggregationType) => {\r\n    if (aggregationTypeForOne === aggregationType) {\r\n      setAggregrationTypeForOne(\"\");\r\n    } else {\r\n      setAggregrationTypeForOne(aggregationType);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"dashboard-chart-tool\">\r\n      <ul className=\"nav justify-content-center\">\r\n        <li\r\n          className=\"nav-item\"\r\n          style={aggregationTypeForOne === \"YA\" ? { backgroundColor: color, color: \"white\" } : {}}\r\n          onClick={() => handleAggregationForOneClicked(\"YA\")}\r\n        >\r\n          <span>A</span>\r\n        </li>\r\n        <li\r\n          className=\"nav-item\"\r\n          style={aggregationTypeForOne === \"QA\" ? { backgroundColor: color, color: \"white\" } : {}}\r\n          onClick={() => handleAggregationForOneClicked(\"QA\")}\r\n        >\r\n          <span>Q</span>\r\n        </li>\r\n        <li\r\n          className=\"nav-item\"\r\n          style={aggregationTypeForOne === \"TA\" ? { backgroundColor: color, color: \"white\" } : {}}\r\n          onClick={() => handleAggregationForOneClicked(\"TA\")}\r\n        >\r\n          <span>T</span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChartTools;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Chart from './Chart';\r\nimport ChartTools from '../ChartTools';\r\n\r\nconst GroupBarChart = (props) => {\r\n  const { data, chartData, globalAggregationType } = props;\r\n\r\n  const [aggregationTypeForOne, setAggregrationTypeForOne] = useState();\r\n  const [currentData, setCurrentData] = useState();\r\n\r\n  const labels = [\r\n    [\r\n      'Revenue',\r\n      'Cost of Revenue',\r\n      'Gross Profit',\r\n      'Ebit',\r\n      'Net Income',\r\n      'Earnings per Basic Share',\r\n    ],\r\n    [\r\n      'Total Assets',\r\n      'Total Liabilities',\r\n      'Total Debt [USD]',\r\n      'Receivables',\r\n      'Payables',\r\n      'Cash & Cash Equivalents [USD]',\r\n    ],\r\n    [\r\n      'Net Cash Flow from Operations',\r\n      'Net Cash Flow from Investing',\r\n      'Net Cash Flow from Financing',\r\n      'Issue/Repayment of Debt Securities',\r\n      'Issuance/Purchase of Equity Shares',\r\n      'Payment of Dividends & Other Cash Distributions',\r\n    ],\r\n  ];\r\n\r\n  const filterByAggregationTyoe = (selectedData) => {\r\n    if (selectedData) {\r\n      let filteredData = {...selectedData};\r\n      const dataPoints = filteredData.dataPoints.filter(\r\n        (item) => aggregationTypeForOne === \"\" || item.period === aggregationTypeForOne\r\n      );\r\n      filteredData['dataPoints'] = dataPoints;\r\n      return filteredData;\r\n    }\r\n    return selectedData;\r\n  };\r\n\r\n  const handleDataTypeChanged = (e) => {\r\n    const selectedData = chartData.filter(\r\n      (item) => item.label === e.target.value\r\n    );\r\n    const filteredSelectedData = filterByAggregationTyoe(selectedData[0]);\r\n    setCurrentData(filteredSelectedData);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setAggregrationTypeForOne(globalAggregationType);\r\n    const filteredSelectedData = filterByAggregationTyoe(data);\r\n    setCurrentData(filteredSelectedData);\r\n  }, [globalAggregationType]);\r\n\r\n  useEffect(() => {\r\n    const filteredSelectedData = filterByAggregationTyoe(data);\r\n    setCurrentData(filteredSelectedData);\r\n  }, [aggregationTypeForOne]);\r\n\r\n  return (\r\n    <>\r\n      {currentData && (\r\n        <>\r\n          <div className=\"chart-toolbar\">\r\n            <div className=\"chart-toolbar-select\">\r\n              <select\r\n                className=\"browser-default custom-select\"\r\n                style={{ borderColor: currentData.color, boxShadow: 'unset' }}\r\n                onChange={handleDataTypeChanged}\r\n              >\r\n                {labels[currentData.group].map((item, index) => (\r\n                  <option\r\n                    key={index}\r\n                    val={item}\r\n                    selected={item === currentData.label ? true : false}\r\n                  >\r\n                    {item}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <ChartTools\r\n              aggregationTypeForOne={aggregationTypeForOne}\r\n              setAggregrationTypeForOne={setAggregrationTypeForOne}\r\n              color={currentData.color}\r\n            />\r\n          </div>\r\n          <div className=\"chart-title-area\">\r\n            <div style={{ backgroundColor: currentData.color }}></div>\r\n            <span>{currentData.label}</span>\r\n          </div>\r\n          {currentData.dataPoints.length > 0 ? (\r\n            <Chart type={'svg'} data={currentData} />\r\n          ) : (\r\n            <div className=\"no-data\">No data...</div>\r\n          )}\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default GroupBarChart;\r\n","import React from 'react';\r\n\r\nconst GraphTypes = (props) => {\r\n  const {\r\n    selectedAggregationType,\r\n    setSelectedAggregationType,\r\n  } = props;\r\n\r\n  const handleAggregationTypeClicked = (aggregationType) => {\r\n    if (selectedAggregationType === aggregationType) {\r\n      setSelectedAggregationType('');\r\n    } else {\r\n      setSelectedAggregationType(aggregationType);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"dashboard-graph-types\">\r\n      <ul className=\"nav justify-content-center\">\r\n        <li\r\n          className={`nav-item ${selectedAggregationType === \"YA\" ? \"selected\" : \"\"}`}\r\n          onClick={() => handleAggregationTypeClicked(\"YA\")}\r\n        >\r\n          <span>ANN</span>\r\n        </li>\r\n        <li\r\n          className={`nav-item ${selectedAggregationType === \"QA\" ? \"selected\" : \"\"}`}\r\n          onClick={() => handleAggregationTypeClicked(\"QA\")}\r\n        >\r\n          <span>QTR</span>\r\n        </li>\r\n        <li\r\n          className={`nav-item ${selectedAggregationType === \"TA\" ? \"selected\" : \"\"}`}\r\n          onClick={() => handleAggregationTypeClicked(\"TA\")}\r\n        >\r\n          <span>TTM</span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GraphTypes;\r\n","import React from 'react';\r\n\r\nconst StockTypes = (props) => {\r\n  const {\r\n    selectedStockType,\r\n    setSelectedStockType,\r\n    selectedHeaderNav,\r\n  } = props;\r\n\r\n  const handleStockTypeClicked = (stockType) => {\r\n    if (selectedHeaderNav === 'Chart') {\r\n      setSelectedStockType(stockType);\r\n    } else {\r\n      if (selectedStockType === stockType) {\r\n        setSelectedStockType('');\r\n      } else {\r\n        setSelectedStockType(stockType);\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"dashboard-graph-types\">\r\n      <ul className=\"nav justify-content-center\">\r\n        <li\r\n          className={`nav-item ${selectedStockType === \"Income Statement\" ? \"selected\" : \"\"}`}\r\n          onClick={() => handleStockTypeClicked(\"Income Statement\")}\r\n        >\r\n          <span>Income Statement</span>\r\n        </li>\r\n        <li\r\n          className={`nav-item ${selectedStockType === \"Balance Sheet\" ? \"selected\" : \"\"}`}\r\n          onClick={() => handleStockTypeClicked(\"Balance Sheet\")}\r\n        >\r\n          <span>Balance Sheet</span>\r\n        </li>\r\n        <li\r\n          className={`nav-item ${selectedStockType === \"Cash Flow Statement\" ? \"selected\" : \"\"}`}\r\n          onClick={() => handleStockTypeClicked(\"Cash Flow Statement\")}\r\n        >\r\n          <span>Cash Flow Statement</span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StockTypes;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { MDBTable, MDBTableBody, MDBTableHead } from 'mdbreact';\r\n\r\nconst FinancialDataTable = (props) => {\r\n  const { data, selectedStockType, selectedAggregationType } = props;\r\n\r\n  const [datatable, setDatatable] = useState();\r\n  const [sorted, setSorted] = useState(0);\r\n\r\n  const handleSortClicked = (label) => {\r\n    const sort = sorted === 0 || sorted === 2 ? 1 : 2;\r\n    let rows = datatable.rows;\r\n    for (let i = 0; i < rows.length; i++) {\r\n      if (sort === 1) {\r\n        rows[i].sort(function (a, b) {\r\n          let valueA = a[label];\r\n          let valueB = b[label];\r\n          if (typeof a[label] != 'string') {\r\n            valueA = valueA.toString();\r\n          }\r\n          if (typeof b[label] != 'string') {\r\n            valueB = valueB.toString();\r\n          }\r\n          return valueB.localeCompare(valueA);\r\n        });\r\n      } else if (sort === 2) {\r\n        rows[i].sort(function (a, b) {\r\n          let valueA = a[label];\r\n          let valueB = b[label];\r\n          if (typeof a[label] != 'string') {\r\n            valueA = valueA.toString();\r\n          }\r\n          if (typeof b[label] != 'string') {\r\n            valueB = valueB.toString();\r\n          }\r\n          return valueA.localeCompare(valueB);\r\n        });\r\n      }\r\n    }\r\n    setSorted(sort);\r\n    setDatatable({\r\n      columns: datatable.columns,\r\n      rows,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      let columns = [\r\n        {\r\n          label: 'BreakDown',\r\n          field: 'BreakDown',\r\n        },\r\n        {\r\n          label: 'TTM',\r\n          field: 'TTM',\r\n        },\r\n      ];\r\n      let rows = [];\r\n      data.map((item) => {\r\n        if (selectedAggregationType === '' || selectedAggregationType === item.period) {\r\n          const calendarDateKey = item['calendarDate'];\r\n          if (!columns.includes(calendarDateKey)) {\r\n            columns.push({\r\n              label: calendarDateKey,\r\n              field: calendarDateKey,\r\n            });\r\n          }\r\n  \r\n          const keys = Object.keys(item);\r\n          keys.map((key, index) => {\r\n            if (!(index in rows)) {\r\n              rows[index] = {};\r\n            }\r\n            rows[index]['BreakDown'] = key;\r\n            rows[index]['TTM'] = '1000000';\r\n            rows[index][calendarDateKey] = item[key];\r\n          });\r\n        }\r\n      });\r\n\r\n      if (selectedStockType === '') {\r\n        rows = [rows, rows, rows];\r\n      } else {\r\n        rows = [rows];\r\n      }\r\n      setDatatable({\r\n        columns,\r\n        rows,\r\n      });\r\n    }\r\n  }, [data, selectedAggregationType, selectedStockType]);\r\n\r\n  const formatNumber = (num) => {\r\n    return num.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,')\r\n  }\r\n\r\n  const formatData = (rows) => {\r\n    const newRows = []\r\n    rows.map((row) => {\r\n      let newObject = {}\r\n      Object.keys(row).map(key => {\r\n        if ((key === 'TTM') || (typeof(row[key]) !== 'string') && parseInt(row[key]) !== NaN) {\r\n          newObject[key] = formatNumber(row[key])\r\n        } else {\r\n          newObject[key] = row[key]\r\n        }\r\n      })\r\n      newRows.push(newObject)\r\n    })\r\n    return newRows\r\n  }\r\n\r\n  return (\r\n    <div className=\"hunter-chart-container\">\r\n      <div className=\"col-sm-12 hunter-data-table-container financial-data-table\">\r\n        {datatable && (\r\n          <MDBTable\r\n            hover\r\n            dark={true}\r\n            maxHeight=\"80vh\"\r\n            noBottomColumns={true}\r\n            striped={true}\r\n            scrollX={true}\r\n            scrollY={true}\r\n            paging={false}\r\n          >\r\n            <MDBTableHead class={'financial-table-head'}>\r\n              <tr>\r\n                {datatable.columns.map((item) => (\r\n                  <th\r\n                    key={item.label}\r\n                    onClick={() => handleSortClicked(item.label)}\r\n                  >\r\n                    {item.label}{' '}\r\n                    <span>\r\n                      <i className=\"fa fa-sort\" />\r\n                    </span>\r\n                  </th>\r\n                ))}\r\n              </tr>\r\n            </MDBTableHead>\r\n            {datatable.rows.length === 3 ? (\r\n              <>\r\n                <MDBTableBody\r\n                  class={'financial-table-body-1'}\r\n                  rows={datatable.rows[0]}\r\n                />\r\n                <MDBTableBody\r\n                  rows={datatable.rows[1]}\r\n                  class=\"financial-table-body-2\"\r\n                />\r\n                <MDBTableBody\r\n                  rows={datatable.rows[2]}\r\n                  class=\"financial-table-body-3\"\r\n                />\r\n              </>\r\n            ) : (\r\n              <MDBTableBody\r\n                rows={formatData(datatable.rows[0])}\r\n                class={\r\n                  selectedStockType === 'Income Statement'\r\n                    ? 'financial-table-body-1'\r\n                    : selectedStockType === 'Balance Sheet'\r\n                    ? 'financial-table-body-2'\r\n                    : 'financial-table-body-3'\r\n                }\r\n              />\r\n            )}\r\n          </MDBTable>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FinancialDataTable;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Select from 'react-select';\r\nimport Pagination from 'react-bootstrap/Pagination'\r\nimport { MDBDataTableV5, MDBTable, MDBTableBody, MDBTableHead } from 'mdbreact';\r\nimport { Collapse, Button, CardBody, Card } from 'reactstrap';\r\nimport moment from 'moment'\r\n\r\nconst FinancialStatementsDataTable = (props) => {\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  const [wholeRows, setWholeRows] = useState(0);\r\n  const [currentData, setCurrentData] = useState({\r\n    columns: [\r\n      {\r\n        label: 'Id',\r\n        field: 'id',\r\n        width: 100,\r\n      },\r\n      {\r\n        label: 'Time',\r\n        field: 'time',\r\n        width: 300,\r\n      },\r\n      {\r\n        label: 'Title',\r\n        field: 'title',\r\n        width: 300,\r\n      }\r\n    ],\r\n    rows: [],\r\n  });\r\n  const { data, symbols } = props;\r\n  const [selectedRow, setSelectedRow] = useState('no select');\r\n  const [isOpened, setIsOpened] = useState(false);\r\n\r\n  const [symbol, setSymbol] = useState({ value: 'GOOG', label: 'GOOG' });\r\n  const [optionsSymbol, setOptionsSymbol] = useState([]);\r\n  // const [datatable, setDatatable] = useState();\r\n  const columns = data.columns.map((item, index) => {\r\n    if (index === 0) {\r\n      return {\r\n        label: item,\r\n        field: item,\r\n        width: 100,\r\n      };  \r\n    } else if (index === 1){\r\n      return {\r\n        label: item,\r\n        field: item,\r\n        width: 300,\r\n      };\r\n    } else {\r\n      return {\r\n        label: item,\r\n        field: item,\r\n      };\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (data.rows.length) {\r\n      setWholeRows(data.rows.length)\r\n      const realData = data.rows.slice(currentPage * 10, 10);\r\n      setCurrentData({\r\n        columns: columns,\r\n        rows: realData.map((row, index) => {\r\n          return {\r\n            author: row.author,\r\n            amp_url: row.amp_url,\r\n            article_url: row.article_url,\r\n            published_utc: row.published_utc,\r\n            dataId: row.id,\r\n            description: row.description,\r\n            id: index,\r\n            time: moment(row.published_utc).format(\"YYYY-MM-DD h:mm:ss\"),\r\n            title: row.title,\r\n            publisher: row.publisher,\r\n          }\r\n        })\r\n      })\r\n    }\r\n\r\n  }, [data]);\r\n\r\n  const handlePrevClick = () => {\r\n    const realData = data.rows.slice((currentPage - 1) * 10, (currentPage) * 10);\r\n    setCurrentData({\r\n      columns: columns,\r\n      rows: realData.map((row, index) => {\r\n        return {\r\n          author: row.author,\r\n          amp_url: row.amp_url,\r\n          article_url: row.article_url,\r\n          published_utc: row.published_utc,\r\n          dataId: row.id,\r\n          description: row.description,\r\n          id: (currentPage-1) * 10 + index,\r\n          time: moment(row.published_utc).format(\"YYYY-MM-DD h:mm:ss\"),\r\n          title: row.title,\r\n          publisher: row.publisher,\r\n        }\r\n      })\r\n    })  \r\n    \r\n    setCurrentPage(currentPage - 1)\r\n  }\r\n  \r\n  const handleNextClick = () => {\r\n    const realData = data.rows.slice((currentPage + 1) * 10, (currentPage + 2) * 10);\r\n    setCurrentData({\r\n      columns: columns,\r\n      rows: realData.map((row, index) => {\r\n        return {\r\n          author: row.author,\r\n          amp_url: row.amp_url,\r\n          article_url: row.article_url,\r\n          published_utc: row.published_utc,\r\n          dataId: row.id,\r\n          description: row.description,\r\n          id: (currentPage+1) * 10 + index,\r\n          time: moment(row.published_utc).format(\"YYYY-MM-DD h:mm:ss\"),\r\n          title: row.title,\r\n          publisher: row.publisher,\r\n        }\r\n      })\r\n    })\r\n    setCurrentPage(currentPage + 1)\r\n  }\r\n\r\n  const handleRowSelect = (dataId) => {\r\n      setIsOpened(!isOpened)\r\n      setSelectedRow(dataId)\r\n  }\r\n\r\n  return (\r\n    <div className=\"hunter-chart-container\">\r\n      <div className=\"col-sm-12 hunter-data-table-container financial-data-table mt-30 pt-100\">\r\n        {/* <div className=\"hunter-search-filter-area\">\r\n          <div className=\"select-option\">\r\n            <Select\r\n              value={symbol}\r\n              onChange={handleSymbolChange}\r\n              options={optionsSymbol}\r\n              placeholder=\"Symbol\"\r\n            />\r\n          </div>\r\n        </div> */}\r\n        {currentData && (\r\n          <MDBTable\r\n            hover\r\n            dark={true}\r\n            maxHeight='80vh'\r\n            noBottomColumns={true}\r\n            striped={true}\r\n            scrollX={true}\r\n            scrollY={true}\r\n            pagination\r\n          >\r\n            <MDBTableHead\r\n              class={\"financial-table-head\"}\r\n            >\r\n              <tr>\r\n                {currentData.columns.map((item) => (\r\n                  <th key={item.label}>{item.label}</th>\r\n                ))}\r\n              </tr>\r\n            </MDBTableHead>\r\n            <MDBTableBody\r\n              className={\"financial-table-body-1\"}\r\n            >\r\n              {currentData.rows.map((item) => (\r\n                <tr onClick={() => {\r\n                  handleRowSelect(item.dataId)\r\n                }}>\r\n                  <td key={item.id} className=\"hunter-financial-table-column1\">{item.id}</td>\r\n                  <td key={item.time} className=\"hunter-financial-table-column2\">{item.time}</td>\r\n                  <td key={item.title} className=\"hunter-financial-table-column3\">\r\n                    <p>{item.title}</p>\r\n                    <Collapse isOpen={isOpened === false && item.dataId === selectedRow}>\r\n                      <Card>\r\n                        <CardBody className=\"hunter-card-body\">\r\n                        <div className=\"hunter-data-table-details-area\">\r\n                          <div className=\"hunter-data-table-details-area-title\">\r\n                            {moment(item.date).format(\"YYYY-MM-DD h:mm:ss\")} : {item.title}\r\n                          </div>\r\n                          <div className=\"hunter-data-table-details-area-content\">\r\n                            <p>{item.description}</p>\r\n                            <div className=\"hunter-data-table-details-area-row\"><div className=\"hunter-data-table-details-area-key\">author:</div> {item.author}</div>\r\n                            <div className=\"hunter-data-table-details-area-row\"><div className=\"hunter-data-table-details-area-key\">publisher:</div> {item.publisher.name}</div>\r\n                            <div className=\"hunter-data-table-details-area-row\"><div className=\"hunter-data-table-details-area-key\">published_utc:</div> {item.published_utc}</div>\r\n                            <div className=\"hunter-data-table-details-area-row\"><div className=\"hunter-data-table-details-area-key\">amp_url:</div> {item.amp_url}</div>\r\n                            <div className=\"hunter-data-table-details-area-row\"><div className=\"hunter-data-table-details-area-key\">article_url:</div> {item.article_url}</div>\r\n                          </div>\r\n                        </div>\r\n                        </CardBody>\r\n                      </Card>\r\n                    </Collapse>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </MDBTableBody>\r\n          </MDBTable>\r\n        )}\r\n        <Pagination>\r\n          <Pagination.Item>{currentPage*10}</Pagination.Item>\r\n          <Pagination.Item>{(currentPage) * 10 + 9}</Pagination.Item>\r\n          <Pagination.Item> of </Pagination.Item>\r\n          <Pagination.Item> { wholeRows } </Pagination.Item>\r\n          <Pagination.Prev disabled={currentPage <= 0} onClick={() => { handlePrevClick() }}/>\r\n          <Pagination.Next disabled={(currentPage + 1) >= wholeRows / 10} onClick={() => { handleNextClick() }}/>\r\n        </Pagination>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FinancialStatementsDataTable;","import React, { useState, useEffect } from 'react';\r\nimport { useLocation, useHistory } from 'react-router-dom';\r\n// javascript plugin used to create scrollbars on windows\r\nimport disableScroll from 'disable-scroll';\r\nimport '../../assets/css/financialDashboardStyles.css';\r\n\r\nimport { Button } from 'reactstrap';\r\nimport { routes } from 'routes.js';\r\n\r\nimport Sidebar from 'components/Sidebar/Sidebar.js';\r\nimport Header from 'components/FinancialDashboard/Header';\r\nimport BarChart from 'components/FinancialDashboard/BarChart';\r\nimport GraphTypes from 'components/FinancialDashboard/GraphTypes';\r\nimport StockTypes from 'components/FinancialDashboard/StockTypes';\r\nimport FinancialDataTable from 'components/FinancialDashboard/FinancialDataTable';\r\nimport FinancialStatementsDataTable from 'components/FinancialDashboard/FinancialStatementsDataTable';\r\n\r\nimport { getNewsFinancialData } from 'api/Api';\r\n\r\nimport {\r\n  getAllSymbols,\r\n  getIncomeStatement,\r\n  getBalanceSheet,\r\n  getCashStatement,\r\n  getFinancialTotalData,\r\n} from 'api/Api';\r\n\r\nconst FinancialDashboard = () => {\r\n  const [symbol, setSymbol] = useState({ value: 'AAPL', label: 'AAPL' });\r\n  const [optionsSymbol, setOptionsSymbol] = useState([]);\r\n  const [isShowSidebar, setShowSidebar] = useState(false);\r\n  const [selectedInstance, setSelectedInstance] = useState('financial_data');\r\n  const [selectedHeaderNav, setSelectedHeaderNav] = useState('Chart');\r\n  const [selectedAggregationType, setSelectedAggregationType] = useState('QA');\r\n  const [selectedStockType, setSelectedStockType] =\r\n    useState('Income Statement');\r\n\r\n  const [chartData, setChartData] = useState(null);\r\n  const [datatable, setDataTable] = useState();\r\n  const [isLoading, setIsLoading] = useState(0);\r\n\r\n  const handleSidebarChange = () => {\r\n    setShowSidebar(!isShowSidebar);\r\n  };\r\n\r\n  const handleInstanceChange = (instance) => {\r\n    setSelectedInstance(instance);\r\n  };\r\n\r\n  const [financialStatements, setFinancialStatements] = useState({\r\n    columns: ['id', 'time', 'title'],\r\n    rows: [],\r\n  });\r\n\r\n  const sortDataPointsByDate = (data) => {\r\n    let sortedData = { ...data };\r\n    if (sortedData.dataPoints.length > 0) {\r\n      sortedData.dataPoints.sort(function (a, b) {\r\n        let valueA = a['calendarDate'];\r\n        let valueB = b['calendarDate'];\r\n        if (typeof a['calendarDate'] != 'string') {\r\n          valueA = valueA.toString();\r\n        }\r\n        if (typeof b['calendarDate'] != 'string') {\r\n          valueB = valueB.toString();\r\n        }\r\n        return valueA.localeCompare(valueB);\r\n      });\r\n    }\r\n    return sortedData;\r\n  };\r\n\r\n  useEffect(() => {\r\n    disableScroll.on();\r\n    const getSymbols = async () => {\r\n      const res = await getAllSymbols();\r\n      setOptionsSymbol(res);\r\n    };\r\n    getSymbols();\r\n\r\n    return () => {\r\n      disableScroll.off();\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setIsLoading(1);\r\n    setChartData();\r\n    const getNewsFinancials = async () => {\r\n      const res = await getNewsFinancialData();\r\n      setFinancialStatements({\r\n        columns: ['id', 'time', 'title'],\r\n        rows: res.result,\r\n      });\r\n    };\r\n\r\n    const getTotalData = async () => {\r\n      const res = await getFinancialTotalData(symbol.value);\r\n      setDataTable(res.results);\r\n      setIsLoading(2);\r\n    };\r\n\r\n    const getIncomeForDataTable = async () => {\r\n      const res = await getFinancialTotalData(symbol.value);\r\n      setDataTable(res.results);\r\n      setIsLoading(2);\r\n    };\r\n\r\n    const getBalanceForDataTable = async () => {\r\n      const res = await getFinancialTotalData(symbol.value);\r\n      setDataTable(res.results);\r\n      setIsLoading(2);\r\n    };\r\n\r\n    const getCashForDataTable = async () => {\r\n      const res = await getFinancialTotalData(symbol.value);\r\n      setDataTable(res.results);\r\n      setIsLoading(2);\r\n    };\r\n\r\n    const getIncome = async () => {\r\n      const res = await getIncomeStatement(symbol.value);\r\n      let revenus = {\r\n        label: 'Revenue',\r\n        group: 0,\r\n        color: 'rgb(25, 185, 154)',\r\n        dataPoints: [],\r\n      };\r\n      let costOfRevenue = {\r\n        label: 'Cost of Revenue',\r\n        group: 0,\r\n        color: 'rgb(8, 64, 129)',\r\n        dataPoints: [],\r\n      };\r\n      let grossProfit = {\r\n        label: 'Gross Profit',\r\n        group: 0,\r\n        color: 'rgb(127, 0, 0)',\r\n        dataPoints: [],\r\n      };\r\n      let EBITDAMargin = {\r\n        label: 'Ebit',\r\n        group: 0,\r\n        color: 'rgb(89, 201, 108)',\r\n        dataPoints: [],\r\n      };\r\n      let NetIncome = {\r\n        label: 'Net Income',\r\n        group: 0,\r\n        color: 'rgb(75, 87, 74)',\r\n        dataPoints: [],\r\n      };\r\n      let earningsPerBasicShare = {\r\n        label: 'Earnings per Basic Share',\r\n        group: 0,\r\n        color: 'rgb(226, 71, 130)',\r\n        dataPoints: [],\r\n      };\r\n      if (res && res.results) {\r\n        res.results.map((item) => {\r\n          revenus.dataPoints.push({\r\n            calendarDate: item.calendarDate,\r\n            period: item.period,\r\n            value: item.revenues,\r\n          });\r\n          costOfRevenue.dataPoints.push({\r\n            calendarDate: item.calendarDate,\r\n            period: item.period,\r\n            value: item.costOfRevenue,\r\n          });\r\n          grossProfit.dataPoints.push({\r\n            calendarDate: item.calendarDate,\r\n            period: item.period,\r\n            value: item.grossProfit,\r\n          });\r\n          EBITDAMargin.dataPoints.push({\r\n            calendarDate: item.calendarDate,\r\n            period: item.period,\r\n            value: item.EBITDAMargin,\r\n          });\r\n          NetIncome.dataPoints.push({\r\n            calendarDate: item.calendarDate,\r\n            period: item.period,\r\n            value: item.netIncome,\r\n          });\r\n          earningsPerBasicShare.dataPoints.push({\r\n            calendarDate: item.calendarDate,\r\n            period: item.period,\r\n            value: item.earningsPerBasicShare,\r\n          });\r\n        });\r\n      }\r\n      setChartData([\r\n        sortDataPointsByDate(revenus),\r\n        sortDataPointsByDate(costOfRevenue),\r\n        sortDataPointsByDate(grossProfit),\r\n        sortDataPointsByDate(EBITDAMargin),\r\n        sortDataPointsByDate(NetIncome),\r\n        sortDataPointsByDate(earningsPerBasicShare),\r\n      ]);\r\n      setIsLoading(2);\r\n    };\r\n\r\n    const getBalance = async () => {\r\n      const res = await getBalanceSheet(symbol.value);\r\n      let assets = {\r\n        label: 'Total Assets',\r\n        group: 1,\r\n        color: 'rgb(182, 116, 194)',\r\n        dataPoints: [],\r\n      };\r\n      let liabilitiesNonCurrent = {\r\n        label: 'Total Liabilities',\r\n        group: 1,\r\n        color: 'rgb(186, 56, 58)',\r\n        dataPoints: [],\r\n      };\r\n      let debt = {\r\n        label: 'Total Debt [USD]',\r\n        group: 1,\r\n        color: 'rgb(172, 114, 47)',\r\n        dataPoints: [],\r\n      };\r\n      let tradeAndNonTradeReceivables = {\r\n        label: 'Receivables',\r\n        group: 1,\r\n        color: 'rgb(99, 89, 135)',\r\n        dataPoints: [],\r\n      };\r\n      let tradeAndNonTradePayables = {\r\n        label: 'Payables',\r\n        group: 1,\r\n        color: 'rgb(179, 8, 167)',\r\n        dataPoints: [],\r\n      };\r\n      let cashAndEquivalents = {\r\n        label: 'Cash & Cash Equivalents [USD]',\r\n        group: 1,\r\n        color: 'rgb(46, 149, 187)',\r\n        dataPoints: [],\r\n      };\r\n      if (res && res.results) {\r\n        res.results.map((item) => {\r\n          assets.dataPoints.push({\r\n            calendarDate: item.calendarDate,\r\n            period: item.period,\r\n            value: item.assets,\r\n          });\r\n          liabilitiesNonCurrent.dataPoints.push({\r\n            calendarDate: item.calendarDate,\r\n            period: item.period,\r\n            value: item.liabilitiesNonCurrent,\r\n          });\r\n          debt.dataPoints.push({\r\n            calendarDate: item.calendarDate,\r\n            period: item.period,\r\n            value: item.debt,\r\n          });\r\n          tradeAndNonTradeReceivables.dataPoints.push({\r\n            calendarDate: item.calendarDate,\r\n            period: item.period,\r\n            value: item.tradeAndNonTradeReceivables,\r\n          });\r\n          tradeAndNonTradePayables.dataPoints.push({\r\n            calendarDate: item.calendarDate,\r\n            period: item.period,\r\n            value: item.tradeAndNonTradePayables,\r\n          });\r\n          cashAndEquivalents.dataPoints.push({\r\n            calendarDate: item.calendarDate,\r\n            period: item.period,\r\n            value: item.cashAndEquivalents,\r\n          });\r\n        });\r\n      }\r\n\r\n      setChartData([\r\n        sortDataPointsByDate(assets),\r\n        sortDataPointsByDate(liabilitiesNonCurrent),\r\n        sortDataPointsByDate(debt),\r\n        sortDataPointsByDate(tradeAndNonTradeReceivables),\r\n        sortDataPointsByDate(tradeAndNonTradePayables),\r\n        sortDataPointsByDate(cashAndEquivalents),\r\n      ]);\r\n      setIsLoading(2);\r\n    };\r\n\r\n    const getCash = async () => {\r\n      const res = await getCashStatement(symbol.value);\r\n      let netCashFlowFromOperations = {\r\n        label: 'Net Cash Flow from Operations',\r\n        group: 2,\r\n        color: 'rgb(230, 195, 176)',\r\n        dataPoints: [],\r\n      };\r\n      let netCashFlowFromInvesting = {\r\n        label: 'Net Cash Flow from Investing',\r\n        group: 2,\r\n        color: 'rgb(182, 102, 232)',\r\n        dataPoints: [],\r\n      };\r\n      let netCashFlowFromFinancing = {\r\n        label: 'Net Cash Flow from Financing',\r\n        group: 2,\r\n        color: 'rgb(221, 171, 219)',\r\n        dataPoints: [],\r\n      };\r\n      let issuanceDebtSecurities = {\r\n        label: 'Issue/Repayment of Debt Securities',\r\n        group: 2,\r\n        color: 'rgb(90, 125, 16)',\r\n        dataPoints: [],\r\n      };\r\n      let issuanceEquityShares = {\r\n        label: 'Issuance/Purchase of Equity Shares',\r\n        group: 2,\r\n        color: 'rgb(241, 76, 34)',\r\n        dataPoints: [],\r\n      };\r\n      let paymentDividendsOtherCashDistributions = {\r\n        label: 'Payment of Dividends & Other Cash Distributions',\r\n        group: 2,\r\n        color: 'rgb(96, 54, 217)',\r\n        dataPoints: [],\r\n      };\r\n      if (res && res.results) {\r\n        res.results.map((item) => {\r\n          netCashFlowFromOperations.dataPoints.push({\r\n            calendarDate: item.calendarDate,\r\n            period: item.period,\r\n            value: item.netCashFlowFromOperations,\r\n          });\r\n          netCashFlowFromInvesting.dataPoints.push({\r\n            calendarDate: item.calendarDate,\r\n            period: item.period,\r\n            value: item.netCashFlowFromInvesting,\r\n          });\r\n          netCashFlowFromFinancing.dataPoints.push({\r\n            calendarDate: item.calendarDate,\r\n            period: item.period,\r\n            value: item.netCashFlowFromFinancing,\r\n          });\r\n          issuanceDebtSecurities.dataPoints.push({\r\n            calendarDate: item.calendarDate,\r\n            period: item.period,\r\n            value: item.issuanceDebtSecurities,\r\n          });\r\n          issuanceEquityShares.dataPoints.push({\r\n            calendarDate: item.calendarDate,\r\n            period: item.period,\r\n            value: item.issuanceEquityShares,\r\n          });\r\n          paymentDividendsOtherCashDistributions.dataPoints.push({\r\n            calendarDate: item.calendarDate,\r\n            period: item.period,\r\n            value: item.paymentDividendsOtherCashDistributions,\r\n          });\r\n        });\r\n      }\r\n\r\n      setChartData([\r\n        sortDataPointsByDate(netCashFlowFromOperations),\r\n        sortDataPointsByDate(netCashFlowFromInvesting),\r\n        sortDataPointsByDate(netCashFlowFromFinancing),\r\n        sortDataPointsByDate(issuanceDebtSecurities),\r\n        sortDataPointsByDate(issuanceEquityShares),\r\n        sortDataPointsByDate(paymentDividendsOtherCashDistributions),\r\n      ]);\r\n      setIsLoading(2);\r\n    };\r\n\r\n    if (selectedHeaderNav === 'News') {\r\n      getNewsFinancials();\r\n    } else if (selectedHeaderNav === 'Data Table') {\r\n      if (selectedStockType === '') {\r\n        getTotalData();\r\n      } else if (selectedStockType === 'Income Statement') {\r\n        getIncomeForDataTable();\r\n      } else if (selectedStockType === 'Balance Sheet') {\r\n        getBalanceForDataTable();\r\n      } else if (selectedStockType === 'Cash Flow Statement') {\r\n        getCashForDataTable();\r\n      }\r\n    } else if (selectedHeaderNav === 'Chart') {\r\n      if (selectedStockType === 'Income Statement') {\r\n        getIncome();\r\n      } else if (selectedStockType === 'Balance Sheet') {\r\n        getBalance();\r\n      } else if (selectedStockType === 'Cash Flow Statement') {\r\n        getCash();\r\n      }\r\n    }\r\n  }, [selectedHeaderNav, selectedStockType, symbol]);\r\n\r\n  return (\r\n    <div className=\"financial-dashboard-container\">\r\n      {!isShowSidebar && (\r\n        <Button\r\n          className={'show-sidebar-toggle-area show-sidebar-icon'}\r\n          onClick={handleSidebarChange}\r\n        >\r\n          <i className=\"tim-icons icon-align-left-2\" />\r\n        </Button>\r\n      )}\r\n      {isShowSidebar && (\r\n        <Sidebar\r\n          isAdminPage={false}\r\n          routes={routes}\r\n          subInstance={'tradedatatable'}\r\n          selectedInstance={selectedInstance}\r\n          handleSidebarChange={handleSidebarChange}\r\n          handleInstanceChange={handleInstanceChange}\r\n        />\r\n      )}\r\n      <Header\r\n        selectedHeaderNav={selectedHeaderNav}\r\n        setSelectedHeaderNav={setSelectedHeaderNav}\r\n        symbol={symbol}\r\n        setSymbol={setSymbol}\r\n        optionsSymbol={optionsSymbol}\r\n      />\r\n      {selectedHeaderNav !== 'News' && (\r\n        <div className=\"filter-types-section\">\r\n          <GraphTypes\r\n            selectedAggregationType={selectedAggregationType}\r\n            setSelectedAggregationType={setSelectedAggregationType}\r\n          />\r\n          <StockTypes\r\n            selectedStockType={selectedStockType}\r\n            setSelectedStockType={setSelectedStockType}\r\n            selectedHeaderNav={selectedHeaderNav}\r\n          />\r\n        </div>\r\n      )}\r\n      {selectedHeaderNav === 'Data Table' ? (\r\n        <FinancialDataTable\r\n          data={datatable}\r\n          selectedStockType={selectedStockType}\r\n          selectedAggregationType={selectedAggregationType}\r\n        />\r\n      ) : selectedHeaderNav === 'News' ? (\r\n        <FinancialStatementsDataTable\r\n          data={financialStatements}\r\n          symbols={optionsSymbol}\r\n        />\r\n      ) : (\r\n        <div className=\"container custom-container chart-area\">\r\n          <div className=\"row justify-content-center\">\r\n            {chartData ? (\r\n              chartData.map((data) => (\r\n                <div\r\n                  key={data.label}\r\n                  className=\"col-lg-4 col-md-4 col-sm-6 col-xs-12 group-bar-chart\"\r\n                >\r\n                  <BarChart\r\n                    data={data}\r\n                    chartData={chartData}\r\n                    globalAggregationType={selectedAggregationType}\r\n                  />\r\n                </div>\r\n              ))\r\n            ) : isLoading === 2 ? (\r\n              <div className=\"no-data\">No data</div>\r\n            ) : (\r\n              <div className=\"no-data\">Fetching...</div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FinancialDashboard;\r\n","\r\nimport React, { Component } from \"react\";\r\nimport Select from 'react-select'\r\nimport { Editor } from \"react-draft-wysiwyg\";\r\nimport { EditorState, convertToRaw ,convertFromHTML,ContentState} from \"draft-js\";\r\nimport draftToHtml from \"draftjs-to-html\";\r\nimport { \r\n  getBotStatusList,\r\n  getConfigFileDetail,\r\n  getModuleTypeNames,\r\n  getFileTypeNames,\r\n  saveConfigFile,\r\n  saveScriptFile,\r\n  getConfigFileList,\r\n  getBotConfigList,\r\n  updateBotStatus\r\n} from \"api/Api\";\r\nimport {\r\n  Button\r\n} from \"reactstrap\";\r\nimport { MDBBtn } from \"mdbreact\";\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Tabs from 'react-bootstrap/Tabs'\r\nimport Tab from 'react-bootstrap/Tab'\r\nimport { MDBDataTableV5 } from 'mdbreact';\r\nimport moment from 'moment'\r\n\r\nexport default class TextEditor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      key: 'parameter',\r\n      editorState: EditorState.createEmpty(),\r\n      textdata:[\"hello\"],\r\n      scriptfiles: [],\r\n      scriptfile: null,\r\n      selectedFileType: null,\r\n      selectedModuleType: null,\r\n      selectedModule1Type: null,\r\n      module1TypeOptions: [\r\n        { value: 'watchlists', label: 'watchlists' },\r\n        { value: 'indicator_signaling', label: 'indicator_signaling' },\r\n        { value: 'order_signalling', label: 'order_signalling' },\r\n        { value: 'order_routing', label: 'order_routing' },\r\n        { value: 'indicators', label: 'pass in processed data into indicators' },\r\n        { value: 'core', label: 'core' },\r\n      ],\r\n      processConfigOptions: {\r\n        bot_name: '',\r\n        timeframe: [\r\n          {\r\n            value: '2m',\r\n            label: '2m'\r\n          },\r\n          {\r\n            value: '4m',\r\n            label: '4m'\r\n          },\r\n          {\r\n            value: '12m',\r\n            label: '12m'\r\n          }\r\n        ],\r\n        indicator: [\r\n          {\r\n            value: 'heik_diff',\r\n            label: 'heik_diff'\r\n          },\r\n          {\r\n            value: 'heik',\r\n            label: 'heik'\r\n          },\r\n          {\r\n            value: 'rsi1',\r\n            label: 'rsi1'\r\n          },\r\n          {\r\n            value: 'rsi2',\r\n            label: 'rsi2'\r\n          },\r\n          {\r\n            value: 'rsi3',\r\n            label: 'rsi3'\r\n          },\r\n        ],\r\n        watchlist: [\r\n          {\r\n            value: 'tech',\r\n            label: 'tech'\r\n          },\r\n          {\r\n            value: 'buffett',\r\n            label: 'buffett'\r\n          },\r\n        ],\r\n        position_sizing: [{value: 'equal', label: 'equal'}],\r\n        order_routing: [\r\n          {\r\n            value: 'alphaca',\r\n            label: 'alphaca'\r\n          },\r\n        ],\r\n        data_source: [{\r\n          label: \"polygon\",\r\n          value: \"polygon\"\r\n        }],\r\n        live_trading: [\r\n          {\r\n            value: true,\r\n            label: 'true'\r\n          },\r\n          {\r\n            value: false,\r\n            label: 'false'\r\n          },\r\n        ],\r\n        starting_cash: 10000,\r\n        extended_hours: [\r\n          {value: true, label: 'true'},\r\n          {value: false, label: 'false'}\r\n        ],\r\n        name: '',\r\n        macro_strategy: [{value: 'tsrh_dc', label: 'tsrh_dc'}],\r\n        indicator_signalling: [\r\n          {\r\n            label: \"alternative\",\r\n            value: \"alternative\"\r\n          },\r\n          {\r\n            value: 'default',\r\n            label: 'default'\r\n          }\r\n        ],\r\n        asset_class: [\r\n          {\r\n            label: \"crypto\",\r\n            value: \"crypto\"\r\n          },\r\n          {\r\n            label: \"equities\",\r\n            value: \"equities\"\r\n          }\r\n        ]\r\n      },\r\n      processConfigSetting: {\r\n        bot_name: '',\r\n        timeframe: null,\r\n        indicator: null,\r\n        watchlist: null,\r\n        position_sizing: null,\r\n        order_routing: null,\r\n        data_source: null,\r\n        live_trading: null,\r\n        starting_cash: 10000,\r\n        hours: null,\r\n        name: '',\r\n        macro_strategy: null,\r\n        indicator_signalling: null,\r\n        asset_class: null,\r\n      },\r\n      selectedConfigFile: null,\r\n      selectedModuleContents: [],\r\n      filename: '',\r\n      file:[],\r\n      content: null,\r\n      isUpdate: false,\r\n      isShowOpenModal: false,\r\n      isShowAddIndicatorModal: false,\r\n      isShowSaveModal: false,\r\n      isCheckedStrategy: false,\r\n      isShowConfigOpenModal: false,\r\n      strategyIndicators: [],\r\n    headerColumnsBotStatus: [\r\n      {\r\n        label: 'ID',\r\n        field: 'id',\r\n        width: 100,\r\n        attributes: {\r\n          'aria-controls': 'DataTable',\r\n          'aria-label': 'symbol',\r\n        },\r\n      },\r\n      {\r\n        label: 'BOT NAME',\r\n        field: 'name',\r\n        width: 200,\r\n      },\r\n      {\r\n        label: 'STATUS',\r\n        field: 'status',\r\n        width: 150,\r\n      },\r\n      {\r\n        label: 'UPDATED',\r\n        field: 'updated',\r\n        width: 150,\r\n      },\r\n      {\r\n        label: 'Action',\r\n        field: 'action',\r\n        sort: false,\r\n        width: 100,\r\n      }\r\n    ],\r\n    headerColumnsBotConfig: [\r\n      {\r\n        label: 'ID',\r\n        field: 'id',\r\n        wdith: 100,\r\n        attributes: {\r\n          'aria-controls': 'DataTable',\r\n          'aria-label': 'ID',\r\n        },\r\n      },\r\n      {\r\n        label: 'BOT NAME',\r\n        field: 'name',\r\n        width: 200,\r\n      },\r\n      {\r\n        label: 'Time Frame',\r\n        field: 'timeframe',\r\n        with: 200,\r\n      },\r\n      {\r\n        label: 'Indicator',\r\n        field: 'indicator',\r\n        with: 500,\r\n      },\r\n      {\r\n        label: 'Watch List',\r\n        field: 'watchlist',\r\n        with: 100,\r\n      },\r\n      {\r\n        label: 'Position Sizing',\r\n        field: 'position_sizing',\r\n        sort: false,\r\n        with: 100,\r\n      },\r\n      {\r\n        label: 'Order Routing',\r\n        field: 'order_routing',\r\n        sort: false,\r\n        with: 100,\r\n      },\r\n      {\r\n        label: 'Data Source',\r\n        field: 'data_source',\r\n        sort: false,\r\n        with: 100,\r\n      },\r\n      {\r\n        label: 'Live Trading',\r\n        field: 'live_trading',\r\n        sort: false,\r\n        with: 100,\r\n      },\r\n      {\r\n        label: 'Starting Cash',\r\n        field: 'starting_cash',\r\n        sort: false,\r\n        with: 100,\r\n      },\r\n      {\r\n        label: 'Hours',\r\n        field: 'hours',\r\n        sort: false,\r\n        with: 100,\r\n      },\r\n      {\r\n        label: 'Macro Strategy',\r\n        field: 'macro_strategy',\r\n        sort: false,\r\n        with: 100,\r\n      },\r\n      {\r\n        label: 'Indicator Signalling',\r\n        field: 'indicator_signalling',\r\n        sort: false,\r\n        with: 100,\r\n      },\r\n      {\r\n        label: 'Asset Class',\r\n        field: 'asset_class',\r\n        sort: false,\r\n        with: 100,\r\n      }\r\n    ],\r\n      botStatusDatatable: {\r\n        columns: [],\r\n        rows: [],    \r\n      },\r\n      botConfigDatatable: {\r\n        columns: [],\r\n        rows: [],    \r\n      }\r\n    };\r\n  }\r\n\r\n  openAddIndicatorModal = () => {\r\n    this.setState({ isShowAddIndicatorModal: true });\r\n  }\r\n\r\n  handleChange = (checked) => {\r\n    this.setState({ isCheckedStrategy: checked });\r\n  }\r\n\r\n  async componentDidMount () {\r\n    this.loadModuleTypes()  \r\n    this.loadConfigFiles()\r\n    this.loadBotStatusList()\r\n    this.loadBotConfigList()\r\n  }\r\n  \r\n  loadConfigFiles = async () => {\r\n    const res = await getConfigFileList('bot_configs');\r\n    if (res.success) {\r\n      const configFiles = res.result.map(value => {\r\n        return {\r\n          value: value,\r\n          label: value\r\n        }\r\n      })\r\n\r\n      this.setState({\r\n        configFileOptions: configFiles,\r\n        selectedConfigFile: configFiles[0],\r\n        isUpdate: true,\r\n      })\r\n    }\r\n  }\r\n\r\n  updateBotStatus = async (bot, action) => {\r\n    const res = await updateBotStatus(bot.name, action)\r\n    alert(res.message)\r\n    await this.loadBotStatusList()\r\n  } \r\n\r\n  loadBotStatusList = async () => {\r\n    const res = await getBotStatusList();\r\n    if (res.success) {\r\n      const botStatusList = res.result.map((bot, index) => ({\r\n        id: index + 1,\r\n        name: bot.name,\r\n        status: bot.status,\r\n        updated: moment(bot.updated).format(\"YYYY-MM-DD h:mm:ss\"),\r\n        action: <>\r\n          <MDBBtn className=\"mr-10\" color=\"blue\" size=\"sm\" onClick={\r\n            () => {\r\n              this.updateBotStatus(bot, bot.status === 'live' ? 'pause' : 'start');\r\n            }}\r\n          >\r\n            {bot.status === 'live' ? 'pause' : 'start'}\r\n          </MDBBtn>\r\n          <MDBBtn color=\"blue\" size=\"sm\" onClick={\r\n            () => {\r\n              this.updateBotStatus(bot, 'kill');\r\n            }}\r\n          >\r\n            kill\r\n          </MDBBtn>\r\n        </>\r\n      }))\r\n      const data = {\r\n        columns: this.state.headerColumnsBotStatus,\r\n        rows: botStatusList\r\n      }\r\n      this.setState({\r\n        botStatusDatatable: data\r\n      })\r\n    } else {\r\n      const data = {\r\n        columns: this.state.headerColumnsBotStatus,\r\n        rows: []\r\n      }\r\n      this.setState({\r\n        botStatusDatatable: data\r\n      })\r\n    }\r\n  }\r\n  \r\n  loadBotConfigList = async () => {\r\n    const res = await getBotConfigList();\r\n    if (res.result) {\r\n      const botConfigList = res.result.map((bot, index) => ({\r\n        id: index + 1,\r\n        bot_name: bot.bot_name,\r\n        timeframe: bot.timeframe,\r\n        indicator: bot.indicator,\r\n        watchlist: bot.watchlist,\r\n        position_sizing: bot.position_sizing,\r\n        order_routing: bot.order_routing,\r\n        data_source: bot.data_source,\r\n        live_trading: bot.live_trading,\r\n        starting_cash: bot.starting_cash,\r\n        hours: bot.hours,\r\n        name: bot.name,\r\n        macro_strategy: bot.macro_strategy,\r\n        indicator_signalling: bot.indicator_signalling,\r\n        asset_class: bot.asset_class,\r\n      }))\r\n      const data = {\r\n        columns: this.state.headerColumnsBotConfig.map((col, index) => { \r\n          if (index === 0) {\r\n            col.width = 50;\r\n          } else if (index === 1) {\r\n            col.width = 150;\r\n          } else if (index === 3) {\r\n            col.width = 300;\r\n          } else if ((index === 4) || (index === 5) || (index === 6) || (index === 7) || (index === 8) || (index === 9)) {\r\n            col.width = 150;\r\n          } else if ((index === 10) || (index === 11) || (index === 12) || (index === 13)) {\r\n            col.width = 200;\r\n          }\r\n          return col;\r\n        }),\r\n        rows: botConfigList\r\n      }\r\n      this.setState({\r\n        botConfigDatatable: data\r\n      })\r\n    }\r\n  }\r\n\r\n  loadModuleTypes = async () => {\r\n    const res = await getModuleTypeNames();\r\n    if (res.success) {\r\n      const moduleTypes = res.result.map(value => {\r\n        return {\r\n          value: value,\r\n          label: value\r\n        }\r\n      })\r\n\r\n      this.setState({\r\n        moduleTypeOptions: moduleTypes,\r\n        selectedModuleType: moduleTypes[0],\r\n        isUpdate: true,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleScriptFileChange = (e) => {\r\n    this.setState({\r\n      selectedFileType: e,\r\n      filename: e.value,\r\n    });\r\n  }\r\n\r\n  handleScriptFileSave = async () => {\r\n    if (!this.state.filename) {\r\n      alert(\"Please input the file name!\")\r\n      return;\r\n    }\r\n\r\n    if (!this.state.content.length) {\r\n      alert(\"File content is empty!\")\r\n      return;\r\n    }\r\n\r\n    if (this.state.isSelectedStrategyFile) {\r\n      if (!this.state.strategyIndicators.length) {\r\n        console.log(\"content is empty!\")\r\n        return;\r\n      }\r\n    } else {\r\n      if (this.state.isCheckedStrategy) {\r\n        console.log(\"content is empty!\")\r\n        return;\r\n      }\r\n    }\r\n\r\n    let res;\r\n    if (this.state.isSelectedStrategyFile) {\r\n      res = await saveScriptFile(\r\n        this.state.isUpdate ? this.state.selectedFileType.value : this.state.filename,\r\n        this.state.content,\r\n        this.state.isUpdate,\r\n        this.state.isCheckedStrategy\r\n      )\r\n    } else {\r\n      res = await saveConfigFile(\r\n        this.state.isUpdate ? this.state.selectedFileType.value : this.state.filename,\r\n        this.state.processConfigSetting,\r\n        this.state.isUpdate,\r\n      )\r\n    }\r\n\r\n    if (res.success) {\r\n      this.SaveScriptModalClose()\r\n      return;\r\n    }\r\n    alert(res.message);\r\n  }\r\n\r\n  handleScriptFileNameChange = (e) => {\r\n    this.setState({\r\n      filename: e.target.value\r\n    })\r\n  }\r\n\r\n  onEditorStateChange = (editorState) => {\r\n    this.setState({\r\n      editorState,\r\n    });\r\n  };\r\n\r\n  handleScriptFileCreate = async () => {\r\n    this.setState({\r\n      isUpdate: false,\r\n      scriptfiles: null,\r\n      filename: '',\r\n      selectedFileType: null,\r\n      editorState: EditorState.createEmpty(),\r\n    })\r\n  }\r\n  \r\n  handleOpenScriptFile = async () => {\r\n    this.setState({\r\n      isShowOpenModal: true,\r\n      isUpdate: true,\r\n    })    \r\n  }\r\n\r\n  handleOpenProcessConfigModal = async () => {\r\n    this.setState({\r\n      isShowConfigOpenModal: true,\r\n      isUpdate: true\r\n    })\r\n  }\r\n  \r\n  handleFileTypeChange = async (e) => {\r\n    this.setState({\r\n      selectedFileType: e,\r\n      isUpdate: true,\r\n    })\r\n  }\r\n  \r\n  handleFile1TypeChange = async (e) => {\r\n    this.setState({\r\n      selectedFile1Type: e,\r\n      isUpdate: true,\r\n    })\r\n  }\r\n\r\n  handleConfigFileChange = async (e) => {\r\n    this.setState({\r\n      selectedConfigFile: e,\r\n      isUpdate: true,\r\n    })\r\n  }\r\n\r\n  handleModuleTypeChange = async (e) => {\r\n    this.setState({\r\n      selectedModuleType: e,\r\n      isUpdate: true,\r\n    })\r\n\r\n    const res = await getFileTypeNames(e.value);\r\n    if (res.success) {\r\n      const fileTypes = res.result.map(value => {\r\n        return {\r\n          value: value.name,\r\n          label: value.name\r\n        }\r\n      })\r\n\r\n      this.setState({\r\n        selectedModuleContents: res.result,\r\n        fileTypeOptions: fileTypes,\r\n        selectedFileType: fileTypes[0],\r\n        isUpdate: true,\r\n      })\r\n    }\r\n  }\r\n  \r\n  handleModule1TypeChange = async (e) => {\r\n    this.setState({\r\n      selectedModule1Type: e,\r\n      isUpdate: true,\r\n    })\r\n\r\n    const res = await getFileTypeNames(e.value);\r\n    if (res.success) {\r\n      const fileTypes = !res.result.length ? null :\r\n      res.result.map(value => {\r\n        return {\r\n          value: value.name,\r\n          label: value.name\r\n        }\r\n      })\r\n\r\n      this.setState({\r\n        selectedModuleContents: res.result,\r\n        file1TypeOptions: fileTypes,\r\n        selectedFile1Type: fileTypes ? fileTypes[0] : null,\r\n        isUpdate: true,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSaveModalShow = async () => {\r\n    this.setState({isShowSaveModal: true})\r\n  }\r\n  \r\n  ProcessConfigModalClose = () => {\r\n    this.setState({isShowConfigOpenModal: false})\r\n  }\r\n\r\n  OpenScriptModalClose = () => {\r\n    this.setState({isShowOpenModal: false})\r\n  }\r\n  \r\n  AddIndicatorModalClose = () => {\r\n    this.setState({ isShowAddIndicatorModal: false })\r\n  }\r\n  \r\n  SaveScriptModalClose = () => {\r\n    this.setState({isShowSaveModal: false})\r\n  }\r\n\r\n  handleScriptFileOpen = async () => {\r\n    const selectedFile = this.state.selectedModuleContents.filter((file) => file.name === this.state.selectedFileType.value)\r\n    const blocksFromHTML = convertFromHTML(selectedFile[0] ? `<pre>${selectedFile[0].contents}</pre>` : '');\r\n    const blockContent= ContentState.createFromBlockArray(\r\n      blocksFromHTML.contentBlocks,\r\n      blocksFromHTML.entityMap,\r\n    );\r\n\r\n    this.setState({\r\n      editorState: EditorState.createWithContent(blockContent),\r\n      scriptfile: selectedFile,\r\n    })\r\n\r\n    this.OpenScriptModalClose();\r\n  }\r\n\r\n  handleConfigFileOpen = async () => {\r\n    const res = await getConfigFileDetail('bot_configs', this.state.selectedConfigFile.value)\r\n    this.setState({\r\n      processConfigSetting: res,\r\n      isUpdate: true\r\n    })\r\n    this.ProcessConfigModalClose()\r\n  }\r\n\r\n  handleSave = (content) => {\r\n    this.setState({\r\n      content,\r\n      isSelectedStrategyFile: true\r\n    })\r\n    this.handleSaveModalShow()\r\n  }\r\n  \r\n  handleProcessConfigSettingSave = async () => {\r\n    if (!this.state.processConfigSetting.name.length) {\r\n      alert(\"name field is required!\")\r\n      return\r\n    }\r\n    const res = await saveConfigFile(\r\n      this.state.processConfigSetting,\r\n      this.state.isUpdate,\r\n    )\r\n\r\n    if (res.success) {\r\n      alert(res.message)\r\n    } else {\r\n      alert('The config is not saved')\r\n    }\r\n\r\n    this.loadConfigFiles()\r\n    this.loadBotConfigList()\r\n\r\n  }\r\n\r\n  showFile = async (e) => {\r\n    e.preventDefault()\r\n    let currFile=e.target.files[0]\r\n    const reader = new FileReader()\r\n    reader.onload = async (e) => { \r\n      const text = (e.target.result)\r\n      const blocksFromHTML = convertFromHTML(text);\r\n      const state= ContentState.createFromBlockArray(\r\n        blocksFromHTML.contentBlocks,\r\n        blocksFromHTML.entityMap,\r\n      );\r\n      this.setState({editorState: EditorState.createWithContent(state),file:currFile})\r\n    };\r\n    reader.readAsText(e.target.files[0])\r\n  }\r\n\r\n  handleModuleAndTypeSelect = () => {\r\n    const indicators = this.state.strategyIndicators;\r\n    indicators.push(`${this.state.selectedModule1Type.value}-${this.state.selectedFile1Type.value}`)\r\n    this.setState( { strategyIndicators: indicators} )\r\n  }\r\n\r\n  handleIndicatorDelete = (indicator) => {\r\n    let indicators = this.state.strategyIndicators;\r\n    indicators = indicators.filter( (o) => o !== indicator )\r\n    this.setState( { strategyIndicators: indicators} )\r\n  }\r\n\r\n  handleBotNameChange = (e, key) => {\r\n    this.state.processConfigSetting[key] = e.target.value\r\n    this.setState({processConfigSetting: this.state.processConfigSetting})\r\n  }\r\n  \r\n  handleProcessChange = (e, key) => {\r\n    this.state.processConfigSetting[key] = e\r\n    this.setState({processConfigSetting: this.state.processConfigSetting})\r\n  }\r\n\r\n  displayProcessEditor = () => {\r\n    let keys = Object.keys(this.state.processConfigOptions);\r\n    return keys.map((key, index) => {\r\n      return (\r\n        <li key={key} className=\"list-group-item strategy-indicator-edit-list\">\r\n          <div className=\"strategy-indicator-edit-list-no display-flex-j-c\">\r\n            <MDBBtn tag=\"a\" size=\"sm\">\r\n              {index}\r\n            </MDBBtn>\r\n          </div>\r\n          <div className=\"strategy-indicator-edit-list-content ml-30\">\r\n            <MDBBtn tag=\"a\" size=\"sm\"  className=\"hunter-process-mdb-btn\">\r\n              {key}\r\n            </MDBBtn>\r\n          </div>\r\n          <div className=\"strategy-indicator-edit-list-action\">\r\n          { key === 'bot_name' || key === 'name' || key === 'starting_cash'\r\n            ? \r\n            (\r\n              <input\r\n                  type=\"name\"\r\n                  className=\"form-control hunter-bot-name-input\"\r\n                  placeholder= {\r\n                    key === 'bot_name' ? \"Enter bot name\" : key === 'name' ? \"Enter name\" : \"Enter starting cash\"\r\n                  }\r\n                  value={this.state.processConfigSetting[key]}\r\n                  onChange={(e) => { this.handleBotNameChange(e, key)}}\r\n              />\r\n            )\r\n            :\r\n            (<Select\r\n              value={this.state.processConfigSetting[key]}\r\n              onChange={(e) => { this.handleProcessChange(e, key) }}\r\n              options={this.state.processConfigOptions[key]}\r\n              placeholder=\"select\"\r\n              isMulti\r\n            />)\r\n          }\r\n          </div>\r\n        </li>\r\n      )\r\n    })\r\n  }\r\n\r\n  handleIndicatorReset = () => {\r\n    this.setState(\r\n      { \r\n        processConfigSetting: {\r\n          bot_name: '',\r\n          timeframe: null,\r\n          indicator: null,\r\n          watchlist: null,\r\n          position_sizing: null,\r\n          order_routing: null,\r\n          data_source: null,\r\n          live_trading: null,\r\n          starting_cash: 10000,\r\n          hours: null,\r\n          name: '',\r\n          macro_strategy: null,\r\n          indicator_signalling: null,\r\n          asset_class: null,\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { editorState } = this.state;\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"hunter-textedit-container\" > \r\n          <Tabs\r\n            id=\"controlled-tab-example\"\r\n            activeKey={this.state.key}\r\n            onSelect={(k) => this.setState({ key: k })}\r\n            className=\"mb-3\"\r\n          >\r\n            <Tab eventKey=\"parameter\" title=\"Parameter Editor\">\r\n              <Editor\r\n                editorState={editorState}\r\n                toolbarClassName=\"toolbarClassName\"\r\n                wrapperClassName=\"wrapperClassName\"\r\n                editorClassName=\"editorClassName\"\r\n                editorStyle={{backgroundColor:\"whitesmoke\"}}\r\n                onEditorStateChange={this.onEditorStateChange}\r\n              />\r\n              <div className=\"hunter-editor-button-area\">\r\n                <div className=\"display-flex-left\">\r\n                  <button className=\"btn btn-md btn-secondary\" onClick={()=>this.handleScriptFileCreate()}>New</button>\r\n                  <button className=\"btn btn-md btn-secondary\" onClick={()=>this.handleOpenScriptFile()}>Open</button>\r\n                  <button className=\"btn btn-md btn-secondary\" onClick={()=>this.handleSave(draftToHtml(convertToRaw(editorState.getCurrentContent())))}>Save</button>\r\n                </div>\r\n              </div>\r\n            </Tab>\r\n            <Tab eventKey=\"process\" title=\"Process Config Editor\">\r\n              <div className={\"strategy-indicator-edit-area\"}>\r\n                <ul className=\"list-group\">\r\n                  {this.displayProcessEditor()}\r\n                </ul>\r\n                <div className=\"strategy-edit-icon-area\">\r\n                  <button className=\"btn btn-md btn-secondary mr-10\" onClick={()=>this.handleIndicatorReset()}>Reset</button>\r\n                  <button className=\"btn btn-md btn-secondary mr-10\" onClick={()=>this.handleOpenProcessConfigModal()}>Open</button>\r\n                  <button className=\"btn btn-md btn-secondary mr-10\" onClick={()=>this.handleProcessConfigSettingSave()}>Save</button>\r\n                </div>\r\n              </div>\r\n            </Tab>\r\n            <Tab eventKey=\"bot-status-manager\" title=\"Bot Status Manager\">\r\n            <MDBDataTableV5 \r\n              hover\r\n              maxHeight=\"500px\"\r\n              entriesOptions={[10, 25, 50, 100]}\r\n              entries={10}\r\n              pagesAmount={4}\r\n              data={this.state.botStatusDatatable}\r\n              dark={true}\r\n              noBottomColumns={true}\r\n              small={true}\r\n              striped={true}\r\n              scrollY={true}\r\n            />;\r\n            </Tab>\r\n            <Tab eventKey=\"bot-config-manager\" title=\"Bot Config Manager\">\r\n              <MDBDataTableV5 \r\n                hover\r\n                maxHeight=\"500px\"\r\n                entriesOptions={[10, 25, 50, 100]}\r\n                entries={10}\r\n                pagesAmount={4}\r\n                data={this.state.botConfigDatatable}\r\n                noBottomColumns={true}\r\n                small={true}\r\n                sortable={false}\r\n                striped={true}\r\n                scrollX\r\n              />;\r\n            </Tab>\r\n          </Tabs>\r\n          <Modal show={this.state.isShowOpenModal} className=\"hunter-modal\" onHide={this.OpenScriptModalClose}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Open Script File</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n              <div className=\"hunter-select-module-area\">\r\n                <div className=\"select-multi-option\">\r\n                  <label>Select module type</label>\r\n                  <Select\r\n                    className=\"hunter-module-type-select\"\r\n                    name=\"select-module-type\"\r\n                    placeholder=\"Module Type\"\r\n                    value={this.state.selectedModuleType}\r\n                    onChange={this.handleModuleTypeChange}\r\n                    options={this.state.moduleTypeOptions}\r\n                  />\r\n                </div>\r\n                <div className=\"select-multi-option\">\r\n                  <label>Select file type</label>\r\n                  <Select\r\n                    name=\"select-file-type\"\r\n                    placeholder=\"File Type\"\r\n                    value={this.state.selectedFileType}\r\n                    onChange={this.handleFileTypeChange}\r\n                    options={this.state.fileTypeOptions}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </Modal.Body>\r\n            <Modal.Footer className=\"hunter-modal-footer\">\r\n              <Button\r\n                variant=\"primary\"\r\n                className=\"btn-md\"\r\n                onClick = {() => {\r\n                  this.handleScriptFileOpen(this.state.selectedFileType)\r\n                }}\r\n              >\r\n                Open\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Modal>\r\n          <Modal show={this.state.isShowConfigOpenModal} className=\"hunter-modal\" onHide={this.ProcessConfigModalClose}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Open Script File</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n              <div className=\"hunter-select-module-area\">\r\n                <div className=\"select-multi-option\">\r\n                  <label>Select Config File</label>\r\n                  <Select\r\n                    className=\"hunter-module-type-select\"\r\n                    name=\"select-config-file\"\r\n                    placeholder=\"Config File\"\r\n                    value={this.state.selectedConfigFile}\r\n                    onChange={this.handleConfigFileChange}\r\n                    options={this.state.configFileOptions}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </Modal.Body>\r\n            <Modal.Footer className=\"hunter-modal-footer\">\r\n              <Button\r\n                variant=\"primary\"\r\n                className=\"btn-md\"\r\n                onClick = {() => {\r\n                  this.handleConfigFileOpen()\r\n                }}\r\n              >\r\n                Open\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Modal>\r\n          <Modal show={this.state.isShowSaveModal} className=\"hunter-modal\" onHide={this.SaveScriptModalClose}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Save Script File</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n              <div className=\"hunter-form-group\">\r\n                <input\r\n                    type=\"text\"\r\n                    className=\"form-control hunter-form-control\"\r\n                    placeholder=\"script file name\"\r\n                    value={\r\n                      this.state.filename\r\n                    }\r\n                    onChange={(e) => { this.handleScriptFileNameChange(e)}}\r\n                />\r\n              </div>\r\n            </Modal.Body>\r\n            <Modal.Footer className=\"hunter-modal-footer\">\r\n              <Button variant=\"primary\" onClick={this.handleScriptFileSave} className=\"btn-md\">\r\n                Save\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Modal>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}","import React from 'react'\r\nimport AdminNavbar from \"components/Navbars/AdminNavbar\";\r\nimport { routes } from \"routes.js\";\r\nimport Sidebar from \"components/Sidebar/Sidebar\";\r\nimport TextEditor from 'components/TextEditor/Editor';\r\nimport {\r\n  Button\r\n} from \"reactstrap\";\r\nexport default function FileManager(){\r\n  const [isShowSidebar, setShowSidebar] = React.useState(true);\r\n  const [selectedInstance, setSelectedInstance] = React.useState('forward_test');\r\n  const handleSidebarChange = () => {\r\n    setShowSidebar(!isShowSidebar);\r\n  };\r\n  const handleInstanceChange = (instance) => {\r\n    setSelectedInstance(instance)\r\n}\r\n\r\n  return(\r\n    <React.Fragment>        \r\n      <AdminNavbar/>\r\n      <div className=\"wrapper hunter-wrapper\">\r\n          {!isShowSidebar && (\r\n            <Button\r\n              className ={\"show-sidebar-toggle-area show-sidebar-icon\"}\r\n              onClick={handleSidebarChange}\r\n            >\r\n              <i className=\"tim-icons icon-align-left-2\"/>\r\n            </Button>\r\n          )}\r\n          {isShowSidebar && (\r\n            <Sidebar\r\n              isAdminPage={false}\r\n              routes={routes}\r\n              subInstance={'systemfilemanager'}\r\n              handleSidebarChange={handleSidebarChange}\r\n              selectedInstance={selectedInstance}\r\n              handleInstanceChange={handleInstanceChange}\r\n            />\r\n          )}\r\n          <TextEditor/>\r\n        </div>\r\n    </React.Fragment>\r\n  );  \r\n}","import { createContext } from \"react\";\r\n\r\nexport const themes = {\r\n  dark: \"\",\r\n  light: \"white-content\",\r\n};\r\n\r\nexport const ThemeContext = createContext({\r\n  theme: themes.dark,\r\n  changeTheme: () => {},\r\n});\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { ThemeContext, themes } from \"contexts/ThemeContext\";\r\n\r\nexport default function ThemeContextWrapper(props) {\r\n  const [theme, setTheme] = useState(themes.dark);\r\n\r\n  function changeTheme(theme) {\r\n    setTheme(theme);\r\n  }\r\n\r\n  useEffect(() => {\r\n    switch (theme) {\r\n      case themes.light:\r\n        document.body.classList.add(\"white-content\");\r\n        break;\r\n      case themes.dark:\r\n      default:\r\n        document.body.classList.remove(\"white-content\");\r\n        break;\r\n    }\r\n  }, [theme]);\r\n\r\n  return (\r\n    <ThemeContext.Provider value={{ theme: theme, changeTheme: changeTheme }}>\r\n      {props.children}\r\n    </ThemeContext.Provider>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  BackgroundColorContext,\r\n  backgroundColors,\r\n} from \"contexts/BackgroundColorContext\";\r\n\r\nexport default function BackgroundColorWrapper(props) {\r\n  const [color, setColor] = useState(backgroundColors.blue);\r\n\r\n  function changeColor(color) {\r\n    setColor(color);\r\n  }\r\n\r\n  return (\r\n    <BackgroundColorContext.Provider\r\n      value={{ color: color, changeColor: changeColor }}\r\n    >\r\n      {props.children}\r\n    </BackgroundColorContext.Provider>\r\n  );\r\n}\r\n","import {\r\n  Route,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport { useAuth } from 'contexts/authContext';\r\n\r\nexport default function PrivateRoute({ children, ...rest }) {\r\n  let auth = useAuth();\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) =>\r\n        auth.authUser.isAuthenticated ? (\r\n          children\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/login\",\r\n              state: { from: location }\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n  ","import React, { useState, useEffect } from \"react\";\r\nimport { useAuth } from 'contexts/authContext'\r\nimport { validateEmail } from 'utils/helper'\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst SignUp = () => {\r\n    let history = useHistory();\r\n\r\n    let auth = useAuth();\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [username, setUserName] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [error, setError] = useState(-1)\r\n    const [message, setMessage] = useState()\r\n    const [password, setPassword] = useState('')\r\n    const [confirmPassword, setConfirmPassword] = useState('')\r\n    const [pathname] = useState(history.location.pathname)\r\n\r\n    useEffect(() => {\r\n        const listener = event => {\r\n            if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\r\n                event.preventDefault();\r\n                signup()\r\n            }\r\n        };\r\n        document.addEventListener(\"keydown\", listener);\r\n        return () => {\r\n            document.removeEventListener(\"keydown\", listener);\r\n        };\r\n    }, []);   \r\n    \r\n    const handleEmailChange = (e) => {\r\n        setEmail(e.target.value)\r\n    }\r\n    \r\n    const handlePasswordChange = (e) => {\r\n        setPassword(e.target.value)\r\n    }\r\n    \r\n    const handleConfirmPasswordChange = (e) => {\r\n        setConfirmPassword(e.target.value)\r\n    }\r\n    \r\n    const handleUserNameChange = (e) => {\r\n        setUserName(e.target.value)\r\n    }\r\n\r\n    const signup = async () => {\r\n        if (!username.length) {\r\n            setError(1)\r\n            setMessage('user name is wrong')\r\n            return\r\n        }\r\n        if (!email.length) {\r\n            setError(1)\r\n            setMessage('user email is wrong')\r\n            return\r\n        }\r\n        if (!password.length || !confirmPassword.length) {\r\n            setError(1)\r\n            setMessage('password or confirm password is wrong')\r\n            return\r\n        }\r\n        if (password !== confirmPassword) {\r\n            setError(1)\r\n            setMessage('password and confirm password is not matched')\r\n            return\r\n        }\r\n        if (!validateEmail(email)){\r\n            setError(1)\r\n            setMessage('Invalid email')\r\n            return\r\n        }\r\n        \r\n        setIsLoading(true)\r\n        const res = await auth.authUser.signup(username, email, password, confirmPassword, pathname)\r\n        setIsLoading(false)\r\n\r\n        if (res.success) {\r\n            // setError(0)\r\n            // setMessage('Sign Up is successed')\r\n            history.push('/login')\r\n        } else {\r\n            setError(1)\r\n            setMessage(res.error)\r\n            return\r\n        }\r\n    }\r\n\r\n    const handleModalClose = () => {\r\n        setError(-1);\r\n        setMessage('');\r\n    }\r\n\r\n    return (\r\n        <div className={\"login-form\"}>\r\n            <div>\r\n\r\n                <h3>Sign Up</h3>\r\n\r\n                <div className=\"form-group\">\r\n                    <label>Name</label>\r\n                    <input\r\n                        type=\"name\"\r\n                        className=\"form-control hunter-form-control\"\r\n                        placeholder=\"Enter user name\"\r\n                        value={username}\r\n                        onChange={(e) => { handleUserNameChange(e)}}\r\n                    />\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                    <label>Email</label>\r\n                    <input\r\n                        type=\"email\"\r\n                        className=\"form-control hunter-form-control\"\r\n                        placeholder=\"Enter email\"\r\n                        value={email}\r\n                        onChange={(e) => { handleEmailChange(e)}}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label>Password</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        className=\"form-control hunter-form-control\"\r\n                        placeholder=\"Enter password\"\r\n                        value={password}\r\n                        onChange={(e) => { handlePasswordChange(e)}}\r\n                    />\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                    <label>Confirm Password</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        className=\"form-control hunter-form-control\"\r\n                        placeholder=\"Enter confirm password\"\r\n                        value={confirmPassword}\r\n                        onChange={(e) => { handleConfirmPasswordChange(e)}}\r\n                    />\r\n                </div>\r\n\r\n                <button\r\n                    className=\"btn btn-dark btn-lg btn-block hunter-signin-button\"\r\n                    onClick={signup}\r\n                >\r\n                    {isLoading && (\r\n                        <span className=\"spinner-border spinner-border-sm hunter-spinner-button\" role=\"status\" aria-hidden=\"true\"></span>\r\n                    )}\r\n                    Sign up\r\n                    \r\n                </button>\r\n                <div className=\"form-group\">\r\n                    <p className=\"sign-up-area text-right\">\r\n                        <a href=\"/signin\">Sign In?</a>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            {error !== -1 && \r\n                <div className=\"alert alert-primary\" role=\"alert\">\r\n                    <div className=\"alert-container\">\r\n                        <div className=\"alert-content\">\r\n                            {message}\r\n                        </div>\r\n                        <button type=\"button\" className=\"btn btn-primary modal-close-button hunter-modal-small-button\" onClick={() => { handleModalClose() }}>Close</button>\r\n                    </div>\r\n                </div>   \r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SignUp","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n    useHistory,\r\n} from \"react-router-dom\";\r\nimport { useAuth } from 'contexts/authContext'\r\n\r\nconst Verify = () => {\r\n    let auth = useAuth();\r\n    let history = useHistory();\r\n    const [code, setCode] = useState('')\r\n    const [error, setError] = useState(-1)\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [message, setMessage] = useState('')\r\n    const userId = history.location.state ? history.location.state.userId : null\r\n    \r\n    const handleCodeChange = (e) => {\r\n        setCode(e.target.value)\r\n    }\r\n    \r\n    useEffect(() => {\r\n        const listener = event => {\r\n            if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\r\n                event.preventDefault();\r\n                verify();\r\n            }\r\n        };\r\n        document.addEventListener(\"keydown\", listener);\r\n\r\n        if (!userId) {\r\n            history.push('/login')\r\n        }\r\n\r\n        return () => {\r\n            document.removeEventListener(\"keydown\", listener);\r\n        };\r\n    }, [userId, history])\r\n\r\n    const verify = async () => {\r\n        if (!code.length) {\r\n            setError(1)\r\n            setMessage('confirmation code is empty')\r\n            return\r\n        }\r\n        setIsLoading(true)\r\n        const res = await auth.authUser.verify(userId, code)\r\n        setIsLoading(false)\r\n        if (res.verify) {\r\n            const userInfo = {\r\n                email: res.user_email,\r\n                role: res.is_admin ? 'forward_test,stress_test,optimization,live_trade,macket_watch,trade_data' : res.role,\r\n                is_admin: res.is_admin,\r\n            }\r\n            localStorage.setItem('user-info', JSON.stringify(userInfo))\r\n            localStorage.setItem('auth-token', JSON.stringify(res.token))\r\n            history.push('/');\r\n        } else {\r\n            setError(1)\r\n            setMessage(res.error)\r\n            return\r\n        }\r\n    }\r\n\r\n    const handleModalClose = () => {\r\n        setError(-1);\r\n        setMessage('');\r\n    }\r\n\r\n    return (\r\n        <div className={\"login-form\"}>\r\n            <div>\r\n\r\n                <h3>Verify</h3>\r\n\r\n                <div className=\"form-group\">\r\n                    <label>Verify Code</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        className=\"form-control hunter-form-control\"\r\n                        placeholder=\"Enter verify code\"\r\n                        value={code}\r\n                        onChange={(e) => { handleCodeChange(e)}}\r\n                    />\r\n                </div>\r\n\r\n                <button\r\n                    className=\"btn btn-dark btn-lg btn-block hunter-signin-button\"\r\n                    onClick={verify}\r\n                >\r\n                    {isLoading && (\r\n                        <span className=\"spinner-border spinner-border-sm hunter-spinner-button\" role=\"status\" aria-hidden=\"true\"></span>\r\n                    )}\r\n                    Verify\r\n                </button>\r\n            </div>\r\n            {error !== -1 && \r\n                <div class=\"alert alert-primary\" role=\"alert\">\r\n                    <div className=\"alert-container\">\r\n                        <div className=\"alert-content\">\r\n                            {message}\r\n                        </div>\r\n                        <button type=\"button\" className=\"btn btn-primary modal-close-button hunter-modal-small-button\" onClick={() => { handleModalClose() }}>Close</button>\r\n                    </div>\r\n                </div>   \r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Verify","import React, { useState, useEffect, useMemo, useCallBack } from \"react\";\r\nimport Select from 'react-select'\r\nimport { Link } from \"react-router-dom\";\r\nimport \"react-datetime/css/react-datetime.css\";\r\nimport {\r\n  Collapse,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  UncontrolledDropdown,\r\n  NavLink,\r\n  Nav,\r\n} from \"reactstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { MDBTable, MDBTableBody, MDBTableHead } from 'mdbreact';\r\nimport Pagination from 'react-bootstrap/Pagination'\r\nimport { useAuth } from 'contexts/authContext';\r\nimport { getFloatsDetails, getFloatsFilterOptions } from 'api/Api'\r\nimport \"./FloatsComponent.css\"\r\n\r\nconst ScannerComponent = () => {\r\n  const auth = useAuth();\r\n  const history = useHistory();\r\n  const [collapseOpen,] = React.useState(false)\r\n  const [exchange, setExchange] = React.useState(null)\r\n  const [sector, setSector] = useState(null);\r\n  const [industry, setIndustry] = useState(null);\r\n  const [scannerData, setScannerData] = useState([])\r\n  const [pageAmount, setPageAmount] = useState(10)\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  const [wholeRows, setWholeRows] = useState(0);\r\n  const [optionsExchange, setOptionsExchanges] = useState([])\r\n  const [optionsSector, setOptionsSector] = useState([])\r\n  const [optionsIndustry, setOptionsIndustry] = useState([])\r\n\r\n  const hearder_columns = useMemo(() => {\r\n    return [\r\n    {\r\n      label: 'Industry',\r\n      field: 'Industry',\r\n      attributes: {\r\n        'aria-controls': 'DataTable',\r\n        'aria-label': 'symbol',\r\n      },\r\n    },\r\n    {\r\n      label: 'Symbol',\r\n      field: 'Symbol',\r\n    },\r\n    {\r\n      label: 'AssetType',\r\n      field: 'AssetType',\r\n    },\r\n    {\r\n      label: 'Name',\r\n      field: 'Name',\r\n    },  \r\n    {\r\n      label: 'SharesFloat',\r\n      field: 'SharesFloat',\r\n    },\r\n    {\r\n      label: 'ShortPercentFloat',\r\n      field: 'ShortPercentFloat',\r\n    },   \r\n    {\r\n      label: 'Description',\r\n      field: 'Description',\r\n    },\r\n    {\r\n      label: 'CIK',\r\n      field: 'CIK',\r\n    },\r\n    {\r\n      label: 'Exchange',\r\n      field: 'Exchange',\r\n    },\r\n    {\r\n      label: 'Currency',\r\n      field: 'Currency',\r\n    },\r\n    {\r\n      label: 'Country',\r\n      field: 'Country',\r\n    },\r\n    {\r\n      label: 'Sector',\r\n      field: 'Sector',\r\n    },\r\n    {\r\n      label: 'Industry',\r\n      field: 'Industry',\r\n    },\r\n    {\r\n      label: 'Address',\r\n      field: 'Address',\r\n    },\r\n    {\r\n      label: 'FiscalYearEnd',\r\n      field: 'FiscalYearEnd',\r\n    },\r\n    {\r\n      label: 'LatestQuarter',\r\n      field: 'LatestQuarter',\r\n    },\r\n    {\r\n      label: 'MarketCapitalization',\r\n      field: 'MarketCapitalization',\r\n    },\r\n    {\r\n      label: 'EBITDA',\r\n      field: 'EBITDA',\r\n    },\r\n    {\r\n      label: 'PERatio',\r\n      field: 'PERatio',\r\n    },\r\n    {\r\n      label: 'PEGRatio',\r\n      field: 'PEGRatio',\r\n    },\r\n    {\r\n      label: 'BookValue',\r\n      field: 'BookValue',\r\n    },\r\n    {\r\n      label: 'DividendPerShare',\r\n      field: 'DividendPerShare',\r\n    },\r\n    {\r\n      label: 'DividendYield',\r\n      field: 'DividendYield',\r\n    },\r\n    {\r\n      label: 'EPS',\r\n      field: 'EPS',\r\n    },\r\n    {\r\n      label: 'RevenuePerShareTTM',\r\n      field: 'RevenuePerShareTTM',\r\n    },\r\n    {\r\n      label: 'ProfitMargin',\r\n      field: 'ProfitMargin',\r\n    },\r\n    {\r\n      label: 'OperatingMarginTTM',\r\n      field: 'OperatingMarginTTM',\r\n    },\r\n    {\r\n      label: 'ReturnOnAssetsTTM',\r\n      field: 'ReturnOnAssetsTTM',\r\n    },\r\n    {\r\n      label: 'ReturnOnEquityTTM',\r\n      field: 'ReturnOnEquityTTM',\r\n    },\r\n    {\r\n      label: 'RevenueTTM',\r\n      field: 'RevenueTTM',\r\n    },\r\n    {\r\n      label: 'GrossProfitTTM',\r\n      field: 'GrossProfitTTM',\r\n    },\r\n    {\r\n      label: 'DilutedEPSTTM',\r\n      field: 'DilutedEPSTTM',\r\n    },\r\n    {\r\n      label: 'QuarterlyEarningsGrowthYOY',\r\n      field: 'QuarterlyEarningsGrowthYOY',\r\n    },\r\n    {\r\n      label: 'AnalystTargetPrice',\r\n      field: 'AnalystTargetPrice',\r\n    },\r\n    {\r\n      label: 'TrailingPE',\r\n      field: 'TrailingPE',\r\n    },\r\n    {\r\n      label: 'ForwardPE',\r\n      field: 'ForwardPE',\r\n    },\r\n    {\r\n      label: 'PriceToSalesRatioTTM',\r\n      field: 'PriceToSalesRatioTTM',\r\n    },\r\n    {\r\n      label: 'PriceToBookRatio',\r\n      field: 'PriceToBookRatio',\r\n    },\r\n    {\r\n      label: 'EVToRevenue',\r\n      field: 'EVToRevenue',\r\n    },\r\n    {\r\n      label: 'EVToEBITDA',\r\n      field: 'EVToEBITDA',\r\n    },\r\n    {\r\n      label: 'Beta',\r\n      field: 'Beta',\r\n    },\r\n    {\r\n      label: '52WeekHigh',\r\n      field: '52WeekHigh',\r\n    },\r\n    {\r\n      label: '50DayMovingAverage',\r\n      field: '50DayMovingAverage',\r\n    },\r\n    {\r\n      label: '200DayMovingAverage',\r\n      field: '200DayMovingAverage',\r\n    },\r\n    {\r\n      label: 'SharesOutstanding',\r\n      field: 'SharesOutstanding',\r\n    },\r\n    {\r\n      label: 'SharesShort',\r\n      field: 'SharesShort',\r\n    },\r\n    {\r\n      label: 'SharesShortPriorMonth',\r\n      field: 'SharesShortPriorMonth',\r\n    },\r\n    {\r\n      label: 'ShortRatio',\r\n      field: 'ShortRatio',\r\n    },\r\n    {\r\n      label: 'ShortPercentOutstanding',\r\n      field: 'ShortPercentOutstanding',\r\n    },\r\n    {\r\n      label: 'PercentInsiders',\r\n      field: 'PercentInsiders',\r\n    },\r\n    {\r\n      label: 'PercentInstitutions',\r\n      field: 'PercentInstitutions',\r\n    },\r\n    {\r\n      label: 'ForwardAnnualDividendRate',\r\n      field: 'ForwardAnnualDividendRate',\r\n    },\r\n    {\r\n      label: 'ForwardAnnualDividendYield',\r\n      field: 'ForwardAnnualDividendYield',\r\n    },\r\n    {\r\n      label: 'PayoutRatio',\r\n      field: 'PayoutRatio',\r\n    },\r\n    {\r\n      label: 'DividendDate',\r\n      field: 'DividendDate',\r\n    },\r\n    {\r\n      label: 'ExDividendDate',\r\n      field: 'ExDividendDate',\r\n    },\r\n    {\r\n      label: 'LastSplitFactor',\r\n      field: 'LastSplitFactor',\r\n    },\r\n    {\r\n      label: 'ShortPercentOutstanding',\r\n      field: 'ShortPercentOutstanding',\r\n    },\r\n    {\r\n      label: 'LastSplitDate',\r\n      field: 'LastSplitDate',\r\n    },\r\n  ]}, [])\r\n\r\n  const [datatable, setDatatable] = React.useState({\r\n    columns: hearder_columns,\r\n    rows: scannerData,\r\n  });\r\n\r\n  const loadFloatDetails = async (pageNum) => {\r\n    console.log(\"pageNum\", pageNum)\r\n    const floatDetails = await getFloatsDetails(pageNum, pageAmount)\r\n\r\n    if (floatDetails) {\r\n      setWholeRows(floatDetails.page_total)\r\n      setDatatable({\r\n        columns: hearder_columns,\r\n        rows: floatDetails.floats,\r\n      })\r\n    }\r\n  }\r\n\r\n  const loadFloatsFilterOption = async () => {\r\n    const scannerOptions = await getFloatsFilterOptions()\r\n    if (scannerOptions.success) {\r\n      const exchanges = [{\r\n        value: '',\r\n        label: 'All'\r\n      }]\r\n      scannerOptions.result.exchanges.map(exchange => {\r\n        if (exchange === '') {\r\n          return null\r\n        }\r\n        exchanges.push({\r\n          value: exchange,\r\n          label: exchange\r\n        })\r\n      })\r\n\r\n      const industries = [{\r\n        value: '',\r\n        label: 'All'\r\n      }]\r\n\r\n      scannerOptions.result.industry.map(industry => {\r\n        if (industry !== '' && industry !== null) {\r\n          industries.push({\r\n            value: industry,\r\n            label: industry\r\n          })\r\n        }\r\n      })\r\n\r\n      const sectors = [{\r\n        value: '',\r\n        label: 'All'\r\n      }]\r\n      scannerOptions.result.sector.forEach(sector => {\r\n        if (sector !== '' && sector !== null) {\r\n          sectors.push({\r\n            value: sector,\r\n            label: sector\r\n          })\r\n        }\r\n      })\r\n\r\n      setOptionsExchanges(exchanges)\r\n      setOptionsIndustry(industries)\r\n      setOptionsSector(sectors)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    loadFloatDetails(currentPage)\r\n    loadFloatsFilterOption() \r\n  }, [])\r\n\r\n  const handleSignout = () => {\r\n    auth.signout()\r\n    history.push('/login')\r\n  }\r\n\r\n  const handlePrevClick = () => {\r\n    setCurrentPage(currentPage - 1)\r\n    loadFloatDetails(currentPage - 1)\r\n  }\r\n  \r\n  const handleNextClick = () => {\r\n    setCurrentPage(currentPage + 1)\r\n    loadFloatDetails(currentPage + 1)\r\n  }\r\n\r\n  const handleSectorChange = async (e) => {\r\n    setSector(e)\r\n    \r\n    const floatDetails = await getFloatsDetails(currentPage, pageAmount, exchange ? exchange.value : '', industry ? industry.value : '', e.value)\r\n\r\n    if (floatDetails) {\r\n      setWholeRows(floatDetails.page_total)\r\n      setDatatable({\r\n        columns: hearder_columns,\r\n        rows: floatDetails.floats,\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleExchangeChange = async (e) => {\r\n    setExchange(e)\r\n\r\n    const floatDetails = await getFloatsDetails(currentPage, pageAmount, e.value, industry ? industry.value : '', sector ? sector.value : '')\r\n\r\n    if (floatDetails) {\r\n      setWholeRows(floatDetails.page_total)\r\n      setDatatable({\r\n        columns: hearder_columns,\r\n        rows: floatDetails.floats,\r\n      })\r\n    }\r\n  }\r\n  \r\n  const handleIndustryChange = async (e) => {\r\n    setIndustry(e)\r\n\r\n    const floatDetails = await getFloatsDetails(currentPage, pageAmount, exchange ? exchange.value : '', e.value, sector ? sector.value : '')\r\n    setWholeRows(floatDetails.page_total)\r\n    setDatatable({\r\n      columns: hearder_columns,\r\n      rows: floatDetails.floats,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"hunter-chart-container\">\r\n      <nav className=\"navbar navbar-expand navbar-dark bg-dark hunter-nav-bar\">\r\n        <div className=\"logo-title\">\r\n          <a href=\"/chart\" className=\"hunter-navbar-brand\">\r\n            Violette AM - Client Portal\r\n          </a>\r\n        </div>\r\n        <div className=\"navbar-nav mr-auto\">\r\n          <li className=\"nav-item\">\r\n            <Link to={\"/chart\"} className=\"nav-link\"></Link>\r\n          </li>\r\n        </div>\r\n        <Collapse navbar isOpen={collapseOpen}>\r\n          <Nav className=\"ml-auto\" navbar>\r\n            <UncontrolledDropdown nav>\r\n              <DropdownToggle\r\n                caret\r\n                color=\"default\"\r\n                nav\r\n                onClick={(e) => e.preventDefault()}\r\n              >\r\n                <div className=\"photo\">\r\n                  <img\r\n                    alt=\"...\"\r\n                    src={require(\"assets/img/anime3.png\").default}\r\n                  />\r\n                </div>\r\n                <p className=\"d-lg-none\">Log out</p>\r\n              </DropdownToggle>\r\n              <DropdownMenu className=\"dropdown-navbar\" right tag=\"ul\">\r\n                <DropdownItem divider tag=\"li\" />\r\n                <NavLink tag=\"li\">\r\n                  <DropdownItem className=\"nav-item\" onClick={() => {handleSignout()}}>Log out</DropdownItem>\r\n                </NavLink>\r\n              </DropdownMenu>\r\n            </UncontrolledDropdown>\r\n            <li className=\"separator d-lg-none\" />\r\n          </Nav>\r\n        </Collapse>    \r\n      </nav>\r\n      <div className=\"col-sm-12 hunter-data-table-container scanner-page-container\">\r\n        <div className=\"hunter-data-table-title\">\r\n          Floats Table\r\n        </div>\r\n        <div className=\"hunter-search-filter-area\">\r\n          <div className=\"select-option\">\r\n            <Select\r\n              value={exchange}\r\n              onChange={handleExchangeChange}\r\n              options={optionsExchange}\r\n              placeholder=\"Exchange\"\r\n            />\r\n          </div>\r\n          <div className=\"select-option\">\r\n            <Select\r\n              value={sector}\r\n              onChange={handleSectorChange}\r\n              options={optionsSector}\r\n              placeholder=\"Sector\"\r\n            />\r\n          </div>\r\n          <div className=\"select-option\">\r\n            <Select\r\n              value={industry}\r\n              onChange={handleIndustryChange}\r\n              options={optionsIndustry}\r\n              placeholder=\"Industry\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <MDBTable \r\n          hover\r\n          small={true}\r\n          maxHeight=\"500px\"\r\n          entriesOptions={[10, 25, 50, 100]}\r\n          entries={10}\r\n          pagesAmount={50}\r\n          data={datatable}\r\n          dark={true}\r\n          noBottomColumns={true}\r\n          small={true}\r\n          scrollX={true}\r\n          scrollY={true}\r\n        >\r\n          <MDBTableHead  className=\"watch-list-data-table-header\">\r\n            <tr>\r\n              {hearder_columns.map((item) => (\r\n                <th key={item.label} className={`hunter-custom-table-floats-chart-th`}>{item.label}</th>\r\n              ))}\r\n            </tr>\r\n          </MDBTableHead>\r\n          <MDBTableBody\r\n              className={\"financial-table-body-1\"}\r\n            >\r\n            {datatable.rows.map((item) => (\r\n              <tr key={`row-${item.Symbol}`}>\r\n                {hearder_columns.map((column) => \r\n                  (\r\n                    <td \r\n                      key={`${item.symbol}-${column.field}`}\r\n                      className={`${column.field === 'Description' ? 'hunter-custom-table-description-td' : ''} hunter-custom-table-td`}\r\n                    >\r\n                      {item[column.field]}\r\n                    </td>\r\n                  )\r\n                )}\r\n              </tr>\r\n            ))}\r\n          </MDBTableBody>\r\n        </MDBTable>\r\n        <Pagination>\r\n          <Pagination.Item>{currentPage*10}</Pagination.Item>\r\n          <Pagination.Item>{(currentPage) * 10 + 9}</Pagination.Item>\r\n          <Pagination.Item> of </Pagination.Item>\r\n          <Pagination.Item> { wholeRows } </Pagination.Item>\r\n          <Pagination.Prev disabled={currentPage <= 0} onClick={() => { handlePrevClick() }}/>\r\n          <Pagination.Next disabled={(currentPage + 1) >= wholeRows / 10} onClick={() => { handleNextClick() }}/>\r\n        </Pagination>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ScannerComponent;\r\n","import React from \"react\";\r\nimport {\r\n  Button\r\n} from \"reactstrap\";\r\n\r\nimport Sidebar from \"components/Sidebar/Sidebar.js\";\r\nimport FloatsComponent from 'components/Floats/FloatsComponent.js'\r\n\r\nimport { routes } from \"routes.js\";\r\n\r\nimport { BackgroundColorContext } from \"contexts/BackgroundColorContext\";\r\n\r\nfunction Floats() {\r\n  const [isShowSidebar, setShowSidebar] = React.useState(false);\r\n  const [selectedInstance, setSelectedInstance] = React.useState('floats');\r\n  \r\n  const handleSidebarChange = () => {\r\n    setShowSidebar(!isShowSidebar);\r\n  };\r\n\r\n  const handleInstanceChange = (instance) => {\r\n    setSelectedInstance(instance)\r\n  }\r\n  \r\n  return (\r\n    <BackgroundColorContext.Consumer>\r\n      {({ color }) => (\r\n        <React.Fragment>\r\n          <div className=\"wrapper hunter-wrapper\">\r\n            {!isShowSidebar && (\r\n              <Button\r\n                className ={\"show-sidebar-toggle-area show-sidebar-icon\"}\r\n                onClick={handleSidebarChange}\r\n              >\r\n                <i className=\"tim-icons icon-align-left-2\"/>\r\n              </Button>\r\n            )}\r\n            {isShowSidebar && (\r\n              <Sidebar\r\n                isAdminPage={false}\r\n                routes={routes}\r\n                subInstance={'tradedatatable'}\r\n                selectedInstance={selectedInstance}\r\n                handleSidebarChange={handleSidebarChange}\r\n                handleInstanceChange={handleInstanceChange}\r\n              />\r\n            )}\r\n            <div className=\"col-sm-12\">\r\n                <FloatsComponent />\r\n            </div>\r\n          </div>\r\n        </React.Fragment>\r\n      )}\r\n    </BackgroundColorContext.Consumer>\r\n  );\r\n}\r\n\r\nexport default Floats;","import React, { useState } from \"react\";\r\nimport { validateEmail } from 'utils/helper'\r\nimport { forgotPassword } from 'api/Api'\r\n\r\nconst ForgotPassword = () => {\r\n  const [email, setEmail] = useState('')\r\n  const [error, setError] = useState(-1)\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [message, setMessage] = useState('')\r\n    \r\n  const handleEmailChange = (e) => {\r\n    setEmail(e.target.value)\r\n  }\r\n    \r\n  const handleForgotPassword = async () => {\r\n    if (!validateEmail(email)) {\r\n      setError(1)\r\n      setMessage('Invalid Email!')\r\n      return\r\n    }\r\n    setIsLoading(true)\r\n    let result = await forgotPassword(email)\r\n    setIsLoading(false)\r\n    if ( result.success ) {\r\n      setError(0)\r\n      setMessage('Password is sent to your email')\r\n      return\r\n    }\r\n    setError(1)\r\n    setMessage('Invalid Email!')\r\n    return\r\n  }\r\n\r\n  const handleModalClose = () => {\r\n    setError(-1);\r\n    setMessage('');\r\n  }\r\n\r\n  return (\r\n    <div className={\"login-form\"}>\r\n      <div>\r\n        <h3 className=\"hunter-mb-3\">Forgot Password</h3>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Email</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control hunter-form-control\"\r\n            placeholder=\"Enter email\"\r\n            value={email}\r\n            onChange={(e) => { handleEmailChange(e)}}\r\n          />\r\n        </div>\r\n          <button\r\n            className=\"btn btn-dark btn-lg btn-block hunter-signin-button\"\r\n            onClick={handleForgotPassword}\r\n          >\r\n            {isLoading && (\r\n                <span className=\"spinner-border spinner-border-sm hunter-spinner-button\" role=\"status\" aria-hidden=\"true\"></span>\r\n            )}\r\n            Send\r\n          </button>\r\n          <div className=\"form-group\">\r\n            <p className=\"sign-up-area text-right\">\r\n                <a href=\"/signin\">Sign In?</a>\r\n            </p>\r\n          </div>\r\n      </div>\r\n      {error !== -1 && \r\n        <div class=\"alert alert-primary\" role=\"alert\">\r\n          <div className=\"alert-container\">\r\n            <div className=\"alert-content\">\r\n              {message}\r\n            </div>\r\n            <button type=\"button\" className=\"btn btn-primary modal-close-button hunter-modal-small-button\" onClick={() => { handleModalClose() }}>Close</button>\r\n          </div>\r\n        </div>   \r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ForgotPassword","import React, { useState } from \"react\";\r\nimport { passwordConfirmReset } from 'api/Api'\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst PasswordResetConfirm = () => {\r\n  let history = useHistory();\r\n  const [password1, setPassword1] = useState('')\r\n  const [password2, setPassword2] = useState('')\r\n  const [error, setError] = useState(-1)\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [message, setMessage] = useState('')\r\n\r\n  const [pathname] = useState(history.location.pathname)\r\n\r\n  const handlePassword1Change = (e) => {\r\n    setPassword1(e.target.value)\r\n  }\r\n  \r\n  const handlePassword2Change = (e) => {\r\n    setPassword2(e.target.value)\r\n  }\r\n  \r\n  const delay = ms => new Promise(res => setTimeout(res, ms));\r\n\r\n  const handlePasswordResetConfirm = async () => {\r\n    if (!password1.length || !password2.length) {\r\n      setError(1)\r\n      setMessage('password is empty')\r\n      return\r\n    }\r\n\r\n    if (!password1.length || !password2.length) { \r\n        setError(1)\r\n        setMessage('password did not match')\r\n        return    \r\n    }\r\n\r\n    setIsLoading(true)\r\n    const res = await passwordConfirmReset(password1, password2, pathname)\r\n    setIsLoading(false)\r\n    setError(0)\r\n    if (res.success) {\r\n      setMessage(`success: ${res.content}`)  \r\n      await delay(3000);\r\n      history.push('/login')\r\n    } else {\r\n      setMessage(`error: ${res.content}`)  \r\n    }\r\n    return\r\n  }\r\n\r\n  const handleModalClose = () => {\r\n    setError(-1);\r\n    setMessage('');\r\n  }\r\n\r\n  return (\r\n    <div className={\"login-form\"}>\r\n      <div>\r\n        <h3 className=\"hunter-mb-3\">Forgot Password</h3>\r\n\r\n        <div className=\"form-group\">\r\n          <label>New Password</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control hunter-form-control\"\r\n            placeholder=\"Enter new password\"\r\n            value={password1}\r\n            onChange={(e) => { handlePassword1Change(e)}}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>ConfirmPassword</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control hunter-form-control\"\r\n            placeholder=\"Enter confirm password\"\r\n            value={password2}\r\n            onChange={(e) => { handlePassword2Change(e)}}\r\n          />\r\n        </div>\r\n          <button\r\n            className=\"btn btn-dark btn-lg btn-block hunter-signin-button\"\r\n            onClick={handlePasswordResetConfirm}\r\n          >\r\n            {isLoading && (\r\n                <span className=\"spinner-border spinner-border-sm hunter-spinner-button\" role=\"status\" aria-hidden=\"true\"></span>\r\n            )}\r\n            Reset\r\n          </button>\r\n          <div className=\"form-group\">\r\n            <p className=\"sign-up-area text-right\">\r\n              <a href=\"/signin\">Sign In?</a>\r\n            </p>\r\n          </div>\r\n      </div>\r\n      {error !== -1 && \r\n        <div class=\"alert alert-primary\" role=\"alert\">\r\n          <div className=\"alert-container\">\r\n            <div className=\"alert-content\">\r\n              {message}\r\n            </div>\r\n            <button type=\"button\" className=\"btn btn-primary modal-close-button hunter-modal-small-button\" onClick={() => { handleModalClose() }}>Close</button>\r\n          </div>\r\n        </div>   \r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PasswordResetConfirm","import { isNotDefined, isDefined } from \"react-stockcharts/lib/utils\";\r\n\r\nexport function saveInteractiveNode(chartId) {\r\n\treturn node => {\r\n\t\tthis[`node_${chartId}`] = node;\r\n\t};\r\n}\r\n\r\nexport function handleSelection(type, chartId) {\r\n\treturn selectionArray => {\r\n\t\tconst key = `${type}_${chartId}`;\r\n\t\tconst interactive = this.state[key].map((each, idx) => {\r\n\t\t\treturn {\r\n\t\t\t\t...each,\r\n\t\t\t\tselected: selectionArray[idx]\r\n\t\t\t};\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\t[key]: interactive\r\n\t\t});\r\n\t};\r\n}\r\n\r\nexport function saveInteractiveNodes(type, chartId) {\r\n\treturn node => {\r\n\t\tif (isNotDefined(this.interactiveNodes)) {\r\n\t\t\tthis.interactiveNodes = {};\r\n\t\t}\r\n\t\tconst key = `${type}_${chartId}`;\r\n\t\tif (isDefined(node) || isDefined(this.interactiveNodes[key])) {\r\n\t\t\t// console.error(node, key)\r\n\t\t\t// console.log(this.interactiveNodes)\r\n\t\t\tthis.interactiveNodes = {\r\n\t\t\t\t...this.interactiveNodes,\r\n\t\t\t\t[key]: { type, chartId, node },\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n}\r\n\r\nexport function getInteractiveNodes() {\r\n\treturn this.interactiveNodes;\r\n}","\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { format } from \"d3-format\";\r\nimport { timeFormat } from \"d3-time-format\";\r\nimport dayjs from \"dayjs\";\r\nimport { ChartCanvas, Chart } from \"react-stockcharts\";\r\nimport {\r\n\tBarSeries,\r\n} from \"react-stockcharts/lib/series\";\r\nimport { XAxis, YAxis } from \"react-stockcharts/lib/axes\";\r\nimport {\r\n\tCrossHairCursor,\r\n\tMouseCoordinateX,\r\n\tMouseCoordinateY,\r\n} from \"react-stockcharts/lib/coordinates\";\r\n\r\nimport { discontinuousTimeScaleProvider } from \"react-stockcharts/lib/scale\";\r\nimport { ema, macd } from \"react-stockcharts/lib/indicator\";\r\nimport { fitWidth } from \"react-stockcharts/lib/helper\";\r\nimport { DrawingObjectSelector } from \"react-stockcharts/lib/interactive\";\r\nimport { last, toObject } from \"react-stockcharts/lib/utils\";\r\nimport {\r\n\tsaveInteractiveNodes,\r\n\tgetInteractiveNodes,\r\n} from \"./interactiveutils\";\r\n\r\nclass CandleStickChartWithEquidistantChannel extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.onKeyPress = this.onKeyPress.bind(this);\r\n\t\t// this.onDrawComplete = this.onDrawComplete.bind(this);\r\n\t\tthis.saveInteractiveNode = this.saveInteractiveNode.bind(this);\r\n\t\tthis.saveCanvasNode = this.saveCanvasNode.bind(this);\r\n\t\tthis.handleSelection = this.handleSelection.bind(this);\r\n\r\n\t\tthis.saveInteractiveNodes = saveInteractiveNodes.bind(this);\r\n\t\tthis.getInteractiveNodes = getInteractiveNodes.bind(this);\r\n\r\n\t\tthis.state = {\r\n\t\t\tenableInteractiveObject: true,\r\n\t\t\tchannels_1: [],\r\n\t\t\tchannels_3: [],\r\n\t\t};\r\n\t}\r\n\tsaveInteractiveNode(node) {\r\n\t\tthis.node = node;\r\n\t}\r\n\tsaveCanvasNode(node) {\r\n\t\tthis.canvasNode = node;\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tdocument.addEventListener(\"keyup\", this.onKeyPress);\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\tdocument.removeEventListener(\"keyup\", this.onKeyPress);\r\n\t}\r\n\thandleSelection(interactives) {\r\n\t\tconst state = toObject(interactives, each => {\r\n\t\t\treturn [\r\n\t\t\t\t`channels_${each.chartId}`,\r\n\t\t\t\teach.objects,\r\n\t\t\t];\r\n\t\t});\r\n\t\tthis.setState(state);\r\n\t}\r\n\t// onDrawComplete(channels_1) {\r\n\t// \t// this gets called on\r\n\t// \t// 1. draw complete of drawing object\r\n\t// \t// 2. drag complete of drawing object\r\n\t// \tthis.setState({\r\n\t// \t\tenableInteractiveObject: false,\r\n\t// \t\tchannels_1\r\n\t// \t});\r\n\t// }\r\n\tonKeyPress(e) {\r\n\t}\r\n\trender() {\r\n\t\tconst ema26 = ema()\r\n\t\t\t.id(0)\r\n\t\t\t.options({ windowSize: 26 })\r\n\t\t\t.merge((d, c) => { d.ema26 = c; })\r\n\t\t\t.accessor(d => d.ema26);\r\n\r\n\t\tconst ema12 = ema()\r\n\t\t\t.id(1)\r\n\t\t\t.options({ windowSize: 12 })\r\n\t\t\t.merge((d, c) => {d.ema12 = c;})\r\n\t\t\t.accessor(d => d.ema12);\r\n\r\n\t\tconst macdCalculator = macd()\r\n\t\t\t.options({\r\n\t\t\t\tfast: 12,\r\n\t\t\t\tslow: 26,\r\n\t\t\t\tsignal: 9,\r\n\t\t\t})\r\n\t\t\t.merge((d, c) => {d.macd = c;})\r\n\t\t\t.accessor(d => d.macd);\r\n\r\n\t\tconst { type, data: initialData, width, ratio } = this.props;\r\n    initialData.dataPoints.forEach(line => {\r\n\t\t\tline.date = dayjs(line.calendarDate).toDate();\r\n\t\t});\r\n\t\tconst { channels_1, channels_3 } = this.state;\r\n\r\n\t\tconst calculatedData = macdCalculator(ema12(ema26(initialData.dataPoints)));\r\n\t\tconst xScaleProvider = discontinuousTimeScaleProvider\r\n\t\t\t.inputDateAccessor(d => d.date);\r\n\t\tconst {\r\n\t\t\tdata,\r\n\t\t\txScale,\r\n\t\t\txAccessor,\r\n\t\t\tdisplayXAccessor,\r\n\t\t} = xScaleProvider(calculatedData);\r\n\r\n\t\tconst start = xAccessor(last(data));\r\n\t\tconst end = xAccessor(data[Math.max(0, data.length - 150)]);\r\n\t\tconst xExtents = [start, end];\r\n\r\n\t\treturn (\r\n\t\t\t<ChartCanvas ref={this.saveCanvasNode}\r\n\t\t\t\theight={50}\r\n\t\t\t\twidth={width}\r\n\t\t\t\tratio={ratio}\r\n\t\t\t\tmargin={{ left: 0, right: 0, top: 20, bottom: 30 }}\r\n\t\t\t\ttype={type}\r\n\t\t\t\tseriesName=\"MSFT\"\r\n\t\t\t\tdata={data}\r\n\t\t\t\txScale={xScale}\r\n\t\t\t\txAccessor={xAccessor}\r\n\t\t\t\tdisplayXAccessor={displayXAccessor}\r\n\t\t\t\txExtents={xExtents}\r\n\t\t\t>\r\n\t\t\t\t\r\n\t\t\t\t<Chart id={3} height={50}\r\n\t\t\t\t\tyExtents={[d => d.value]}\r\n\t\t\t\t\t// origin={(w, h) => [0, h - 300]}\r\n\t\t\t\t>\r\n\t\t\t\t\t{/* <XAxis axisAt=\"bottom\" orient=\"bottom\"/>\r\n\t\t\t\t\t<YAxis axisAt=\"left\" orient=\"left\" ticks={5} tickFormat={format(\".2s\")}/> */}\r\n\r\n          \t\t\t{/* <MouseCoordinateX\r\n\t\t\t\t\t\tat=\"bottom\"\r\n\t\t\t\t\t\torient=\"bottom\"\r\n\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\r\n\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\tat=\"left\"\r\n\t\t\t\t\t\torient=\"left\"\r\n\t\t\t\t\t\tdisplayFormat={format(\".4s\")} /> */}\r\n\r\n\t\t\t\t\t<BarSeries yAccessor={d => d.value} fill={d => initialData.color} baseAt={(xScale, yScale, d) => yScale(0)} />\r\n\t\t\t\t</Chart>\r\n\t\t\t\t\t{/* <CrossHairCursor /> */}\r\n\t\t\t\t\t{/* <DrawingObjectSelector\r\n\t\t\t\t\t\tenabled={!this.state.enableInteractiveObject}\r\n\t\t\t\t\t\tgetInteractiveNodes={this.getInteractiveNodes}\r\n\t\t\t\t\t\tdrawingObjectMap={{\r\n\t\t\t\t\t\t\tEquidistantChannel: \"channels\"\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonSelect={this.handleSelection}\r\n\t\t\t\t\t/> */}\r\n\t\t\t</ChartCanvas>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nCandleStickChartWithEquidistantChannel.propTypes = {\r\n\tdata: PropTypes.array.isRequired,\r\n\twidth: PropTypes.number.isRequired,\r\n\tratio: PropTypes.number.isRequired,\r\n\ttype: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired,\r\n};\r\n\r\nCandleStickChartWithEquidistantChannel.defaultProps = {\r\n\ttype: \"svg\",\r\n};\r\n\r\nCandleStickChartWithEquidistantChannel = fitWidth(CandleStickChartWithEquidistantChannel);\r\n\r\nexport default CandleStickChartWithEquidistantChannel;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Chart from './Chart';\r\nimport './SmallBarChart.css'\r\n\r\nconst GroupBarChart = (props) => {\r\n  const { data, chartData, globalAggregationType } = props;\r\n\r\n  const [aggregationTypeForOne, setAggregrationTypeForOne] = useState();\r\n  const [currentData, setCurrentData] = useState();\r\n\r\n  const filterByAggregationTyoe = (selectedData) => {\r\n    if (selectedData) {\r\n      let filteredData = {...selectedData};\r\n      const dataPoints = filteredData.dataPoints.filter(\r\n        (item) => aggregationTypeForOne === \"\" || item.period === aggregationTypeForOne\r\n      );\r\n      filteredData['dataPoints'] = dataPoints;\r\n      return filteredData;\r\n    }\r\n    return selectedData;\r\n  };\r\n\r\n  useEffect(() => {\r\n    setAggregrationTypeForOne(globalAggregationType);\r\n    const filteredSelectedData = filterByAggregationTyoe(data);\r\n    setCurrentData(filteredSelectedData);\r\n  }, [globalAggregationType]);\r\n\r\n  useEffect(() => {\r\n    const filteredSelectedData = filterByAggregationTyoe(data);\r\n    setCurrentData(filteredSelectedData);\r\n  }, [aggregationTypeForOne]);\r\n\r\n  return (\r\n    <div className=\"small-bar-chart\">\r\n      {currentData && (\r\n        currentData.dataPoints.length > 0 ? (\r\n          <Chart type={'svg'} data={currentData} />\r\n        ) : (\r\n          <div className=\"no-data\">No data...</div>\r\n        )\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GroupBarChart;\r\n","import \"./style.css\";\r\nimport Select from 'react-select';\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst CustomDropDown = (props) => {\r\n  const { nodes, onChange, inputvalue } = props;\r\n  const [options, setOptions] = useState();\r\n  const [selectedNode, setSelectedNode] = useState();\r\n\r\n  useEffect(() => {\r\n    let nodeOptions = [{\r\n      label: \"All\",\r\n      value: \"All\",\r\n    }];\r\n    nodes.map((node) => {\r\n      if (\"children\" in node) {\r\n        node.children.map((child) => {\r\n          nodeOptions.push({\r\n            value: child.value,\r\n            label: child.label,\r\n          });\r\n        })\r\n      }\r\n    });\r\n\r\n    setOptions(nodeOptions);\r\n\r\n  }, [nodes]);\r\n\r\n  return (\r\n    <div className=\"dropdown-container\">\r\n      <Select\r\n        ref={inputvalue}\r\n        value={selectedNode}\r\n        onChange={onChange}\r\n        options={options}\r\n        className=\"modal-filter-select-box\"\r\n        placeholder=\"\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CustomDropDown;\r\n","import React from \"react\";\r\nimport CheckboxTree from \"react-checkbox-tree\";\r\nimport { cloneDeep } from 'lodash';\r\nimport CustomDropDown from \"./dropDown\";\r\nimport \"react-checkbox-tree/lib/react-checkbox-tree.css\";\r\nimport \"./style.css\";\r\n\r\nclass Widget extends React.Component {\r\n  state = {\r\n    checkedAvailableItem: [],\r\n    expandedAvailableItem: [],\r\n    selectedNode: {\r\n      value: \"\",\r\n      label: \"\",\r\n    },\r\n    nodesFilteredAvailableItem: [],\r\n    nodesAvailableItem: [],\r\n\r\n    restoreAvailableItems: [],\r\n    restoreCurrentItems: this.props.currentNodes,\r\n    \r\n    checkedCurrrentItem: [],\r\n    expandedCurrrentItem: [],\r\n    currentNodes: this.props.currentNodes,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.onCheckAvailableItem = this.onCheckAvailableItem.bind(this);\r\n    this.onExpandAvailableItem = this.onExpandAvailableItem.bind(this);\r\n    this.onFilterChangeAvailableItem = this.onFilterChangeAvailableItem.bind(this);\r\n\r\n    this.onCheckCurrentItem = this.onCheckCurrentItem.bind(this);\r\n    this.onExpandCurrentItem = this.onExpandCurrentItem.bind(this);\r\n\r\n    this.onAddItems = this.onAddItems.bind(this);\r\n    this.onRemoveItems = this.onRemoveItems.bind(this);\r\n    this.onLoadDefaults = this.onLoadDefaults.bind(this);\r\n\r\n    this.onMoveUp = this.onMoveUp.bind(this);\r\n    this.onMoveDown = this.onMoveDown.bind(this);\r\n\r\n    this.onRestoreClicked = this.onRestoreClicked.bind(this);\r\n    this.onOkClicked = this.onOkClicked.bind(this);\r\n    this.onCancelClicked = this.onCancelClicked.bind(this);\r\n\r\n    this.onGetAvailabelNodes = this.onGetAvailabelNodes.bind(this);\r\n    this.onLoadTotalNodes = this.onLoadTotalNodes.bind(this);\r\n    this.isExistItem = this.isExistItem.bind(this);\r\n\r\n  }\r\n\r\n  onGetAvailabelNodes() {\r\n    const currentItems = cloneDeep(this.state.currentNodes);\r\n    const totalNodes = cloneDeep(this.props.totalNodes);\r\n\r\n    let availableNodes = [];\r\n\r\n    totalNodes.map((totalNode) => {\r\n      let parentFlag = false;\r\n      currentItems.map((totalCurrentNode) => {\r\n        if (totalNode.value === totalCurrentNode.value) {\r\n          parentFlag = true;\r\n          if (\"children\" in totalCurrentNode && \"children\" in totalNode) {\r\n            let totalCurrnetChildrens = [];\r\n            totalCurrentNode.children.map((totalCurrentChild) => {\r\n              totalCurrnetChildrens.push(totalCurrentChild.value);\r\n            });\r\n            totalNode.children.map((totalChild) => {\r\n              if (!(totalCurrnetChildrens.includes(totalChild.value))) {\r\n                let childFlag = false;\r\n                availableNodes.map((availableNode, index) => {\r\n                  if (availableNode.value === totalCurrentNode.value) {\r\n                    availableNodes[index].children.push(totalChild);\r\n                    childFlag = true;\r\n                  }\r\n                })\r\n\r\n                if (!childFlag) {\r\n                  availableNodes.push({ ...totalNode, children: [totalChild] });\r\n                }\r\n              }\r\n            })\r\n          }\r\n        }\r\n      });\r\n\r\n      if (!parentFlag) {\r\n        availableNodes.push(totalNode);\r\n      }\r\n    })\r\n\r\n    this.setState({\r\n      nodesAvailableItem: availableNodes,\r\n      nodesFilteredAvailableItem: availableNodes,\r\n      restoreAvailableItems: availableNodes,\r\n    });\r\n  }\r\n\r\n  onCheckAvailableItem(checkedAvailableItem) {\r\n    this.setState({ checkedAvailableItem });\r\n  }\r\n\r\n  onExpandAvailableItem(expandedAvailableItem) {\r\n    this.setState({ expandedAvailableItem }, () => {\r\n      console.log(this.state.expandedAvailableItem);\r\n    });\r\n  }\r\n\r\n  onCheckCurrentItem(checkedCurrentItem) {\r\n    this.setState({ checkedCurrentItem });\r\n  }\r\n\r\n  onExpandCurrentItem(expandedCurrentItem) {\r\n    this.setState({ expandedCurrentItem }, () => {\r\n      console.log(this.state.expandedCurrentItem);\r\n    });\r\n  }\r\n\r\n  onFilterChangeAvailableItem(e) {\r\n    this.setState({ selectedNode: e });\r\n    let filteredNodes = [];\r\n    if (e.value === \"All\") {\r\n      filteredNodes = cloneDeep(this.state.nodesAvailableItem);\r\n    } else {\r\n      const availableNodes = cloneDeep(this.state.nodesAvailableItem);\r\n      if (e.label.includes(\"parent\")) {\r\n        filteredNodes = availableNodes.filter((node) => node.label === e.label);\r\n      } else {\r\n        availableNodes.map((node) => {\r\n          if (\"children\" in node) {\r\n            node.children.map((childNode) => {\r\n              if (childNode.label === e.label) {\r\n                filteredNodes.push(node);\r\n              }\r\n            })\r\n          }\r\n        })\r\n      }\r\n    }\r\n    \r\n    this.setState({\r\n      nodesFilteredAvailableItem: filteredNodes,\r\n    })\r\n  }\r\n\r\n  sortNodes(nodes) {\r\n    let sortedNodes = nodes;\r\n    // let suffixA, suffixB;\r\n    \r\n    // sortedNodes.map((node) => {\r\n    //   if (\"children\" in node) {\r\n    //     node.children.sort(function (a, b) {\r\n    //       suffixA = parseInt(a.value.split(\"_\")[3]);\r\n    //       suffixB = parseInt(b.value.split(\"_\")[3]);\r\n    //       return suffixA - suffixB;\r\n    //     });\r\n    //   }\r\n    // })\r\n\r\n    // sortedNodes.sort(function (a, b) {\r\n    //   suffixA = parseInt(a.value.split(\"_\")[2]);\r\n    //   suffixB = parseInt(b.value.split(\"_\")[2]);\r\n    //   return suffixA - suffixB;\r\n    // });\r\n\r\n    return sortedNodes;\r\n  }\r\n\r\n  onAddItems() {\r\n    const checkedItems = cloneDeep(this.state.checkedAvailableItem);\r\n    const availableItems = cloneDeep(this.state.nodesAvailableItem);\r\n    const totalNodes = cloneDeep(this.props.totalNodes);\r\n\r\n    let availableNodes = [];\r\n    let newCurrentNodes = [];\r\n\r\n    if (checkedItems) {\r\n      checkedItems.map((value) => {\r\n        availableItems.map((availableItem) => {\r\n          if (value.includes(\"child\")) {\r\n            let currentChildItems = [];\r\n            if (\"children\" in availableItem) {\r\n              availableItem.children.map((childItem) => {\r\n                if (childItem.value === value) {\r\n                  currentChildItems.push(childItem);\r\n                }\r\n              })\r\n    \r\n              if (currentChildItems.length > 0) {\r\n                newCurrentNodes.push({ ...availableItem, children: currentChildItems });\r\n              }\r\n            }\r\n          } else {\r\n            if (availableItem.value === value) {\r\n              newCurrentNodes.push(availableItem);\r\n            }\r\n          }\r\n        })\r\n      });\r\n  \r\n      // merge the new current nodes into original current nodes\r\n      const originCurrentNodes = cloneDeep(this.state.currentNodes);\r\n      let totalNewCurrentNodes = [];\r\n      newCurrentNodes.map((newCurrentNode) => {\r\n        let exist = false;\r\n        originCurrentNodes.map((currentNode) => {\r\n          if (currentNode.value === newCurrentNode.value) {\r\n            let currentChildItems = currentNode.children;\r\n            newCurrentNode.children.map((newChildItem) => {\r\n              currentChildItems.push(newChildItem);\r\n            });\r\n            totalNewCurrentNodes.push({ ...currentNode, children: currentChildItems });\r\n            exist = true;\r\n          }\r\n        })\r\n  \r\n        if (!exist) {\r\n          let parentExist = false;\r\n          totalNewCurrentNodes.map((node, index) => {\r\n            if (node.value === newCurrentNode.value) {\r\n              totalNewCurrentNodes[index].children.push(newCurrentNode.children[0]);\r\n              parentExist = true;\r\n            }\r\n          })\r\n          if (!parentExist) {\r\n            totalNewCurrentNodes.push(newCurrentNode);\r\n          }\r\n        }\r\n      })\r\n  \r\n      let totalCurrentNodes = totalNewCurrentNodes;\r\n      originCurrentNodes.map((originNode) => {\r\n        let exist = false;\r\n        totalNewCurrentNodes.map((newNode) => {\r\n          if (originNode.value === newNode.value) {\r\n            exist = true;\r\n          }\r\n        })\r\n        if (!exist) {\r\n          totalCurrentNodes.push(originNode);\r\n        }\r\n      });\r\n  \r\n      totalNodes.map((totalNode) => {\r\n        let parentFlag = false;\r\n        totalCurrentNodes.map((totalCurrentNode) => {\r\n          if (totalNode.value === totalCurrentNode.value) {\r\n            parentFlag = true;\r\n            if (\"children\" in totalCurrentNode && \"children\" in totalNode) {\r\n              let totalCurrnetChildrens = [];\r\n              totalCurrentNode.children.map((totalCurrentChild) => {\r\n                totalCurrnetChildrens.push(totalCurrentChild.value);\r\n              });\r\n              totalNode.children.map((totalChild) => {\r\n                if (!(totalCurrnetChildrens.includes(totalChild.value))) {\r\n                  let childFlag = false;\r\n                  availableNodes.map((availableNode, index) => {\r\n                    if (availableNode.value === totalCurrentNode.value) {\r\n                      availableNodes[index].children.push(totalChild);\r\n                      childFlag = true;\r\n                    }\r\n                  })\r\n  \r\n                  if (!childFlag) {\r\n                    availableNodes.push({ ...totalNode, children: [totalChild] });\r\n                  }\r\n                }\r\n              })\r\n            }\r\n          }\r\n        });\r\n  \r\n        if (!parentFlag) {\r\n          availableNodes.push(totalNode);\r\n        }\r\n      })\r\n\r\n      this.setState({\r\n        currentNodes: totalCurrentNodes,\r\n        nodesAvailableItem: availableNodes,\r\n        nodesFilteredAvailableItem: availableNodes,\r\n      });\r\n    }\r\n  }\r\n\r\n  onRemoveItems() {\r\n    const checkedItems = cloneDeep(this.state.checkedCurrentItem);\r\n    const currentItems = cloneDeep(this.state.currentNodes);\r\n    const totalNodes = cloneDeep(this.props.totalNodes);\r\n\r\n    \r\n    let availableNodes = [];\r\n    let newCurrentNodes = [];\r\n    \r\n    if (checkedItems) {\r\n      checkedItems.map((value) => {\r\n        currentItems.map((availableItem) => {\r\n          if (value.includes(\"child\")) {\r\n            let currentChildItems = [];\r\n            if (\"children\" in availableItem) {\r\n              availableItem.children.map((childItem) => {\r\n                if (childItem.value === value) {\r\n                  currentChildItems.push(childItem);\r\n                }\r\n              })\r\n              \r\n              if (currentChildItems.length > 0) {\r\n                let filteredNode = newCurrentNodes.filter(node => node.value === availableItem.value)\r\n                if (filteredNode.length) {\r\n                  filteredNode[0].children.push( ...currentChildItems );\r\n                } else {\r\n                  newCurrentNodes.push({ ...availableItem, children: currentChildItems });\r\n                }\r\n              }\r\n            }\r\n          } else {\r\n            if (availableItem.value === value) {\r\n              newCurrentNodes.push(availableItem);\r\n            }\r\n          }\r\n        })\r\n      });\r\n      \r\n      // merge the new current nodes into original current nodes\r\n\r\n      const originCurrentNodes = cloneDeep(this.state.nodesAvailableItem);\r\n      let totalNewCurrentNodes = [];\r\n      newCurrentNodes.map((newCurrentNode) => {\r\n        let exist = false;\r\n        let currentChildItems\r\n        originCurrentNodes.map((currentNode) => {\r\n          \r\n          if (currentNode.value === newCurrentNode.value) {\r\n            currentChildItems = currentNode.children;\r\n            newCurrentNode.children.map((newChildItem) => {\r\n              currentChildItems.push(newChildItem);\r\n            });\r\n            totalNewCurrentNodes.push({ ...currentNode, children: currentChildItems });\r\n            exist = true;\r\n          }\r\n        })\r\n  \r\n        if (!exist) {\r\n          let parentExist = false;\r\n          totalNewCurrentNodes.map((node, index) => {\r\n            if (node.value === newCurrentNode.value) {\r\n              totalNewCurrentNodes[index].children.push(newCurrentNode.children[0]);\r\n              parentExist = true;\r\n            }\r\n          })\r\n          if (!parentExist) {\r\n            totalNewCurrentNodes.push(newCurrentNode);\r\n          }\r\n        }\r\n      })\r\n\r\n      let totalCurrentNodes = totalNewCurrentNodes;\r\n      originCurrentNodes.map((originNode) => {\r\n        let exist = false;\r\n        totalNewCurrentNodes.map((newNode) => {\r\n          if (originNode.value === newNode.value) {\r\n            exist = true;\r\n          }\r\n        })\r\n        if (!exist) {\r\n          totalCurrentNodes.push(originNode);\r\n        }\r\n      });\r\n  \r\n      totalNodes.map((totalNode) => {\r\n        let parentFlag = false;\r\n        totalCurrentNodes.map((totalCurrentNode) => {\r\n          if (totalNode.value === totalCurrentNode.value) {\r\n            parentFlag = true;\r\n            if (\"children\" in totalCurrentNode && \"children\" in totalNode) {\r\n              let totalCurrnetChildrens = [];\r\n              totalCurrentNode.children.map((totalCurrentChild) => {\r\n                totalCurrnetChildrens.push(totalCurrentChild.value);\r\n              });\r\n              totalNode.children.map((totalChild) => {\r\n                if (!(totalCurrnetChildrens.includes(totalChild.value))) {\r\n                  let childFlag = false;\r\n                  availableNodes.map((availableNode, index) => {\r\n                    if (availableNode.value === totalCurrentNode.value) {\r\n                      availableNodes[index].children.push(totalChild);\r\n                      childFlag = true;\r\n                    }\r\n                  })\r\n  \r\n                  if (!childFlag) {\r\n                    availableNodes.push({ ...totalNode, children: [totalChild] });\r\n                  }\r\n                }\r\n              })\r\n            }\r\n          }\r\n        });\r\n  \r\n        if (!parentFlag) {\r\n          availableNodes.push(totalNode);\r\n        }\r\n      })\r\n  \r\n      this.setState({\r\n        currentNodes: availableNodes,\r\n        nodesAvailableItem: totalCurrentNodes,\r\n        nodesFilteredAvailableItem: totalCurrentNodes,\r\n      });\r\n    }\r\n  }\r\n\r\n  isExistItem(key, item, currentNodes) {\r\n    let isExist = false\r\n    currentNodes.forEach((current) => {\r\n      if (current.value === key) {\r\n        current.children.forEach((child) => {\r\n          if (child.value === item.value) {\r\n            isExist = true\r\n            return\r\n          }\r\n        })\r\n      }\r\n    })\r\n    return isExist  \r\n  }\r\n\r\n  onLoadTotalNodes() {\r\n    const totalNodes = this.props.totalNodes;\r\n    let availableNodes = [];\r\n\r\n    if (!this.props.currentNodes) {\r\n      return\r\n    }\r\n\r\n    totalNodes.map((item) => {\r\n      let pushItem = {...item};\r\n      if (\"children\" in pushItem) {\r\n        if (pushItem.children.length > 0) {\r\n          let availableChildItems = [];\r\n          pushItem.children.map((childItem) => {\r\n            if (!this.isExistItem(pushItem.value, childItem, this.props.currentNodes)) {\r\n              availableChildItems.push(childItem);\r\n            }\r\n          });\r\n\r\n          if (availableChildItems.length > 0) {\r\n            availableNodes.push({...pushItem, children: availableChildItems});\r\n          }\r\n        }\r\n      }\r\n    });\r\n    this.setState({\r\n      nodesAvailableItem: availableNodes,\r\n      nodesFilteredAvailableItem: availableNodes,\r\n    });\r\n  }\r\n\r\n  onLoadDefaults() {\r\n    const totalNodes = this.props.totalNodes;\r\n    let defaultNodes = [];\r\n    let availableNodes = [];\r\n    totalNodes.map((item) => {\r\n      let pushItem = {...item};\r\n      if (pushItem.default) {\r\n        if (\"children\" in pushItem) {\r\n          if (pushItem.children.length > 0) {\r\n            let currentChildItems = [];\r\n            let availableChildItems = [];\r\n            pushItem.children.map((childItem) => {\r\n              if (childItem.default) {\r\n                currentChildItems.push(childItem);\r\n              } else {\r\n                availableChildItems.push(childItem);\r\n              }\r\n            });\r\n\r\n            if (currentChildItems.length > 0) {\r\n              defaultNodes.push({...pushItem, children: currentChildItems});\r\n            }\r\n\r\n            if (availableChildItems.length > 0) {\r\n              availableNodes.push({...pushItem, children: availableChildItems});\r\n            }\r\n          } else {\r\n            defaultNodes.push(pushItem);\r\n          }\r\n        } else {\r\n          defaultNodes.push(pushItem);\r\n        }\r\n      } else {\r\n        availableNodes.push(pushItem);\r\n      }\r\n    });\r\n    this.setState({\r\n      currentNodes: defaultNodes,\r\n      nodesAvailableItem: availableNodes,\r\n      nodesFilteredAvailableItem: availableNodes,\r\n    });\r\n  }\r\n\r\n  moveItem(direction) {\r\n    const checkedItems = cloneDeep(this.state.checkedCurrentItem);\r\n    const currentNodes = cloneDeep(this.state.currentNodes);\r\n\r\n    if (checkedItems && Array.isArray(checkedItems)) {\r\n      let moveEnable = true;\r\n      checkedItems.sort();\r\n      let parentSuffix = [];\r\n      let childFlag = false;\r\n      checkedItems.map((item) => {\r\n        if (item.includes(\"child\")) {\r\n          parentSuffix.push(item.split(\"_\")[2]); // push child\r\n          childFlag = true;\r\n        }\r\n        if (item.includes(\"parent\")) {\r\n          if (parentSuffix.length > 0) {\r\n            alert (\"Please select one node\");\r\n            moveEnable = false;\r\n          } else {\r\n            parentSuffix.push(item.split(\"_\")[2]); // push parent\r\n          }\r\n        }\r\n      });\r\n      const uniqParentSuffix = [...new Set(parentSuffix)];\r\n      if (uniqParentSuffix.length !== 1) {\r\n        alert (\"Please select one node\");\r\n        moveEnable = false;\r\n      } else {\r\n        let parentValue = '';\r\n        parentValue = \"parent_value_\" + uniqParentSuffix[0];\r\n        let nodeIndex;\r\n        currentNodes.map((node, index) => {\r\n          if (node.value === parentValue) {\r\n            if (childFlag) {\r\n              if (node.children.length === checkedItems.length) {\r\n                nodeIndex = {\r\n                  status: 'parent',\r\n                  parentIndex: index,\r\n                  childIndex: null,\r\n                };\r\n              } else {\r\n                if (checkedItems.length !== 1) {\r\n                  alert (\"Please select one node\");\r\n                  moveEnable = false;\r\n                } else {\r\n                  node.children.map((child, childIndex) => {\r\n                    if (child.value === checkedItems[0]) {\r\n                      nodeIndex = {\r\n                        status: 'child',\r\n                        parentIndex: index,\r\n                        childIndex: childIndex,\r\n                      };\r\n                    }\r\n                  })\r\n                }\r\n              }\r\n            } else {\r\n              nodeIndex = {\r\n                status: 'parent',\r\n                parentIndex: index,\r\n                childIndex: null,\r\n              };\r\n            }\r\n          }\r\n        })\r\n        \r\n        if (moveEnable) {\r\n          if (direction === 'up') {\r\n            if (nodeIndex.status === 'parent') {\r\n              if (nodeIndex.parentIndex > 0) {\r\n                const temp = currentNodes[nodeIndex.parentIndex - 1];\r\n                currentNodes[nodeIndex.parentIndex - 1] = currentNodes[nodeIndex.parentIndex];\r\n                currentNodes[nodeIndex.parentIndex] = temp;\r\n              }\r\n            } else {\r\n              if (nodeIndex.childIndex > 0) {\r\n                const temp = currentNodes[nodeIndex.parentIndex].children[nodeIndex.childIndex - 1];\r\n                currentNodes[nodeIndex.parentIndex].children[nodeIndex.childIndex - 1] = currentNodes[nodeIndex.parentIndex].children[nodeIndex.childIndex];\r\n                currentNodes[nodeIndex.parentIndex].children[nodeIndex.childIndex] = temp;\r\n              }\r\n            }\r\n          } else {\r\n            if (nodeIndex.status === 'parent') {\r\n              if (nodeIndex.parentIndex < currentNodes.length - 1) {\r\n                const temp = currentNodes[nodeIndex.parentIndex + 1];\r\n                currentNodes[nodeIndex.parentIndex + 1] = currentNodes[nodeIndex.parentIndex];\r\n                currentNodes[nodeIndex.parentIndex] = temp;\r\n              }\r\n            } else {\r\n              if (nodeIndex.childIndex < currentNodes[nodeIndex.parentIndex].children.length - 1) {\r\n                const temp = currentNodes[nodeIndex.parentIndex].children[nodeIndex.childIndex + 1];\r\n                currentNodes[nodeIndex.parentIndex].children[nodeIndex.childIndex + 1] = currentNodes[nodeIndex.parentIndex].children[nodeIndex.childIndex];\r\n                currentNodes[nodeIndex.parentIndex].children[nodeIndex.childIndex] = temp;\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        this.setState({\r\n          currentNodes: currentNodes,\r\n        });\r\n      }\r\n    } else {\r\n      alert (\"You didn't select the node\");\r\n    }\r\n  }\r\n\r\n  onMoveUp() {\r\n    this.moveItem('up');\r\n  }\r\n\r\n  onMoveDown() {\r\n    this.moveItem('down');\r\n  }\r\n\r\n  onRestoreClicked() {\r\n    this.setState({\r\n      nodesAvailableItem: this.state.restoreAvailableItems,\r\n      currentNodes: this.state.restoreCurrentItems,\r\n    });\r\n  }\r\n\r\n  onOkClicked() {\r\n    this.props.handleCurrentNodesChanged(this.state.currentNodes);\r\n    this.props.handleVisible(false);\r\n  }\r\n\r\n  onCancelClicked() {\r\n    this.setState({\r\n      nodesAvailableItem: this.state.restoreAvailableItems,\r\n      currentNodes: this.state.restoreCurrentItems,\r\n    });\r\n    this.props.handleVisible(false);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.onGetAvailabelNodes();\r\n    this.onLoadTotalNodes();\r\n  }\r\n\r\n  render() {\r\n    const { checkedAvailableItem, expandedAvailableItem, nodesFilteredAvailableItem } = this.state;\r\n\r\n    return (\r\n      <div className=\"widget-container\">\r\n        <div className=\"modal-main\">\r\n          <div className=\"filter-container left-group\">\r\n            <div className=\"left-box-header\">\r\n              <span>Available Items</span>\r\n            </div>\r\n            <div className=\"items-area\">\r\n              <CustomDropDown\r\n                nodes={this.state.nodesAvailableItem}\r\n                onChange={this.onFilterChangeAvailableItem}\r\n              />\r\n              <CheckboxTree\r\n                checked={checkedAvailableItem}\r\n                expanded={expandedAvailableItem}\r\n                nodes={nodesFilteredAvailableItem}\r\n                onCheck={this.onCheckAvailableItem}\r\n                onExpand={this.onExpandAvailableItem}\r\n              />\r\n            </div>\r\n            <div className=\"left-box-footer\">\r\n              <div className=\"modal-btn btn-exchange\" onClick={this.onAddItems}>\r\n                <span>{\"Add Item(s) >>\"}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"filter-container right-group\">\r\n            <div className=\"right-box-header\">\r\n              <span>Available Items</span>\r\n            </div>\r\n            <div className=\"items-container\">\r\n              <div>\r\n                <div className=\"items-area\">\r\n                  <CheckboxTree\r\n                    checked={this.state.checkedCurrentItem}\r\n                    expanded={this.state.expandedCurrentItem}\r\n                    nodes={this.state.currentNodes}\r\n                    onCheck={this.onCheckCurrentItem}\r\n                    onExpand={this.onExpandCurrentItem}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"right-box-btn-group\">\r\n                <div className=\"right-top-btn\">\r\n                  <div className=\"modal-btn\" onClick={this.onLoadDefaults}>\r\n                    <span>Load Defaults</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"right-bottom-btn\">\r\n                  <div className=\"modal-btn\" onClick={this.onMoveUp}>\r\n                    <span>Move Up</span>\r\n                  </div>\r\n                  <div className=\"modal-btn\" onClick={this.onMoveDown}>\r\n                    <span>Move Down</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"right-box-footer\">\r\n              <div className=\"modal-btn btn-exchange\" onClick={this.onRemoveItems}>\r\n                <span>{\"<< Remove Item(s)\"}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"modal-footer\">\r\n          <div className=\"modal-footer-left-button-group\">\r\n            <div className=\"modal-btn restore-btn\" onClick={this.onRestoreClicked}>\r\n              <span>Restore</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"modal-footer-right-button-group\">\r\n            <div className=\"modal-btn ok-btn\" onClick={this.onOkClicked}>\r\n              <span>Ok</span>\r\n            </div>\r\n            <div className=\"modal-btn cancel-btn\" onClick={this.onCancelClicked}>\r\n              <span>Cancel</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Widget;\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nimport Widget from './components/modal/Widget';\r\n\r\nimport { getStockModalData } from 'api/Api';\r\n\r\nconst WatchListEditColumnWidget = (props) => {\r\n  const [totalNodes, setTotalNodes] = useState([]);\r\n  const [currentNodes, setCurrentNodes] = useState(props.selectedColumns);\r\n  \r\n  const handleCurrentNodesChanged = (nodes) => {\r\n    setCurrentNodes(nodes);\r\n    props.setColumns(nodes)\r\n  };\r\n\r\n  const handleVisible = (visibleStatus) => {\r\n    props.handleModalClose()\r\n  };\r\n\r\n  useEffect(() => {\r\n    let nodes = [];\r\n    let childNodes = [];\r\n\r\n    const getModalData = async () => {\r\n      let res = await getStockModalData();\r\n      if (res.result) {\r\n        const stockFinancialsData = res.result.stock_financials;\r\n        const indicators = res.result.indicators;\r\n        const tickerNews = res.result.ticker_news;\r\n        const tickerDetails = res.result.ticker_details;\r\n\r\n        // Stock Financials Fields\r\n        childNodes = [];\r\n        stockFinancialsData.total.map((node, index) => {\r\n          childNodes.push({\r\n            label: node,\r\n            value: 'child_value_1_' + (index + 1),\r\n            default: stockFinancialsData.defaults.includes(node) ? true : false,\r\n          });\r\n        });\r\n\r\n        if (childNodes.length > 0) {\r\n          nodes.push({\r\n            label: 'Stock Financials',\r\n            value: 'parent_value_1',\r\n            children: childNodes,\r\n            default: true,\r\n          });\r\n        } else {\r\n          nodes.push({\r\n            label: 'Stock Financials',\r\n            value: 'parent_value_1',\r\n            default: false,\r\n          });\r\n        }\r\n\r\n        // Indicators\r\n        childNodes = [];\r\n        indicators.total.map((node, index) => {\r\n          childNodes.push({\r\n            label: node,\r\n            value: 'child_value_2_' + (index + 1),\r\n            default: indicators.defaults.includes(node) ? true : false,\r\n          });\r\n        });\r\n\r\n        if (childNodes.length > 0) {\r\n          nodes.push({\r\n            label: 'Indicators',\r\n            value: 'parent_value_2',\r\n            children: childNodes,\r\n            default: true,\r\n          });\r\n        } else {\r\n          nodes.push({\r\n            label: 'Indicators',\r\n            value: 'parent_value_2',\r\n            default: false,\r\n          });\r\n        }\r\n\r\n        // Ticker News\r\n        // childNodes = [];\r\n        // tickerNews.total.map((node, index) => {\r\n        //   childNodes.push({\r\n        //     label: node,\r\n        //     value: 'child_value_3_' + (index + 1),\r\n        //     default: tickerNews.defaults.includes(node) ? true : false,\r\n        //   });\r\n        // });\r\n\r\n        // if (childNodes.length > 0) {\r\n        //   nodes.push({\r\n        //     label: 'Ticker News',\r\n        //     value: 'parent_value_3',\r\n        //     children: childNodes,\r\n        //     default: true,\r\n        //   });\r\n        // } else {\r\n        //   nodes.push({\r\n        //     label: 'Ticker News',\r\n        //     value: 'parent_value_3',\r\n        //     default: false,\r\n        //   });\r\n        // }\r\n\r\n        // Ticker Details\r\n        childNodes = [];\r\n        tickerDetails.total.map((node, index) => {\r\n          childNodes.push({\r\n            label: node,\r\n            value: 'child_value_4_' + (index + 1),\r\n            default: tickerDetails.defaults.includes(node) ? true : false,\r\n          });\r\n        });\r\n\r\n        if (childNodes.length > 0) {\r\n          nodes.push({\r\n            label: 'Ticker Details',\r\n            value: 'parent_value_4',\r\n            children: childNodes,\r\n            default: true,\r\n          });\r\n        } else {\r\n          nodes.push({\r\n            label: 'Ticker Details',\r\n            value: 'parent_value_4',\r\n            default: false,\r\n          });\r\n        }\r\n\r\n        nodes.push({\r\n          label: \"Ticker Prices\",\r\n          value: \"parent_value_5\",\r\n          children: [\r\n              {\r\n                  label: \"o\",\r\n                  value: \"child_value_5_1\",\r\n                  default: true\r\n              },\r\n              {\r\n                  label: \"h\",\r\n                  value: \"child_value_5_2\",\r\n                  default: true\r\n              },    \r\n              {\r\n                  label: \"l\",\r\n                  value: \"child_value_5_3\",\r\n                  default: true\r\n              },    \r\n              {\r\n                  label: \"c\",\r\n                  value: \"child_value_5_4\",\r\n                  default: true\r\n              },    \r\n              {\r\n                  label: \"v\",\r\n                  value: \"child_value_5_5\",\r\n                  default: true\r\n              },    \r\n              {\r\n                  label: \"mark\",\r\n                  value: \"child_value_5_6\",\r\n                  default: true\r\n              }    \r\n          ]\r\n        })\r\n      }\r\n      setTotalNodes(nodes);\r\n    };\r\n    getModalData();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"watch-list-edit-column-widget\">\r\n      {totalNodes.length > 0 && (\r\n        <Widget\r\n          totalNodes={totalNodes}\r\n          currentNodes={currentNodes}\r\n          handleCurrentNodesChanged={handleCurrentNodesChanged}\r\n          handleVisible={handleVisible}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WatchListEditColumnWidget;\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Button } from 'reactstrap'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport BarChart from 'components/FinancialDashboard/SmallBarChart';\r\nimport { MDBTable, MDBTableBody, MDBTableHead } from 'mdbreact';\r\nimport WatchListEditColumnWidget from 'components/WatchListEditColumnWidget/WatchListEditColumnWidget'\r\nimport './WatchListItem.css'\r\nimport Select from 'react-select'\r\nimport {\r\n  getMultiFinancials, getScannerViewData, saveScannerView\r\n} from 'api/Api';\r\n\r\nconst WatchListItem = (props) => {\r\n  const [isConnected, setIsConnected] = useState(false)\r\n  const [selectedColumns, setSelectedColumns] = useState(\r\n    [\r\n      {\r\n        label: \"Indicators\",\r\n        value: \"parent_value_2\",\r\n        children: [\r\n            {\r\n                label: \"rsi\",\r\n                value: \"child_value_2_1\",\r\n                default: true\r\n            },\r\n            {\r\n                label: \"rsi2\",\r\n                value: \"child_value_2_2\",\r\n                default: true\r\n            },\r\n            {\r\n                label: \"rsi3\",\r\n                value: \"child_value_2_3\",\r\n                default: false\r\n            },\r\n            {\r\n                label: \"heik\",\r\n                value: \"child_value_2_4\",\r\n                default: false\r\n            },\r\n            {\r\n                label: \"heik2\",\r\n                value: \"child_value_2_5\",\r\n                default: false\r\n            }\r\n        ],\r\n        \"default\": true\r\n      }\r\n    ]\r\n  );\r\n  \r\n  const [chartMultiData, setChartMultiData] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [ws, setWs] = useState(null);\r\n  const [isOpenedEditColumnWidget, setIsOpenedEditColumnWidget] = useState(false)\r\n  const [selectedWatchList, setSelectedWatchList] = useState({\r\n    value: 'tech',\r\n    label: 'tech'\r\n  })\r\n  const [selectedWatchListOptions] = useState([\r\n    {\r\n      value: 'crypto',\r\n      label: 'crypto'\r\n    },\r\n    {\r\n      value: 'buffett',\r\n      label: 'buffett'\r\n    },\r\n    {\r\n      value: 'tech',\r\n      label: 'tech'\r\n    },\r\n    {\r\n      value: 'tech2',\r\n      label: 'tech2'\r\n    }\r\n  ])\r\n  const [selectedAggregationType, setSelectedAggregationType] = useState('QA');\r\n  const [isUpdatedCols, setIsUpdatedCols] = useState(false)\r\n  const [columnItems, setColumnItems] = useState([])\r\n  const [initColumnItems] = useState([\r\n    {\r\n      value: 'symbol',\r\n      label: 'symbol',\r\n      width: 100,\r\n    },\r\n  ])\r\n  const [isInited, setIsInited] = useState(false)\r\n  const [isUpdatedWatchList, setIsUpdatedWatchList] = useState(false);\r\n  const [selectedSymbols, setSelectedSymbols] = useState([])\r\n  const [symbolOptions, setSymbolOptions] = useState([])\r\n  \r\n  const [columns, setColumns] = useState([\r\n    {\r\n      value: 'symbol',\r\n      label: 'symbol',\r\n      width: 100,\r\n    },\r\n    {\r\n      value: 'rsi',\r\n      label: 'rsi',\r\n      width: 100,\r\n    },\r\n    {\r\n      value: 'rsi2',\r\n      label: 'rsi2',\r\n      width: 100,\r\n    },\r\n    {\r\n      value: 'rsi3',\r\n      label: 'rsi3',\r\n      width: 100,\r\n    },\r\n    {\r\n      value: 'heik',\r\n      label: 'heik',\r\n      width: 100,\r\n    },\r\n    {\r\n      value: 'heik2',\r\n      label: 'heik2',\r\n      width: 100,\r\n    },\r\n    {\r\n      value: 'chart',\r\n      label: 'chart',\r\n      width: 100,\r\n    }\r\n  ]);\r\n\r\n  const [timeFrames, setTimeFrames] = useState([])\r\n  const [timeFrameOptions, setTimeFrameOptions] = useState([\r\n    {\r\n      value: '1d',\r\n      label: '1d'\r\n    },\r\n    {\r\n      value: '3d',\r\n      label: '3d'\r\n    },\r\n  ])\r\n  \r\n  const [watchListData, setWatchListData] = useState([])\r\n  const [watchListInitData, setWatchListInitData] = useState([])\r\n\r\n  const handleColumnsChange = () => {\r\n    setIsOpenedEditColumnWidget(true)\r\n  }\r\n\r\n  const handleModalClose = () => {\r\n    setIsOpenedEditColumnWidget(false)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const getScannerAvailableFields = async () => {\r\n      const result = await getScannerViewData(props.chart_number)\r\n      if (result) {\r\n        let columns = result.fields;\r\n        if (columns) {\r\n          let cols = []\r\n          let temps = []\r\n          let colObjects = []\r\n          Object.keys(columns).forEach((key) => {\r\n            columns[key].children.forEach((col) => {\r\n              cols.push(col.label)\r\n              temps.push(col.label)\r\n            })\r\n\r\n            colObjects.push({\r\n              [columns[key].label]: temps\r\n            })\r\n            temps = []\r\n          })\r\n          setColumnItems(cols)\r\n          setSelectedColumns(columns)\r\n          setIsUpdatedCols(!isUpdatedCols)\r\n        }\r\n      }\r\n    }\r\n    \r\n    getScannerAvailableFields()\r\n\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const loadRows = async () => {\r\n      const requestOptions = {\r\n        method: 'POST',\r\n        headers: {'Content-Type': 'application/json'},\r\n        body: JSON.stringify({\r\n          'name': selectedWatchList.value\r\n        })\r\n      };\r\n      let rows = []\r\n\r\n      try {\r\n        await fetch(process.env.REACT_APP_BACKEND_URL + \"/scanner/watchlists/\", requestOptions)\r\n        .then(response => response.json())\r\n        .then(async data => {\r\n          \r\n          rows = data.result\r\n\r\n          const financials = await getMultiFinancials(rows, 'income_statement')\r\n          loadMultiFinancials(financials)\r\n\r\n          // setRowItems(data.tables)\r\n          // setIsUpdatedRows(true)\r\n          \r\n          let realData = [];\r\n          let symbols = [];\r\n          rows.forEach((row) => {\r\n            const object = {}\r\n            columns.forEach((col) => {\r\n              if (col.value === 'chart') {\r\n                object[col.value] = 'fetching ...'\r\n              } else {\r\n                object[col.value] = '0.00'\r\n              }\r\n            })\r\n            object.symbol = row\r\n            symbols.push({\r\n              value: row,\r\n              label: row,\r\n            })\r\n            realData.push(object);\r\n          })\r\n\r\n          updateChangeSymbol(symbols)\r\n          setSymbolOptions(symbols)\r\n          setSelectedSymbols(symbols)\r\n          setWatchListInitData(realData)\r\n          setIsInited(true);  \r\n        })  \r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    }\r\n    setIsLoading(1);\r\n    loadRows();\r\n  }, [selectedWatchList])\r\n\r\n  useEffect(() => {\r\n    const keys = Object.keys(columnItems)\r\n    if(keys.length) {\r\n      const columns = [...initColumnItems]\r\n      columnItems.forEach((value) => {\r\n        if (value !== 'symbol') {\r\n          columns.push({\r\n            value: value,\r\n            label: value,\r\n            width: 100,\r\n          })\r\n        }\r\n      })\r\n      columns.push({\r\n        value: 'chart',\r\n        label: 'chart',\r\n        width: 100,\r\n      })\r\n      setColumns(columns)\r\n    }\r\n\r\n  }, [isUpdatedCols])\r\n\r\n  const isValidChartData = (symbol) => {\r\n    if (!chartMultiData.length) {\r\n      return false\r\n    }\r\n    const filtered = chartMultiData.filter((chartData) => { return chartData.symbol === symbol; })\r\n    if (!filtered.length) {\r\n      return false\r\n    }\r\n    return filtered[0].chartData.length ? true : false\r\n  }\r\n\r\n  const loadMultiFinancials = (financials) => {\r\n    if (!financials.length) {\r\n      return\r\n    }\r\n\r\n    financials.forEach((financial) => {\r\n      getIncomeFromFinancial(financial[1], financial[0])\r\n    })\r\n  }\r\n\r\n  const getChartDataBySymbol = (symbol, isChild) => {\r\n    if (!chartMultiData.length) {\r\n      return []\r\n    }\r\n    \r\n    const filtered = chartMultiData.filter((chartData) => { return chartData.symbol === symbol })\r\n    if (!filtered.length) {\r\n      return []\r\n    }\r\n    \r\n    let slicedChartData = filtered[0].chartData.map((chart) => {\r\n      chart.dataPoints.splice(0, chart.dataPoints.length - 50)//should update whenever\r\n      return chart\r\n    })\r\n\r\n    if (isChild) {\r\n      return slicedChartData[0]\r\n    }\r\n\r\n\r\n    return slicedChartData\r\n  }\r\n\r\n  useEffect(() => {\r\n    let initData = watchListInitData\r\n    let newData = []\r\n    let isValid = true\r\n\r\n    initData.forEach((init) => {\r\n      watchListData.forEach(o => {\r\n        if (o.symbol === init.symbol) {\r\n          const newObject = {\r\n            symbol: o.symbol,\r\n            ...o.data,\r\n            chart: \r\n              <div className=\"container custom-container chart-area hunter-scanner-page-chart-area\">\r\n                <div className=\"row justify-content-center hunter-scanner-page-chart-area-wrap\">\r\n                  {isValidChartData(o.symbol) ? (\r\n                    <BarChart\r\n                      data={getChartDataBySymbol(o.symbol, true)}\r\n                      chartData={getChartDataBySymbol(o.symbol, false)}\r\n                      globalAggregationType={selectedAggregationType}\r\n                    />\r\n                  ) : isLoading === 2 ? (\r\n                    <div className=\"no-data\">No data</div>\r\n                  ) : (\r\n                    <div className=\"no-data\">Fetching...</div>\r\n                  )}\r\n                </div>\r\n              </div>,\r\n          }\r\n          newData.push(newObject)\r\n          isValid = false\r\n        }\r\n      })\r\n      if (isValid) {\r\n        newData.push(init)\r\n      }\r\n      isValid = true\r\n    })\r\n\r\n    setWatchListInitData(newData)\r\n    setIsUpdatedWatchList(false)\r\n  }, [isUpdatedWatchList])\r\n\r\n  useEffect(() => {\r\n    \r\n    let cols = []\r\n    let temps = []\r\n    let colObjects = []\r\n\r\n    Object.keys(selectedColumns).forEach((key) => {\r\n      selectedColumns[key].children.forEach((col) => {\r\n        cols.push(col.label)\r\n        temps.push(col.label)\r\n      })\r\n\r\n      colObjects.push({\r\n        [selectedColumns[key].label]: temps\r\n      })\r\n      temps = []\r\n    })\r\n    \r\n    if (isConnected) {\r\n      const symbols = selectedSymbols.map( (o) => o.value )\r\n      \r\n      const content = {\r\n        action: 'create_fields',\r\n        chart_number: props.chart_number,\r\n        symbols,\r\n        symbol_type: 'stock', // or 'crypto'\r\n        fields: colObjects,\r\n      }\r\n\r\n      ws.send(JSON.stringify(content));\r\n      console.log('First Connection options sent to BE', content)\r\n    }  \r\n  }, [isConnected])\r\n\r\n  const updateChangeSymbol = (symbolList) => {\r\n    let cols = []\r\n    let temps = []\r\n    let colObjects = []\r\n    const columns = selectedColumns\r\n    Object.keys(columns).forEach((key) => {\r\n      columns[key].children.forEach((col) => {\r\n        cols.push(col.label)\r\n        temps.push(col.label)\r\n      })\r\n\r\n      colObjects.push({\r\n        [columns[key].label]: temps\r\n      })\r\n      temps = []\r\n    })\r\n    // setIsUpdatedCols(!isUpdatedCols)\r\n    // setColumnItems(cols)\r\n    // setSelectedColumns(columns)\r\n    \r\n    if (isConnected) {\r\n      const symbols = symbolList.map( (o) => o.value )\r\n      \r\n      const content = {\r\n        action: selectedWatchList.value === 'crypto' ? 'create_fields' : 'change_fields',\r\n        chart_number: props.chart_number,\r\n        symbols,\r\n        symbol_type: selectedWatchList.value === 'crypto' ? 'crypto' : 'stock',\r\n        fields: colObjects,\r\n      }\r\n      \r\n      ws.send(JSON.stringify(content));\r\n    }  \r\n  }\r\n\r\n  const handleColumnSet = (columns) => {\r\n    let cols = []\r\n    let temps = []\r\n    let colObjects = []\r\n    Object.keys(columns).forEach((key) => {\r\n      columns[key].children.forEach((col) => {\r\n        cols.push(col.label)\r\n        temps.push(col.label)\r\n      })\r\n\r\n      colObjects.push({\r\n        [columns[key].label]: temps\r\n      })\r\n      temps = []\r\n    })\r\n    setIsUpdatedCols(!isUpdatedCols)\r\n    setColumnItems(cols)\r\n    setSelectedColumns(columns)\r\n    \r\n    if (isConnected) {\r\n      const symbols = selectedSymbols.map( (o) => o.value )\r\n      \r\n      const content = {\r\n        action: 'change_fields',\r\n        chart_number: props.chart_number,\r\n        symbols,\r\n        symbol_type: selectedWatchList.value === 'crypto' ? 'crypto' : 'stock',\r\n        fields: colObjects,\r\n      }\r\n      ws.send(JSON.stringify(content));\r\n    }\r\n  }\r\n\r\n  const indicatorStyle = (key, item) => {\r\n    let bgColor;\r\n    const indicators = ['rsi', 'rsi2', 'rsi3', 'heik', 'heik2']\r\n    if (indicators.includes(key)) {\r\n      switch (key) {\r\n        case 'rsi':\r\n          bgColor = item.rsi_side === 'buy'\r\n          ? 'background-pink-color' : item.rsi_side === 'sell'\r\n          ? 'background-orange-color' : item.rsi_side === 'hold'\r\n          ? 'background-light-green-color' : 'background-red-color'\r\n          return bgColor\r\n        case 'rsi2':\r\n          bgColor = item.rsi2_color === 'l_g'\r\n            ? 'background-light-green' : item.rsi2_color === 'd_g'\r\n            ? 'background-dark-green' : item.rsi2_color === 'l_r'\r\n            ? 'background-light-red' : 'background-dark-red'\r\n          return bgColor\r\n        case 'rsi3':\r\n          bgColor = item.rsi3_color === 'l_g'\r\n            ? 'background-light-green' : item.rsi3_color === 'd_g'\r\n            ? 'background-dark-green' : item.rsi3_color === 'l_r'\r\n            ? 'background-light-red' : 'background-dark-red'\r\n          return bgColor\r\n        case 'heik':\r\n          bgColor = item.heik1_color === 'l_g'\r\n            ? 'background-light-green' : item.heik_color === 'd_g'\r\n            ? 'background-dark-green' : item.heik_color === 'l_r'\r\n            ? 'background-light-red' : 'background-dark-red'\r\n          return bgColor\r\n        case 'heik2':\r\n          bgColor = item.heik2_color === 'l_g'\r\n            ? 'background-light-green' : item.heik2_color === 'd_g'\r\n            ? 'background-dark-green' : item.heik2_color === 'l_r'\r\n            ? 'background-light-red' : 'background-dark-red'\r\n          return bgColor\r\n        default:\r\n          return ''\r\n      }\r\n    }\r\n    return ''\r\n  }\r\n\r\n  const handleTimeFrameChange = (e) => {\r\n    setTimeFrames(e)\r\n  }\r\n  \r\n  const handleWatchListChange = async (e) => {\r\n    await createWebSocket(true)\r\n    setIsUpdatedWatchList(true)\r\n    setSelectedWatchList(e)\r\n  }\r\n\r\n  const getIncomeFromFinancial = async (financial, symbol) => {\r\n    let revenus = {\r\n      label: 'Revenue',\r\n      group: 0,\r\n      color: 'rgb(25, 185, 154)',\r\n      dataPoints: [],\r\n    };\r\n    let costOfRevenue = {\r\n      label: 'Cost of Revenue',\r\n      group: 0,\r\n      color: 'rgb(8, 64, 129)',\r\n      dataPoints: [],\r\n    };\r\n    let grossProfit = {\r\n      label: 'Gross Profit',\r\n      group: 0,\r\n      color: 'rgb(127, 0, 0)',\r\n      dataPoints: [],\r\n    };\r\n    let EBITDAMargin = {\r\n      label: 'Ebit',\r\n      group: 0,\r\n      color: 'rgb(89, 201, 108)',\r\n      dataPoints: [],\r\n    };\r\n    let NetIncome = {\r\n      label: 'Net Income',\r\n      group: 0,\r\n      color: 'rgb(75, 87, 74)',\r\n      dataPoints: [],\r\n    };\r\n    let earningsPerBasicShare = {\r\n      label: 'Earnings per Basic Share',\r\n      group: 0,\r\n      color: 'rgb(226, 71, 130)',\r\n      dataPoints: [],\r\n    };\r\n    \r\n    if (financial && financial.length) {\r\n      financial.forEach((item) => {\r\n        revenus.dataPoints.push({\r\n          calendarDate: item.calendarDate,\r\n          period: item.period,\r\n          value: item.revenues,\r\n        });\r\n        costOfRevenue.dataPoints.push({\r\n          calendarDate: item.calendarDate,\r\n          period: item.period,\r\n          value: item.costOfRevenue,\r\n        });\r\n        grossProfit.dataPoints.push({\r\n          calendarDate: item.calendarDate,\r\n          period: item.period,\r\n          value: item.grossProfit,\r\n        });\r\n        EBITDAMargin.dataPoints.push({\r\n          calendarDate: item.calendarDate,\r\n          period: item.period,\r\n          value: item.EBITDAMargin,\r\n        });\r\n        NetIncome.dataPoints.push({\r\n          calendarDate: item.calendarDate,\r\n          period: item.period,\r\n          value: item.netIncome,\r\n        });\r\n        earningsPerBasicShare.dataPoints.push({\r\n          calendarDate: item.calendarDate,\r\n          period: item.period,\r\n          value: item.earningsPerBasicShare,\r\n        });\r\n      });\r\n    }\r\n\r\n    const multiCharts = chartMultiData;\r\n    multiCharts.push({\r\n      symbol: symbol,\r\n      chartData: [\r\n        sortDataPointsByDate(revenus),\r\n        sortDataPointsByDate(costOfRevenue),\r\n        sortDataPointsByDate(grossProfit),\r\n        sortDataPointsByDate(EBITDAMargin),\r\n        sortDataPointsByDate(NetIncome),\r\n        sortDataPointsByDate(earningsPerBasicShare),\r\n      ]\r\n    })\r\n\r\n    setChartMultiData(multiCharts)\r\n    setIsLoading(2);\r\n  };\r\n\r\n  const createWebSocket = ( async (isUpdate) => {\r\n    if (ws) {\r\n      if (isUpdate) {\r\n        ws.close()\r\n      } else {\r\n        return\r\n      }\r\n    }\r\n\r\n    const socket = new WebSocket(process.env.REACT_APP_SOCKET_URL);\r\n    setWs(socket)\r\n    \r\n    socket.onopen = () => {\r\n      setIsConnected(true);\r\n      console.log('Opened Connection!')\r\n    };\r\n  \r\n    socket.onmessage = (event) => {\r\n      try {\r\n        const msg = JSON.parse(event.data)\r\n        setWatchListData(msg)\r\n        setIsUpdatedWatchList(true)\r\n      } catch (error) {\r\n        console.log(error)  \r\n      }\r\n    };\r\n    \r\n    socket.onclose = () => {\r\n      console.log('Closed Connection!')\r\n    };\r\n  })\r\n\r\n  useEffect (() => {\r\n    if (isLoading === 2) {\r\n      createWebSocket(false)\r\n      // if (!ws) {\r\n      //   const socket = new WebSocket(process.env.REACT_APP_SOCKET_URL);\r\n      //   setWs(socket)\r\n        \r\n      //   socket.onopen = () => {\r\n      //     setIsConnected(true);\r\n      //     console.log('Opened Connection!')\r\n      //   };\r\n      \r\n      //   socket.onmessage = (event) => {\r\n      //     try {\r\n      //       const msg = JSON.parse(event.data)\r\n      //       setWatchListData(msg)\r\n      //       setIsUpdatedWatchList(true)\r\n      //     } catch (error) {\r\n      //       console.log(error)  \r\n      //     }\r\n      //   };\r\n        \r\n      //   socket.onclose = () => {\r\n      //     console.log('Closed Connection!')\r\n      //   };\r\n\r\n      // }\r\n    }\r\n  }, [isLoading])\r\n\r\n  const sortDataPointsByDate = (data) => {\r\n    let sortedData = { ...data };\r\n    if (sortedData.dataPoints.length > 0) {\r\n      sortedData.dataPoints.sort(function (a, b) {\r\n        let valueA = a['calendarDate'];\r\n        let valueB = b['calendarDate'];\r\n        if (typeof a['calendarDate'] != 'string') {\r\n          valueA = valueA.toString();\r\n        }\r\n        if (typeof b['calendarDate'] != 'string') {\r\n          valueB = valueB.toString();\r\n        }\r\n        return valueA.localeCompare(valueB);\r\n      });\r\n    }\r\n    return sortedData;\r\n  };\r\n\r\n  const isSelectedSymbol = (symbol) => {\r\n    const filtered = selectedSymbols.filter(o => o.value === symbol)\r\n    return filtered.length ? true : false\r\n  }\r\n\r\n  const isValidNUmber = (number) => {\r\n    if (isNaN(parseFloat(number))) {\r\n      return false\r\n    }\r\n\r\n    return true\r\n  }\r\n\r\n  return (\r\n    <div className=\"watch-list-item-container\">\r\n      <Modal show={isOpenedEditColumnWidget} className=\"hunter-widget-modal\" onHide={() => handleModalClose()}>\r\n        <WatchListEditColumnWidget\r\n          handleModalClose={handleModalClose}\r\n          setColumns={handleColumnSet}\r\n          selectedColumns={selectedColumns}\r\n        />\r\n      </Modal>\r\n      <div className=\"watch-list-item-wrap hunter-watch-list-item-wrap\">\r\n        <div className=\"watch-list-item-header\">\r\n          <div className=\"select-multi-option mr-1 ml-1\">\r\n            <Select\r\n              name=\"filters\"\r\n              placeholder=\"Time Frame\"\r\n              value={timeFrames}\r\n              onChange={handleTimeFrameChange}\r\n              options={timeFrameOptions}\r\n            />\r\n          </div>\r\n          <div className=\"select-multi-option mr-1\">\r\n            <Select\r\n              name=\"filters\"\r\n              placeholder=\"Time Frame\"\r\n              value={selectedWatchList}\r\n              onChange={handleWatchListChange}\r\n              options={selectedWatchListOptions}\r\n            />\r\n          </div>\r\n          <Button\r\n            size=\"sm\"\r\n            className=\"\"\r\n            onClick={() => {handleColumnsChange()}}\r\n          >\r\n            change columns\r\n          </Button>\r\n          <Button\r\n            size=\"sm\"\r\n            className=\"\"\r\n            onClick={async () => {\r\n              const symbols = selectedSymbols.map(symbol => symbol.value)\r\n              const result = await saveScannerView(props.chart_number, symbols, selectedColumns)\r\n              alert('Fields saved successfully!!!')\r\n            }}\r\n          >\r\n            save default\r\n          </Button>\r\n        </div>\r\n        <div className=\"watch-list-item-content\">\r\n          <MDBTable\r\n            hover\r\n            dark={true}\r\n            maxHeight='100%'\r\n            height={`${(props.chartColumn === 1 || props.chartColumn === 2) ? '800px' : '100%'}`}\r\n            noBottomColumns={true}\r\n            striped={true}\r\n            scrollX={true}\r\n            scrollY={true}\r\n          >\r\n            <MDBTableHead  className=\"watch-list-data-table-header\">\r\n              <tr>\r\n                {columns.map((item) => (\r\n                  <th key={item.label} className={`${item.value === 'chart' ? 'hunter-custom-table-chart-th' : ''}`}>{item.label}</th>\r\n                ))}\r\n              </tr>\r\n            </MDBTableHead>\r\n            <MDBTableBody\r\n              className={\"financial-table-body-1\"}\r\n            >\r\n              {watchListInitData && watchListInitData.map((item) => (\r\n                isSelectedSymbol(item.symbol) && \r\n                <tr key={`row-${item.symbol}`}>\r\n                  {columns.map((column) => \r\n                    (\r\n                      <td \r\n                        key={`${item.symbol}-${column.value}`}\r\n                        className={`hunter-financial-table-column ${column.value === 'chart' ? 'table-chart-column' : ''} ${indicatorStyle(column.value, item)}`}\r\n                      >\r\n                        {isValidNUmber(item[column.value]) ? (item[column.value] || item[column.value] === '' ? parseFloat(item[column.value]).toFixed(2): '') : item[column.value]}\r\n                      </td>\r\n                    )\r\n                  )}\r\n                </tr>\r\n              ))}\r\n            </MDBTableBody>\r\n          </MDBTable>\r\n        </div>  \r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default WatchListItem;","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Select from 'react-select'\r\nimport \"react-datetime/css/react-datetime.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  Collapse,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  UncontrolledDropdown,\r\n  NavLink,\r\n  Nav,\r\n} from \"reactstrap\";\r\nimport { useAuth } from 'contexts/authContext';\r\nimport disableScroll from 'disable-scroll';\r\nimport WatchListItem from 'components/WatchListItem/WatchListItem'\r\n\r\nconst WatchList = (props) => {\r\n\r\n  const auth = useAuth();\r\n  const { selectedInstance } = props\r\n  const history = useHistory();\r\n  const [collapseOpen,] = React.useState(false)\r\n  const [chartColumn, setChartColumn] = useState({ value: 6, label: '6' })\r\n  const [user] = useState(JSON.parse(localStorage.getItem('user-info')));\r\n  const optionsColumn = [\r\n    {\r\n      value: 1, label: '1',\r\n    },\r\n    {\r\n      value: 2, label: '2',\r\n    },\r\n    {\r\n      value: 4, label: '4',\r\n    },\r\n    {\r\n      value: 6, label: '6',\r\n    }\r\n  ]\r\n\r\n  useEffect(() => {\r\n    disableScroll.on();\r\n    return () => {\r\n      disableScroll.off();\r\n    }\r\n  }, [])\r\n  \r\n  const handleChartsColumnChange = (option) => {\r\n    setChartColumn(option)\r\n  }\r\n\r\n  const calculateHeightStyle = () => {\r\n    if (chartColumn.value === 1 || chartColumn.value === 2) {\r\n      return 'full-height'\r\n    }\r\n    return 'half-height'\r\n  }\r\n\r\n  const calculateGridColumn = () => {\r\n    if (chartColumn.value === 1) {\r\n      return 12\r\n    } else if ((chartColumn.value === 2) || (chartColumn.value === 4)) {\r\n      return 6\r\n    }\r\n    return 4\r\n  }\r\n\r\n  const handleSignout = () => {\r\n    auth.signout()\r\n    history.push('/login')\r\n  }\r\n\r\n  const displayChart = () => {\r\n    return (\r\n      <div className={`row ${calculateHeightStyle()}`}>\r\n        <div className={`watch-list col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          <WatchListItem chart_number={1} chartColumn={chartColumn.value}/>\r\n        </div>\r\n        <div className={`watch-list col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          <WatchListItem chart_number={2} chartColumn={chartColumn.value}/>\r\n        </div>\r\n        <div className={`watch-list col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          <WatchListItem chart_number={3} chartColumn={chartColumn.value}/>\r\n        </div>\r\n        <div className={`watch-list col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          <WatchListItem chart_number={4} chartColumn={chartColumn.value}/>\r\n        </div>\r\n        <div className={`watch-list col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          <WatchListItem chart_number={5} chartColumn={chartColumn.value}/>\r\n        </div>\r\n        <div className={`watch-list col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          <WatchListItem chart_number={6} chartColumn={chartColumn.value}/>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"hunter-chart-container\">\r\n      <nav className=\"navbar navbar-expand navbar-dark bg-dark hunter-nav-bar\">\r\n        <div className=\"logo-title\">\r\n          <a href=\"/chart\" className=\"hunter-navbar-brand\">\r\n            Violette AM - Client Portal\r\n          </a>\r\n        </div>\r\n        {(user.is_admin || (user.role?.length)) && (\r\n          <div className=\"navbar-nav mr-auto\">\r\n            <li className=\"nav-item\">\r\n              <Link to={\"/chart\"} className=\"nav-link\"></Link>\r\n            </li>\r\n            <div className=\"select-option\">\r\n              <Select\r\n                value={chartColumn}\r\n                onChange={handleChartsColumnChange}\r\n                options={optionsColumn}\r\n                placeholder=\"Columns\"\r\n              />\r\n            </div>\r\n          </div>\r\n        )}\r\n        <Collapse navbar isOpen={collapseOpen}>\r\n            <Nav className=\"ml-auto\" navbar>\r\n              <UncontrolledDropdown>\r\n                <DropdownToggle\r\n                  caret\r\n                  color=\"default\"\r\n                  nav\r\n                  onClick={(e) => e.preventDefault()}\r\n                >\r\n                  <div className=\"photo\">\r\n                    <img\r\n                      alt=\"...\"\r\n                      src={require(\"assets/img/anime3.png\").default}\r\n                    />\r\n                  </div>\r\n                  <p className=\"d-lg-none\">Log out</p>\r\n                </DropdownToggle>\r\n                <DropdownMenu className=\"dropdown-navbar\" right tag=\"ul\">\r\n                  <DropdownItem divider tag=\"li\" />\r\n                  <NavLink tag=\"li\">\r\n                    <DropdownItem className=\"nav-item\" onClick={() => {\r\n                      handleSignout()\r\n                    }}>Log out</DropdownItem>\r\n                  </NavLink>\r\n                </DropdownMenu>\r\n              </UncontrolledDropdown>\r\n              <li className=\"separator d-lg-none\" />\r\n            </Nav>\r\n          </Collapse>    \r\n      </nav>\r\n      {!user.is_admin && !user?.role.length\r\n        ? (<div className=\"development-in-content dark\">\r\n            No Permission\r\n          </div>)\r\n        : selectedInstance === 'stress_test' || selectedInstance === 'optimization' \r\n        ? (<div className=\"development-in-content dark\">\r\n          In development\r\n        </div>)\r\n        : (<div className=\"graphs-container dark\">\r\n          {displayChart()}\r\n        </div>)\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WatchList;","import React from \"react\";\r\nimport {\r\n  Button\r\n} from \"reactstrap\";\r\n\r\nimport Sidebar from \"components/Sidebar/Sidebar.js\";\r\nimport WatchList from \"components/WatchList\"\r\n\r\nimport { routes } from \"routes.js\";\r\n\r\nimport { BackgroundColorContext } from \"contexts/BackgroundColorContext\";\r\n\r\nfunction MacketWatch() {\r\n  const [isShowSidebar, setShowSidebar] = React.useState(false);\r\n  const [selectedInstance, setSelectedInstance] = React.useState('macket_watch');\r\n  \r\n  const handleSidebarChange = () => {\r\n    setShowSidebar(!isShowSidebar);\r\n  };\r\n\r\n  const handleInstanceChange = (instance) => {\r\n    setSelectedInstance(instance)\r\n  }\r\n  \r\n  return (\r\n    <BackgroundColorContext.Consumer>\r\n      {({ color }) => (\r\n        <React.Fragment>\r\n          <div className=\"wrapper hunter-wrapper\">\r\n          {!isShowSidebar && (\r\n            <Button\r\n              className ={\"show-sidebar-toggle-area show-sidebar-icon\"}\r\n              onClick={handleSidebarChange}\r\n            >\r\n              <i className=\"tim-icons icon-align-left-2\"/>\r\n            </Button>\r\n          )}\r\n          {isShowSidebar && (\r\n              <Sidebar\r\n                isAdminPage={false}\r\n                routes={routes}\r\n                selectedInstance={selectedInstance}\r\n                handleSidebarChange={handleSidebarChange}\r\n                handleInstanceChange={handleInstanceChange}\r\n              />\r\n            )}\r\n            <div className=\"col-sm-12 hunter-watch-list-area\">\r\n                <WatchList />\r\n            </div>\r\n          </div>\r\n        </React.Fragment>\r\n      )}\r\n    </BackgroundColorContext.Consumer>\r\n  );\r\n}\r\n\r\nexport default MacketWatch;","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport Select from 'react-select'\r\nimport { Link } from \"react-router-dom\";\r\nimport \"react-datetime/css/react-datetime.css\";\r\nimport {\r\n  Collapse,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  UncontrolledDropdown,\r\n  NavLink,\r\n  Nav,\r\n} from \"reactstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { MDBDataTableV5 } from 'mdbreact';\r\nimport { useAuth } from 'contexts/authContext';\r\nimport { getScannerDetails, getTickerScannerOptions } from 'api/Api'\r\n\r\nconst ScannerComponent = () => {\r\n  const auth = useAuth();\r\n  const history = useHistory();\r\n  const [collapseOpen,] = React.useState(false)\r\n  const [exchange, setExchange] = React.useState(null)\r\n  const [sector, setSector] = useState(null);\r\n  const [industry, setIndustry] = useState(null);\r\n  const [optionsExchange, setOptionsExchanges] = useState([])\r\n  const [optionsSector, setOptionsSector] = useState([])\r\n  const [optionsIndustry, setOptionsIndustry] = useState([])\r\n  const [scannerData, setScannerData] = useState([])\r\n\r\n  const hearder_columns = useMemo(() => {\r\n    return [\r\n    {\r\n      label: 'Industry',\r\n      field: 'industry',\r\n      width: 200,\r\n      attributes: {\r\n        'aria-controls': 'DataTable',\r\n        'aria-label': 'symbol',\r\n      },\r\n    },\r\n    {\r\n      label: 'Sector',\r\n      field: 'sector',\r\n      width: 200,\r\n    },\r\n    {\r\n      label: 'Exchange',\r\n      field: 'exchange',\r\n      width: 200,\r\n    },\r\n    {\r\n      label: 'Country',\r\n      field: 'country',\r\n      width: 200,\r\n    },  \r\n    {\r\n      label: 'Market Cap',\r\n      field: 'marketcap',\r\n      width: 200,\r\n    },   \r\n    {\r\n      label: 'Cik Id',\r\n      field: 'cik',\r\n    },\r\n  ]}, [])\r\n\r\n  const [datatable, setDatatable] = React.useState({\r\n    columns: hearder_columns,\r\n    rows: scannerData,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const loadWholeOptions = async () => {\r\n      const scannerDetails = await getScannerDetails()\r\n\r\n      if (scannerDetails.length) {\r\n        setDatatable({\r\n          columns: hearder_columns,\r\n          rows: scannerDetails,\r\n        })\r\n      }\r\n\r\n      const scannerOptions = await getTickerScannerOptions()\r\n      if (scannerOptions.success) {\r\n        const exchanges = [{\r\n          value: '',\r\n          label: 'All'\r\n        }]\r\n\r\n        scannerOptions.result.exchanges.map(exchange => {\r\n          if (exchange === '') {\r\n            return null\r\n          }\r\n          exchanges.push({\r\n            value: exchange,\r\n            label: exchange\r\n          })\r\n        })\r\n\r\n        const industries = [{\r\n          value: '',\r\n          label: 'All'\r\n        }]\r\n\r\n        scannerOptions.result.industry.map(industry => {\r\n          if (industry !== '' && industry !== null) {\r\n            industries.push({\r\n              value: industry,\r\n              label: industry\r\n            })\r\n          }\r\n        })\r\n\r\n        const sectors = [{\r\n          value: '',\r\n          label: 'All'\r\n        }]\r\n        \r\n        scannerOptions.result.sector.forEach(sector => {\r\n          if (sector !== '' && sector !== null) {\r\n            sectors.push({\r\n              value: sector,\r\n              label: sector\r\n            })\r\n          }\r\n        })\r\n\r\n        setOptionsExchanges(exchanges)\r\n        setOptionsIndustry(industries)\r\n        setOptionsSector(sectors)\r\n      }\r\n    }\r\n\r\n    loadWholeOptions()  \r\n  }, [])\r\n\r\n  const handleSignout = () => {\r\n    auth.signout()\r\n    history.push('/login')\r\n  }\r\n\r\n  const handleSectorChange = async (e) => {\r\n    setSector(e)\r\n    \r\n    const scannerDetails = await getScannerDetails(exchange ? exchange.value : '', industry ? industry.value : '', e.value)\r\n\r\n    if (scannerDetails.length) {\r\n      setDatatable({\r\n        columns: hearder_columns,\r\n        rows: scannerDetails,\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleExchangeChange = async (e) => {\r\n    setExchange(e)\r\n\r\n    const scannerDetails = await getScannerDetails(e.value, industry ? industry.value : '', sector ? sector.value : '')\r\n\r\n    if (scannerDetails.length) {\r\n      setDatatable({\r\n        columns: hearder_columns,\r\n        rows: scannerDetails,\r\n      })\r\n    }\r\n  }\r\n  \r\n  const handleIndustryChange = async (e) => {\r\n    setIndustry(e)\r\n\r\n    const scannerDetails = await getScannerDetails(exchange ? exchange.value : '', e.value, sector ? sector.value : '')\r\n\r\n    setDatatable({\r\n      columns: hearder_columns,\r\n      rows: scannerDetails,\r\n    })\r\n  }\r\n  \r\n  return (\r\n    <div className=\"hunter-chart-container\">\r\n      <nav className=\"navbar navbar-expand navbar-dark bg-dark hunter-nav-bar\">\r\n        <div className=\"logo-title\">\r\n          <a href=\"/chart\" className=\"hunter-navbar-brand\">\r\n            Violette AM - Client Portal\r\n          </a>\r\n        </div>\r\n        <div className=\"navbar-nav mr-auto\">\r\n          <li className=\"nav-item\">\r\n            <Link to={\"/chart\"} className=\"nav-link\"></Link>\r\n          </li>\r\n        </div>\r\n        <Collapse navbar isOpen={collapseOpen}>\r\n          <Nav className=\"ml-auto\" navbar>\r\n            <UncontrolledDropdown nav>\r\n              <DropdownToggle\r\n                caret\r\n                color=\"default\"\r\n                nav\r\n                onClick={(e) => e.preventDefault()}\r\n              >\r\n                <div className=\"photo\">\r\n                  <img\r\n                    alt=\"...\"\r\n                    src={require(\"assets/img/anime3.png\").default}\r\n                  />\r\n                </div>\r\n                <p className=\"d-lg-none\">Log out</p>\r\n              </DropdownToggle>\r\n              <DropdownMenu className=\"dropdown-navbar\" right tag=\"ul\">\r\n                <DropdownItem divider tag=\"li\" />\r\n                <NavLink tag=\"li\">\r\n                  <DropdownItem className=\"nav-item\" onClick={() => {handleSignout()}}>Log out</DropdownItem>\r\n                </NavLink>\r\n              </DropdownMenu>\r\n            </UncontrolledDropdown>\r\n            <li className=\"separator d-lg-none\" />\r\n          </Nav>\r\n        </Collapse>    \r\n      </nav>\r\n      <div className=\"col-sm-12 hunter-data-table-container scanner-page-container\">\r\n        <div className=\"hunter-data-table-title\">\r\n          Scanner Table\r\n        </div>\r\n        <div className=\"hunter-search-filter-area\">\r\n          <div className=\"select-option\">\r\n            <Select\r\n              value={exchange}\r\n              onChange={handleExchangeChange}\r\n              options={optionsExchange}\r\n              placeholder=\"Exchange\"\r\n            />\r\n          </div>\r\n          <div className=\"select-option\">\r\n            <Select\r\n              value={sector}\r\n              onChange={handleSectorChange}\r\n              options={optionsSector}\r\n              placeholder=\"Sector\"\r\n            />\r\n          </div>\r\n          <div className=\"select-option\">\r\n            <Select\r\n              value={industry}\r\n              onChange={handleIndustryChange}\r\n              options={optionsIndustry}\r\n              placeholder=\"Industry\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <MDBDataTableV5 \r\n          hover\r\n          maxHeight=\"500px\"\r\n          entriesOptions={[10, 25, 50, 100]}\r\n          entries={10}\r\n          pagesAmount={4}\r\n          data={datatable}\r\n          dark={true}\r\n          noBottomColumns={true}\r\n          small={true}\r\n          striped={true}\r\n          scrollY={true}\r\n        />;\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ScannerComponent;\r\n","import React from \"react\";\r\nimport {\r\n  Button\r\n} from \"reactstrap\";\r\n\r\nimport Sidebar from \"components/Sidebar/Sidebar.js\";\r\nimport ScannerComponent from 'components/Scanner/ScannerComponent.js'\r\n\r\nimport { routes } from \"routes.js\";\r\n\r\nimport { BackgroundColorContext } from \"contexts/BackgroundColorContext\";\r\n\r\nfunction Scanner() {\r\n  const [isShowSidebar, setShowSidebar] = React.useState(false);\r\n  const [selectedInstance, setSelectedInstance] = React.useState('scanner');\r\n  \r\n  const handleSidebarChange = () => {\r\n    setShowSidebar(!isShowSidebar);\r\n  };\r\n\r\n  const handleInstanceChange = (instance) => {\r\n    setSelectedInstance(instance)\r\n  }\r\n  \r\n  return (\r\n    <BackgroundColorContext.Consumer>\r\n      {({ color }) => (\r\n        <React.Fragment>\r\n          <div className=\"wrapper hunter-wrapper\">\r\n            {!isShowSidebar && (\r\n              <Button\r\n                className ={\"show-sidebar-toggle-area show-sidebar-icon\"}\r\n                onClick={handleSidebarChange}\r\n              >\r\n                <i className=\"tim-icons icon-align-left-2\"/>\r\n              </Button>\r\n            )}\r\n            {isShowSidebar && (\r\n              <Sidebar\r\n                isAdminPage={false}\r\n                routes={routes}\r\n                subInstance={'tradedatatable'}\r\n                selectedInstance={selectedInstance}\r\n                handleSidebarChange={handleSidebarChange}\r\n                handleInstanceChange={handleInstanceChange}\r\n              />\r\n            )}\r\n            <div className=\"col-sm-12\">\r\n                <ScannerComponent />\r\n            </div>\r\n          </div>\r\n        </React.Fragment>\r\n      )}\r\n    </BackgroundColorContext.Consumer>\r\n  );\r\n}\r\n\r\nexport default Scanner;","import React from 'react'\r\nimport Chart from 'react-apexcharts'\r\nimport moment from \"moment\";\r\n\r\nexport class MultiLineChart extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      series: this.getSeries(),\r\n      options: {\r\n        chart: {\r\n          height: 350,\r\n          type: 'line',\r\n          zoom: {\r\n            enabled: false\r\n          }\r\n        },\r\n        dataLabels: {\r\n          enabled: false\r\n        },\r\n        stroke: {\r\n          show: true,\r\n          curve: 'smooth',\r\n          lineCap: 'butt',\r\n          colors: undefined,\r\n          width: 2,\r\n          dashArray: 0,  \r\n        },\r\n        title: {\r\n          text: props.isPercent ? 'Percent Gain/Lost' : 'Efficiency',\r\n          align: 'left',\r\n          style: {\r\n            fontSize:  '18px',\r\n            fontWeight:  'bold',\r\n            color: '#FFFFFF'\r\n          },\r\n        },\r\n        grid: {\r\n          show: false\r\n        },\r\n        xaxis: {\r\n          categories: this.getCategories(),\r\n          labels: {\r\n            show: true,\r\n            style: {\r\n              colors: '#FFFFFF',\r\n            },\r\n            formatter: (val, opt) =>\r\n              moment.utc(val).format(\"MM/DD hh:mm\")\r\n          },\r\n          datetimeUTC: true,\r\n        },\r\n        yaxis: {\r\n          labels: {\r\n            show: true,\r\n            style: {\r\n              colors: '#FFFFFF',\r\n            },\r\n            formatter: (value) => value.toFixed(2),\r\n          },\r\n          axisBorder: {\r\n            show: true,\r\n          },\r\n          min: this.getMinValue(),\r\n          max: this.getMaxValue(),\r\n        },\r\n        legend: {\r\n          show: true,\r\n          labels: {\r\n            colors: ['#FFFFFF']\r\n          },\r\n          position: 'top'\r\n        }\r\n      },\r\n    };\r\n  }\r\n\r\n  getSeries() {\r\n    const series = []\r\n    this.props.chartData.map((data) => {\r\n      for (const property in data) {\r\n        series.push({\r\n          name: property,\r\n          data: data[property].map((o) => this.props.isPercent ? o.percent : o.efficiency)\r\n        })\r\n      }\r\n      return null\r\n    })\r\n    return series\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.chartData !== this.props.chartData) {\r\n      this.setState({\r\n        series: this.getSeries(),\r\n        options: {\r\n          xaxis: {\r\n            categories: this.getCategories(),\r\n            labels: {\r\n              show: true,\r\n              style: {\r\n                  colors: '#FFFFFF',\r\n              },\r\n              formatter: (val) =>\r\n                moment.utc(val).format(\"MM/DD hh:mm\")\r\n            },\r\n            datetimeUTC: true,\r\n          },\r\n          yaxis: {\r\n            labels: {\r\n              show: true,\r\n              style: {\r\n                colors: '#FFFFFF',\r\n              },\r\n              formatter: (value) => value,\r\n              min: this.getMinValue(),\r\n              max: this.getMaxValue(),\r\n            },\r\n            axisBorder: {\r\n              show: true,\r\n            },\r\n          }\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  getMinValue() {\r\n    let series = [];\r\n    this.props.chartData.map((data) => {\r\n      for (const property in data) {\r\n        const rows = data[property].map(o => this.props.isPercent ? o.percent : o.efficiency)\r\n        series.push(Math.min(...rows))\r\n      }\r\n\r\n      return null\r\n    })\r\n    const min = Math.min(...series)\r\n    return min;\r\n  }\r\n  \r\n  getMaxValue() {\r\n    let series = [];\r\n    this.props.chartData.map((data) => {\r\n      for (const property in data) {\r\n        const rows = data[property].map(o => this.props.isPercent ? o.percent : o.efficiency)\r\n        series.push(Math.max(...rows))\r\n      }\r\n      return null\r\n    })\r\n    const max = Math.max(...series)\r\n    return max;\r\n  }\r\n\r\n  getCategories() {\r\n    const categories = this.props.chartData.map((data) => {\r\n      for (const property in data) {\r\n        return data[property].map((o) => o.date)\r\n      }\r\n      return []\r\n    })\r\n\r\n    return categories[0]\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <div id=\"chart\">\r\n        <Chart options={this.state.options} series={this.state.series} type=\"line\" height={350} />\r\n      </div>\r\n    )\r\n  }\r\n}","import React, { useEffect, useState } from 'react'\r\nimport ReactApexChart from 'react-apexcharts'\r\n\r\nconst HeatMapChart = (props) => {\r\n  const generateData = (count, period) => {\r\n    const randomArray = []\r\n    for (let i = 0;i < count; i ++) {\r\n      const min = Math.ceil(period.min)\r\n      const max = Math.floor(period.max)\r\n      randomArray.push(Math.floor(Math.random() * (max - min) + min))\r\n    }\r\n    return randomArray\r\n  }\r\n\r\n  const [series, setSeries] = useState([])\r\n\r\n  const [chartOptions, setChartOptions] = useState(\r\n    {\r\n      chart: {\r\n        height: 350,\r\n        type: 'heatmap',\r\n      },\r\n      dataLabels: {\r\n        enabled: false\r\n      },\r\n      stroke: {\r\n        width: 1\r\n      },\r\n      colors: [\"#008FFB\"],\r\n      title: {\r\n        align: 'center',\r\n        text: 'HeatMap Chart Per Symbols',\r\n        style: {\r\n          color: '#FFFFFF'\r\n        }\r\n      },\r\n    },\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (props.multiSymbol && props.multiSymbol.length) {\r\n      const seriesBuffer = props.multiSymbol.map((symbol) => {\r\n        return {\r\n          name: symbol.value,\r\n          data: generateData(20, {\r\n            min: -30,\r\n            max: 55\r\n          })\r\n        }\r\n      }) \r\n      console.log('props.symbols', seriesBuffer)\r\n      setSeries(seriesBuffer)\r\n    }\r\n  }, [props.multiSymbol])\r\n\r\n  return (\r\n    <div id='chart'>\r\n      <ReactApexChart\r\n        options={chartOptions}\r\n        series={series}\r\n        type='heatmap'\r\n        height={350}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default HeatMapChart","import React, { useState, useEffect } from \"react\";\r\nimport ReactApexChart from \"react-apexcharts\";\r\n\r\nconst getWiningData = (chartData, isAverage) => {\r\n  return chartData.map((d) => isAverage ? d.avgWinning / 100 : d.winning )\r\n}\r\n\r\nconst getLosingData = (chartData, isAverage) => {\r\n  return chartData.map((d) => isAverage ? d.avgLosing / 100 : d.losing)\r\n}\r\n\r\nconst getSymbols = (chartData) => {\r\n  return chartData.map((d) => d.symbol)\r\n}\r\n\r\nconst optionCreator = (chartData, isAverage) => {\r\n  return {\r\n    chart: {\r\n      type: \"bar\",\r\n      width: \"100%\",\r\n      toolbar: {\r\n        show: false\r\n      },\r\n      events: {\r\n        click: function (event, chartContext, config) {\r\n          console.log(\"clicked\");\r\n        }\r\n      }\r\n    },\r\n    states: {\r\n      normal: {\r\n        filter: {\r\n          type: \"none\"\r\n        }\r\n      },\r\n      active: {\r\n        filter: {\r\n          type: \"darken\",\r\n          value: 0.35\r\n        }\r\n      }\r\n    },\r\n    colors: [\"#00ff00\", `rgba(255,0,0, ${1 ? 0.5 : 1})`],\r\n    title: {\r\n      text: isAverage ? \"Winning & Losing Avg Percent\" : \"Wining & Losing Trades\",\r\n      align: \"left\",\r\n      offsetX: 8,\r\n      offsetY: -2,\r\n      style: {\r\n        fontSize: \"16px\",\r\n        color: '#FFFFFF'\r\n      }\r\n    },\r\n    plotOptions: {\r\n      bar: {\r\n        endingShape: \"rounded\",\r\n        columnWidth: \"75%\",\r\n        barHeight: \"100%\",\r\n        dataLabels: {\r\n          position: \"top\"\r\n        }\r\n      }\r\n    },\r\n    dataLabels: {\r\n      enabled: true,\r\n      offsetY: -20,\r\n      style: {\r\n        fontSize: \"16px\",\r\n        colors: [\"#FFFFFF\", \"#FFFFFF\"]\r\n      },\r\n      formatter: (value, opts) => {\r\n        return isAverage ? value.toFixed(5) : value | 0 \r\n      },\r\n    },\r\n    stroke: {\r\n      show: true,\r\n      width: 1,\r\n      colors: [\"#fff\"]\r\n    },\r\n    xaxis: {\r\n      categories: getSymbols(chartData),\r\n      labels: {\r\n        show: true,\r\n        style: {\r\n            colors: '#FFFFFF',\r\n        },\r\n      },\r\n    },\r\n    grid: {\r\n      show: false\r\n    },\r\n    yaxis: {\r\n      labels: {\r\n        show: true,\r\n        style: {\r\n            colors: '#FFFFFF',\r\n        },\r\n        formatter: (value) => { return isAverage ? value.toFixed(5) : value | 0 },\r\n      },\r\n      axisBorder: {\r\n        show: true,\r\n      },\r\n    },\r\n    tooltip: {\r\n      enabled: true\r\n    },\r\n    legend: {\r\n      position: \"top\",\r\n      horizontalAlign: \"right\",\r\n      offsetY: -50,\r\n      fontSize: \"14px\",\r\n      labels: {\r\n        colors: \"#FFFFFF\"\r\n      },\r\n      markers: {\r\n        width: 16,\r\n        height: 16,\r\n        radius: 4\r\n      },\r\n      itemMargin: {\r\n        horizontal: 5,\r\n        vertical: 5\r\n      },\r\n      onItemHover: {\r\n        highlightDataSeries: true\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nexport default function GroupApexBar(props) {\r\n  const { data: chartData, isAverage } = props;\r\n  const [options, setOptions] = useState(optionCreator(chartData, isAverage));\r\n  const [series, setSeries] = useState([\r\n    {\r\n      data: getWiningData(chartData, isAverage)\r\n    },\r\n    {\r\n      data: getLosingData(chartData, isAverage)\r\n    }\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    setOptions(optionCreator(chartData, isAverage))\r\n    setSeries([\r\n      {\r\n        name: isAverage ? 'Winning Average' : 'Winning',\r\n        data: getWiningData(chartData, isAverage)\r\n      },\r\n      {\r\n        name: isAverage ? 'Losing Average' : 'Losing',\r\n        data: getLosingData(chartData, isAverage)\r\n      }\r\n    ])\r\n  }, [chartData, isAverage])\r\n\r\n  return (\r\n    <div id=\"chart\">\r\n      <ReactApexChart\r\n        options={options}\r\n        series={series}\r\n        type=\"bar\"\r\n        width={'100%'}\r\n        height={400}\r\n      />\r\n    </div>\r\n  );\r\n}","import { MultiLineChart } from './MultiLineChart'\r\nimport HeatMapChart from './HeatMapChart'\r\nimport GroupApexBar from './GroupBarChart'\r\n\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { TypeChooser } from \"react-stockcharts/lib/helper\";\r\nimport { fitWidth } from \"react-stockcharts/lib/helper\";\r\nclass OptimizationChartItem extends React.Component {\r\n\trender() {\r\n    const { data: mainData, multiSymbol } = this.props;\r\n\r\n\t\tif (mainData == null) {\r\n\t\t\treturn <div>Loading...</div>\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<HeatMapChart multiSymbol={multiSymbol}/>\r\n\t\t\t\t<MultiLineChart chartData={mainData.percentEfficiency} isPercent={true}/>\r\n\t\t\t\t<TypeChooser>\r\n\t\t\t\t\t{type => <GroupApexBar type={type} data={mainData.winningLosing} isAverage={false}/>}\r\n\t\t\t\t</TypeChooser>\r\n\t\t\t\t<TypeChooser>\r\n\t\t\t\t\t{type => <GroupApexBar type={type} data={mainData.winningLosingAvg} isAverage={true}/>}\r\n\t\t\t\t</TypeChooser>\r\n\t\t\t\t<MultiLineChart chartData={mainData.percentEfficiency} isPercent={false}/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nOptimizationChartItem.propTypes = {\r\n\tdata: PropTypes.array.isRequired,\r\n\twidth: PropTypes.number.isRequired,\r\n\tratio: PropTypes.number.isRequired,\r\n\ttype: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired,\r\n};\r\n\r\nOptimizationChartItem.defaultProps = {\r\n\ttype: \"svg\",\r\n};\r\nOptimizationChartItem = fitWidth(OptimizationChartItem);\r\n\r\nexport default OptimizationChartItem;","import React, { useState, useEffect } from \"react\";\r\nimport OptimizationChartItem from './OptimizationChartItem'\r\n\r\nconst OptimizationChart = (props) => {\r\n  const { \r\n    strategy,\r\n    chartPeriod,\r\n    multiSymbol,\r\n    microStrategy,\r\n    startDate,\r\n    endDate,\r\n  } = props;\r\n\r\n  const [chartData, setChartData] = useState(null)\r\n\t\r\n  useEffect(() => {\r\n    const get_data = () => {\r\n      const symbols = multiSymbol.map((symbol) => symbol.value);\r\n      if (!symbols.length | !microStrategy) {\r\n        return;\r\n      }\r\n      \r\n      const requestOptions = {\r\n        method: 'POST',\r\n        headers: {'Content-Type': 'application/json'},\r\n        body: JSON.stringify({\r\n          'symbols': symbols,\r\n          \"macro\": strategy.value,\r\n          \"micro\": microStrategy.value,\r\n          'start_date': startDate,\r\n          'end_date': endDate,\r\n        })\r\n      };\r\n      try {\r\n        fetch(process.env.REACT_APP_BACKEND_URL+'/api/get_backtesting_result', requestOptions)\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            setChartData(data['chart_data'])\r\n          })    \r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    }\r\n    \r\n    if (multiSymbol.length) {\r\n      get_data()\r\n    }\r\n  }, [multiSymbol, microStrategy, startDate, endDate, strategy])\r\n    \r\n  const displayPerformanceChart = (type) => {\r\n    return (\r\n      <OptimizationChartItem type={type} data={chartData} multiSymbol={multiSymbol}/>\r\n    )\r\n  }\r\n\r\n  return (\r\n\t\t<>\r\n      {\r\n\t\t\t\tchartData == null ? <div>Loading...</div> :\r\n          <>\r\n            <div className=\"select-wrape\">\r\n              <div>\r\n                <strong>{chartPeriod} [NASDAQ]</strong>\r\n              </div>\r\n            </div>\r\n            {displayPerformanceChart()}\r\n          </>\r\n        }\r\n\t\t</>\r\n  )\r\n}\r\n\r\nexport default OptimizationChart","import React, { useCallback, useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Select from 'react-select'\r\nimport \"react-datetime/css/react-datetime.css\";\r\nimport OptimizationChart from \"components/optimization-chart/OptimizationChart\"\r\nimport disableScroll from 'disable-scroll';\r\nimport ReactMultiSelectCheckboxes from 'react-multiselect-checkboxes';\r\nimport MultiRangeSlider from 'components/MultiRangeSlider/MultiRangeSlider'\r\n\r\nimport {\r\n  Collapse,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  UncontrolledDropdown,\r\n  NavLink,\r\n  Nav,\r\n} from \"reactstrap\";\r\n\r\nimport { useAuth } from 'contexts/authContext';\r\n\r\nconst OptimizationChartPage = () => {\r\n  \r\n  const auth = useAuth();\r\n  const history = useHistory();\r\n  const [collapseOpen,] = React.useState(false)\r\n  const [timeFrame, setTimeFrame] = useState({\r\n    value: '2min',\r\n    label: '2min',\r\n  })\r\n  \r\n  const [optionsTimeFrame] = useState([\r\n    {\r\n      value: '2min',\r\n      label: '2min',\r\n    },\r\n    {\r\n      value: '12min',\r\n      label: '12min',\r\n    }\r\n  ])\r\n\r\n  const [selectedInstance] = useState({\r\n      value: 'Optimization',\r\n      label: 'Optimization'\r\n  })\r\n  \r\n  const [multiSymbol, setMultiSymbol] = useState([])\r\n  const [strategy, setStrategy] = useState(null)\r\n  const [symbolList, setSymbolList] = useState([])\r\n  const [microStrategy, setMicroStrategy] = useState(null)\r\n  const [apiFlag, setApiFlag] = useState(false)\r\n  const [tradeStartDate, setTradeStartDate] = useState('')\r\n  const [tradeEndDate, setTradeEndDate] = useState('')\r\n  const [strategyList, setStrategyList] = useState([]);\r\n  \r\n  const [optionsMicroStrategy, setOptionsMicroStrategy] = useState([])\r\n  \r\n  const [optionsStratgy, setOptionsStrategy] = useState([])\r\n\r\n  const  handleTimeFrameChange = (e) => {\r\n    setTimeFrame(e)\r\n  }\r\n\r\n  const getStrategyList = useCallback(\r\n    () => {\r\n      fetch(process.env.REACT_APP_BACKEND_URL + \"/api/get_strategy_list\")\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          setStrategyList(data.result);\r\n          const strategyOptions = data.result.map((o => {\r\n            return {\r\n              value: o.macro,\r\n              label: o.macro,\r\n            }\r\n          }))\r\n          setOptionsStrategy(strategyOptions);\r\n          setStrategy( strategyOptions[0] )\r\n          \r\n          if (data.result.length) {\r\n            data.result.forEach((item) => {\r\n              if (item.macro) {\r\n                const microStrategyOptions = item.micro.map(o => {\r\n                  return {\r\n                    value: o,\r\n                    label: o,\r\n                  }\r\n                })\r\n                \r\n                setOptionsMicroStrategy( microStrategyOptions )\r\n                setMicroStrategy( microStrategyOptions[0] )\r\n                \r\n                const symbolOptions = item.symbols.map(o => {\r\n                  return {\r\n                    value: o,\r\n                    label: o,\r\n                  }\r\n                })\r\n                setSymbolList(symbolOptions)\r\n              }\r\n            })\r\n          }\r\n        })   \r\n    },\r\n    [],\r\n  )\r\n\r\n  useEffect(() => {\r\n    const user = JSON.parse(localStorage.getItem('user-info'))\r\n    if (user.is_admin || user.role.length) {\r\n      getStrategyList();\r\n    }\r\n    disableScroll.on();\r\n    return () => {\r\n      disableScroll.off();\r\n    }\r\n  }, [getStrategyList])\r\n  \r\n  useEffect(() => {\r\n    const get_tables = () => {\r\n      const requestOptions = {\r\n        method: 'POST',\r\n        headers: {'Content-Type': 'application/json'},\r\n        body: JSON.stringify({\r\n          'strategy': strategy.value\r\n        })\r\n      };\r\n      fetch(process.env.REACT_APP_BACKEND_URL + \"/api/tables\", requestOptions)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          let temp_data = []\r\n          data.tables.map((x) => {\r\n            temp_data.push({\r\n              value: x,\r\n              label: x\r\n            });\r\n            return null\r\n          })\r\n          setSymbolList(temp_data)\r\n          setMultiSymbol([temp_data[0]])\r\n        })\r\n    }\r\n    \r\n    if (!apiFlag && strategy) {\r\n      get_tables();\r\n      setApiFlag(true)\r\n    }\r\n  }, [apiFlag, setApiFlag, strategy])\r\n\r\n  const handlMultiSymbolChange = (e) => {\r\n    setMultiSymbol(e)\r\n  }\r\n\r\n  const handleStrategyChange = async (e) => {\r\n    if (e) {\r\n      setStrategy(e)\r\n      if (strategyList.length) {\r\n        strategyList.forEach((item) => {\r\n          if (item.macro === e.value) {\r\n            const microStrategyOptions = item.micro.map(o => {\r\n              return {\r\n                value: o,\r\n                label: o,\r\n              }\r\n            })\r\n            setOptionsMicroStrategy( microStrategyOptions )\r\n            const is_2m = microStrategyOptions.filter((o => o.value === '2m'))\r\n            if (is_2m.length) {\r\n              setMicroStrategy({\r\n                value: '2m',\r\n                label: '2m'\r\n              })\r\n            } else {\r\n              setMicroStrategy(microStrategyOptions[2])\r\n            }\r\n\r\n            const symbolOptions = item.symbols.map(o => {\r\n              return {\r\n                value: o,\r\n                label: o,\r\n              }\r\n            })\r\n            setSymbolList(symbolOptions)\r\n            setMultiSymbol([symbolOptions[0]])\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleMicroStrategyChange = (e) => {\r\n    setMicroStrategy(e);\r\n  }\r\n\r\n  const selectDateRange = (startDate, endDate) => {\r\n    setTradeStartDate(startDate)\r\n    setTradeEndDate(endDate)\r\n  }\r\n\r\n  const handleSignout = () => {\r\n    auth.signout()\r\n    history.push('/login')\r\n  }\r\n\r\n  return (\r\n    <div className=\"hunter-chart-container\">\r\n      <nav className=\"navbar navbar-expand navbar-dark bg-dark hunter-nav-bar\">\r\n        <div className=\"logo-title\">\r\n          <a href=\"/chart\" className=\"hunter-navbar-brand\">\r\n            Violette AM - Client Portal \r\n          </a>\r\n        </div>\r\n        <div className=\"navbar-nav ma-auto hunter-nav-bar-nav\">\r\n          <li className=\"nav-item\">\r\n            <Link to={\"/chart\"} className=\"nav-link\"></Link>\r\n          </li>\r\n          <div className=\"select-option\">\r\n            <Select\r\n              value={timeFrame}\r\n              onChange={handleTimeFrameChange}\r\n              options={optionsTimeFrame}\r\n              placeholder=\"Time Frame\"\r\n            />\r\n          </div>\r\n          <div className=\"select-multi-option hunter-multi-select-checkboxes\">\r\n            <ReactMultiSelectCheckboxes\r\n              options={symbolList}\r\n              value={multiSymbol}\r\n              onChange={handlMultiSymbolChange}\r\n            />\r\n          </div>\r\n          <div className=\"select-option\">\r\n            <Select\r\n              value={strategy}\r\n              onChange={handleStrategyChange}\r\n              options={optionsStratgy}\r\n              placeholder=\"Macro Strategy\"\r\n            />\r\n          </div>\r\n          <div className=\"select-option\">\r\n            <Select\r\n              name=\"filters\"\r\n              placeholder=\"Micro Strategy\"\r\n              value={microStrategy}\r\n              onChange={handleMicroStrategyChange}\r\n              options={optionsMicroStrategy}\r\n            />\r\n          </div>\r\n          <div className='date hunter-item-chart hunter-date-time-picker' id='datetimepicker1'>\r\n            <MultiRangeSlider\r\n              selectDateRange={selectDateRange}\r\n            />\r\n          </div>\r\n        </div>\r\n        <Collapse navbar isOpen={collapseOpen}>\r\n          <Nav className=\"ml-auto\" navbar>\r\n            <UncontrolledDropdown>\r\n              <DropdownToggle\r\n                caret\r\n                color=\"default\"\r\n                nav\r\n                onClick={(e) => e.preventDefault()}\r\n              >\r\n                <div className=\"photo\">\r\n                  <img\r\n                    alt=\"...\"\r\n                    src={require(\"assets/img/anime3.png\").default}\r\n                  />\r\n                </div>\r\n                <p className=\"d-lg-none\">Log out</p>\r\n              </DropdownToggle>\r\n              <DropdownMenu className=\"dropdown-navbar\" right tag=\"ul\">\r\n                <DropdownItem divider tag=\"li\" />\r\n                <NavLink tag=\"li\">\r\n                  <DropdownItem className=\"nav-item\" onClick={() => {\r\n                    handleSignout()\r\n                  }}>Log out</DropdownItem>\r\n                </NavLink>\r\n              </DropdownMenu>\r\n            </UncontrolledDropdown>\r\n            <li className=\"separator d-lg-none\" />\r\n          </Nav>\r\n        </Collapse>\r\n      </nav>\r\n      <div className=\"graphs-container dark\">\r\n        {microStrategy && (\r\n          < OptimizationChart\r\n            selectedInstance ={selectedInstance.value}\r\n            microStrategy={microStrategy}\r\n            multiSymbol={multiSymbol}\r\n            strategy={strategy}\r\n            isHomePage={false}\r\n            startDate={tradeStartDate}\r\n            endDate={tradeEndDate}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OptimizationChartPage;\r\n","import React from \"react\";\r\nimport {\r\n  Button\r\n} from \"reactstrap\";\r\n\r\nimport Sidebar from \"components/Sidebar/Sidebar.js\";\r\nimport OptimizationChartPage from \"components/optimization-chart/OptimizationChartPage\"\r\nimport { routes } from \"routes.js\";\r\nimport { BackgroundColorContext } from \"contexts/BackgroundColorContext\";\r\n\r\nfunction Optimization() {\r\n  const [isShowSidebar, setShowSidebar] = React.useState(false);\r\n  const [selectedInstance, setSelectedInstance] = React.useState('macket_watch');\r\n  \r\n  const handleSidebarChange = () => {\r\n    setShowSidebar(!isShowSidebar);\r\n  };\r\n\r\n  const handleInstanceChange = (instance) => {\r\n    setSelectedInstance(instance)\r\n  }\r\n  \r\n  return (\r\n    <BackgroundColorContext.Consumer>\r\n      {({ color }) => (\r\n        <React.Fragment>\r\n          <div className=\"wrapper hunter-wrapper\">\r\n          {!isShowSidebar && (\r\n            <Button\r\n              className ={\"show-sidebar-toggle-area show-sidebar-icon\"}\r\n              onClick={handleSidebarChange}\r\n            >\r\n              <i className=\"tim-icons icon-align-left-2\"/>\r\n            </Button>\r\n          )}\r\n          {isShowSidebar && (\r\n            <Sidebar\r\n              isAdminPage={false}\r\n              routes={routes}\r\n              selectedInstance={selectedInstance}\r\n              handleSidebarChange={handleSidebarChange}\r\n              handleInstanceChange={handleInstanceChange}\r\n            />\r\n            )}\r\n            <div className=\"col-sm-12 hunter-watch-list-area\">\r\n              <OptimizationChartPage />\r\n            </div>\r\n          </div>\r\n        </React.Fragment>\r\n      )}\r\n    </BackgroundColorContext.Consumer>\r\n  );\r\n}\r\n\r\nexport default Optimization;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\n\r\nimport HomePage from \"layouts/User/HomePage\"\r\nimport Login from \"layouts/User/Login\"\r\nimport AdminLayout from \"layouts/Admin/Admin.js\";\r\nimport UserManage from \"layouts/Admin/UserManage.js\";\r\nimport LinkManage from \"layouts/Admin/LinkManage\";\r\nimport PriceData from \"layouts/User/PriceData\";\r\nimport TradeData from \"layouts/User/TradeData\";\r\nimport HybridView from \"layouts/User/HybridView\";\r\nimport FinancialDashboard from \"layouts/User/FinancialDashboard\";\r\n\r\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\r\nimport \"assets/scss/black-dashboard-react.scss\";\r\nimport \"assets/demo/demo.css\";\r\nimport '@fortawesome/fontawesome-free/css/all.min.css'; \r\nimport'bootstrap-css-only/css/bootstrap.min.css'; \r\nimport 'mdbreact/dist/css/mdb.css';\r\nimport \"./App.css\";\r\nimport \"assets/css/nucleo-icons.css\";\r\n\r\nimport FileManager from \"components/SystemFileManager/FileManager\";\r\nimport ThemeContextWrapper from \"./components/ThemeWrapper/ThemeWrapper\";\r\nimport BackgroundColorWrapper from \"./components/BackgroundColorWrapper/BackgroundColorWrapper\";\r\nimport ProvideAuth from 'contexts/authContext'\r\nimport PrivateRoute from 'layouts/Auth/PrivateRoute'\r\nimport SignUp from 'layouts/User/SignUp'\r\nimport Verify from 'layouts/User/Verify'\r\nimport Floats from \"layouts/User/Floats\";\r\nimport ForgotPassword from 'layouts/User/ForgotPassword'\r\nimport PasswordResetConfirm from 'layouts/User/PasswordResetConfirm'\r\nimport MacketWatch from 'layouts/User/MacketWatch'\r\nimport Scanner from 'layouts/User/Scanner'\r\nimport Optimization from 'layouts/User/Optimization'\r\n\r\nReactDOM.render(\r\n  <ThemeContextWrapper>\r\n    <BackgroundColorWrapper>\r\n      <ProvideAuth>\r\n        <BrowserRouter>\r\n          <Switch>\r\n            <PrivateRoute path=\"/admin/usermanage\">\r\n              <UserManage />\r\n            </PrivateRoute>\r\n            <PrivateRoute path=\"/admin/linkmanage\">\r\n              <LinkManage />\r\n            </PrivateRoute>\r\n            <PrivateRoute path=\"/admin\">\r\n              <UserManage />\r\n            </PrivateRoute>\r\n            <Route path=\"/login\" render={(props) => <Login {...props} />} />\r\n            <Route path=\"/signup\" render={(props) => <SignUp {...props} />} />\r\n            <Route path=\"/verify\" render={(props) => <Verify {...props} />} />\r\n            <Route path=\"/forgot_password\" render={(props) => <ForgotPassword {...props} />} />\r\n            <Route path=\"/password-reset-confirm/:uuid/:token\" render={(props) => <PasswordResetConfirm {...props} />} />\r\n            <PrivateRoute path=\"/botmanagement\">\r\n              <FileManager/>\r\n            </PrivateRoute>\r\n            <PrivateRoute path=\"/floats\">\r\n              <Floats />\r\n            </PrivateRoute>\r\n            <PrivateRoute path=\"/macket_watch\">\r\n              <MacketWatch />\r\n            </PrivateRoute>\r\n            <PrivateRoute path=\"/optimization\">\r\n              <Optimization />\r\n            </PrivateRoute>\r\n            <PrivateRoute path=\"/pricedatatable\">\r\n              <PriceData />\r\n            </PrivateRoute>\r\n            <PrivateRoute path=\"/tradedatatable\">\r\n              <TradeData />\r\n            </PrivateRoute>\r\n            <PrivateRoute path=\"/hybrid_view\">\r\n              <HybridView />\r\n            </PrivateRoute>\r\n            <PrivateRoute path=\"/financial_data\">\r\n              <FinancialDashboard />\r\n            </PrivateRoute>\r\n            <PrivateRoute path=\"/scanner\">\r\n              <Scanner />\r\n            </PrivateRoute>\r\n            <PrivateRoute path=\"/\">\r\n              <HomePage />\r\n            </PrivateRoute>\r\n          </Switch>\r\n        </BrowserRouter>\r\n      </ProvideAuth>\r\n    </BackgroundColorWrapper>\r\n  </ThemeContextWrapper>,\r\n  document.getElementById(\"root\")\r\n);\r\n","export default __webpack_public_path__ + \"static/media/anime3.4438e506.png\";"],"sourceRoot":""}