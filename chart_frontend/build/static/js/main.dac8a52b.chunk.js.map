{"version":3,"sources":["assets/img/anime3.png","components/Sidebar/Sidebar.js","contexts/BackgroundColorContext.js","components/Dropdown/Dropdown.js","routes.js","components/Interactiveutils.js","components/trades-chart/TradesChart.js","components/performance-chart/MultiLineChart.js","components/performance-chart/GroupBarChart.js","components/performance-chart/PerformanceChart.js","components/stock-chart/StockChart.js","contexts/authContext.js","layouts/User/HomePage.js","components/HeiknStockChart.js","components/ItemChart.js","utils/helper.js","layouts/User/Login.js","components/Navbars/AdminNavbar.js","layouts/Admin/Admin.js","layouts/Admin/UserManage.js","api/Api.js","layouts/Admin/LinkManage.js","components/Datatable/PriceDataTable.js","layouts/User/PriceData.js","components/Datatable/TradeDataTable.js","layouts/User/TradeData.js","components/TextEditor/Editor.js","components/SystemFileManager/FileManager.js","contexts/ThemeContext.js","components/ThemeWrapper/ThemeWrapper.js","components/BackgroundColorWrapper/BackgroundColorWrapper.js","layouts/Auth/PrivateRoute.js","layouts/User/SignUp.js","layouts/User/Verify.js","layouts/User/ForgotPassword.js","layouts/User/PasswordResetConfirm.js","components/Scanner.js","layouts/User/TradeScanner.js","index.js"],"names":["ps","backgroundColors","BackgroundColorContext","createContext","color","changeColor","Dropdown","props","items","title","icon","instance","handleClick","isActive","subInstance","useState","isOpen","setOpen","className","onClick","map","item","e","pathname","id","label","Sidebar","history","useHistory","sidebarRef","React","useRef","JSON","parse","localStorage","getItem","user","userRole","setUserRole","useEffect","role","navigator","platform","indexOf","PerfectScrollbar","current","suppressScrollX","suppressScrollY","destroy","handleInstanceChange","locationState","initInstance","push","state","isAdminPage","routes","selectedInstance","handleSidebarChange","Consumer","data","ref","prop","key","name","is_admin","includes","defaultProps","rtlActive","adminRoutes","saveInteractiveNodes","type","chartId","node","isNotDefined","interactiveNodes","getInteractiveNodes","this","rsiAppearance","stroke","macd","signal","fille","bearPower","CandleStickChartWithEquidistantChannel","handleEvents","handleZoom","hideTextLabel","addTextLable","bind","onKeyPress","onDrawComplete","saveInteractiveNode","saveCanvasNode","handleSelection","enableInteractiveObject","x","y","channels_1","channels_3","valueText","dateText","status","isFullChart","canvasNode","document","addEventListener","subscribe","listener","unsubscribe","removeEventListener","setState","formatter","Intl","DateTimeFormat","month","formatterW","weekday","month2","format","datum","date","week2","dateElem","getDate","getFullYear","high","action","interactives","toObject","each","objects","indicator","indicators","filter","value","length","keyCode","which","console","log","selected","cancelDrag","terminate","isHomePage","index","isIncludeIndicators","ema20","ema","options","windowSize","merge","d","c","accessor","ema50","ha","heikinAshi","macdCalculator","fast","slow","atr14","atr","initialData","width","ratio","chartColumn","forEach","line","dayjs","toDate","calculatedData","discontinuousTimeScaleProvider","inputDateAccessor","xScaleProvider","xScale","xAccessor","displayXAccessor","defaultAnnotationProps","longAnnotationProps","yScale","low","calculateTooltipOffset0","fill","path","buyPath","tooltip","trades","trade","longShort","price","trade_date","replace","shortAnnotationProps","calculateTooltipOffset1","sellPath","xExtents","last","Math","max","xDisplayFormatProps","xDisplayFormat","timeFormat","ohlcFormat","volumeFormat","percentFormat","displayTexts","xDisplayFormatProps1","o","h","l","v","na","xDisplayFormatProps2","symbol","SMATooltipProps","valueFill","height","calculateHeight","margin","left","right","top","bottom","seriesName","redraw","yExtents","padding","axisAt","orient","tickStroke","ticks","at","displayFormat","close","open","wickStroke","origin","with","SvgPathAnnotation","when","strategy","microStrategy","usingProps","volume","w","calculateMainHeightOffset","tickFormat","yAccessor","rsi","calculateOffset","baseAt","side","yValue","yLabel","yDisplayFormat","appearance","isHompage","rsi2","rsi3","heik","heik2","enabled","drawingObjectMap","EquidistantChannel","onSelect","classes","CandleChart","rx","ry","CandleChart_type_date","textAnchor","dy","CandleChart_type_value","Component","fitWidth","withStyles","fontSize","borderRadius","fontWeight","deal_green_shadowed","textShadow","deal_red_shadowed","MultiLineChart","series","getSeries","chart","zoom","dataLabels","show","curve","lineCap","colors","undefined","dashArray","text","isPercent","align","style","grid","xaxis","categories","getCategories","labels","val","opt","moment","utc","datetimeUTC","yaxis","toFixed","axisBorder","min","getMinValue","getMaxValue","legend","position","chartData","property","percent","efficiency","prevProps","rows","getWiningData","isAverage","avgWinning","winning","getLosingData","avgLosing","losing","getSymbols","optionCreator","toolbar","events","click","event","chartContext","config","states","normal","active","offsetX","offsetY","plotOptions","bar","endingShape","columnWidth","barHeight","opts","horizontalAlign","markers","radius","itemMargin","horizontal","vertical","onItemHover","highlightDataSeries","GroupApexBar","setOptions","setSeries","BubbleChart","mainData","percentEfficiency","winningLosing","winningLosingAvg","StockChart","viewType","multiSymbol","selectedTradeDB","chartPeriod","startDate","endDate","dbname","setDbname","setChartData","requestOptions","method","headers","body","stringify","fetch","process","then","response","json","converDate","Date","symbols","get_data","PerformanceChart","authContext","authUser","isAuthenticated","signin","email","password","formData","username","res","user_id","Error","success","catch","err","error","signup","password1","password2","first_name","last_name","signup_path","verify","userId","code","num","signout","removeItem","useAuth","useContext","ProvideAuth","children","auth","a","useProvideAuth","Provider","HeiknStockChart","handleChartRedirect","setSymbol","setIndicators","isShowMicro","setIsShowMicro","symbolList","setSymbolList","isGetSymbolList","collapseOpen","setChartColumn","selectedViewType","setSelectedViewType","setMicroStrategy","setStrategy","strategyList","setStrategyList","optionsViewTypes","setOptionsViewTypes","optionsMicroStrategy","setOptionsMicroStrategy","optionsStratgy","setOptionsStrategy","optionsIndicator","setOptionsIndicator","getStrategyList","useCallback","result","strategyOptions","macro","microStrategyOptions","micro","symbolOptions","get_tables","temp_data","tables","disableScroll","on","off","handleStrategy","calculateGridColumn","displayChart","href","to","onChange","initStrategy","initMicroStrategy","initIndicators","initSymbol","placeholder","isMulti","option","navbar","caret","nav","preventDefault","alt","src","require","default","tag","divider","HeiknStockChartItem","location","setMultiSymbol","apiFlag","setApiFlag","tradeStartDate","setTradeStartDate","tradeEndDate","setTradeEndDate","handleStrategyChange","target","HomePage","setIsHomePage","isShowSidebar","setShowSidebar","setSelectedInstance","useLocation","mainPanelRef","documentElement","classList","remove","querySelectorAll","i","add","scrollTop","scrollingElement","flag","Fragment","validateEmail","test","String","toLowerCase","currentDateString","getMonth","day","Login","setError","isLoading","setIsLoading","message","setMessage","setEmail","setPassword","login","alert","historyState","handleEmailChange","required","handlePasswordChange","htmlFor","AdminNavbar","modalSearch","setmodalSearch","setcolor","window","updateColor","innerWidth","toggleModalSearch","classNames","expand","fluid","modalClassName","toggle","Admin","filterPriceData","timeFrame","candles","filterTradesData","macroStrategy","trades_data","macro_strategy","micro_strategy","quantity","getAllSymbols","createSignUpLink","roles","link","getActiveLinks","sendSignUpLink","forgotPassword","url","passwordConfirmReset","getModuleTypeNames","getFileTypeNames","moduleType","param_type","createScriptFile","filename","content","isUpdate","api","getUserList","updateUserRole","deleteUser","UserManage","isRequest","setIsRequest","isShowUpdateRoleModal","setIsShowUpdateRoleModal","setRoles","userlist","setUserList","selectedUserId","setSelectedUserId","sidebarOpened","setsidebarOpened","optionsRole","list","users","phone_number","size","showUpdateUserRoleModal","confirm","fetchUserList","toggleSidebar","getBrandText","layout","columns","field","handleRolesChange","handleUpdateRoleModalClose","transformUserRole","roleValues","coma","handleUserRoleUpdate","Modal","onHide","Header","closeButton","Title","Body","Footer","variant","brandText","btn","LinkManage","isShowSendModal","setIsShowSendModal","isShowCreateLinkModal","setShowCreateLinkModal","selectedLink","setSelectedLink","links","linklist","showSendEmailModal","setLinkList","fetchActiveLinks","handleCreateLinkModalClose","handleCreateLinkClick","handleLinkCreate","handleSendEmailModalClose","handleLinkToEmailSend","PriceDataTable","setTimeFrame","optionsSymbol","setOptionsSymbol","optionsTimeFrame","hearder_columns","useMemo","attributes","sort","datatable","setDatatable","getPriceTrades","hover","maxHeight","entriesOptions","entries","pagesAmount","dark","noBottomColumns","small","striped","scrollY","PriceData","TradeDataTable","setMacroStrategy","optionsStrategy","macroStrat","microStrat","get_trades","TradeData","TextEditor","loadModuleTypes","moduleTypes","moduleTypeOptions","selectedModuleType","handleScriptFileChange","selectedFileType","handleScriptFileSave","SaveScriptModalClose","handleScriptFileNameChange","onEditorStateChange","editorState","handleScriptFileCreate","scriptfiles","EditorState","createEmpty","handleOpenScriptFile","isShowOpenModal","handleFileTypeChange","handleModuleTypeChange","fileTypes","selectedModuleContents","fileTypeOptions","handleSaveModalShow","isShowSaveModal","OpenScriptModalClose","handleScriptFileOpen","selectedFile","file","blocksFromHTML","convertFromHTML","contents","blockContent","ContentState","createFromBlockArray","contentBlocks","entityMap","createWithContent","scriptfile","handleSave","showFile","currFile","files","reader","FileReader","onload","readAsText","textdata","toolbarClassName","wrapperClassName","editorClassName","editorStyle","backgroundColor","draftToHtml","convertToRaw","getCurrentContent","FileManager","themes","ThemeContext","theme","changeTheme","ThemeContextWrapper","setTheme","BackgroundColorWrapper","setColor","PrivateRoute","rest","render","from","SignUp","setUserName","confirmPassword","setConfirmPassword","handleUserNameChange","handleConfirmPasswordChange","Verify","setCode","userInfo","user_email","setItem","token","handleCodeChange","class","ForgotPassword","handleForgotPassword","PasswordResetConfirm","setPassword1","setPassword2","delay","ms","Promise","setTimeout","handlePasswordResetConfirm","handlePassword1Change","handlePassword2Change","StyledCell","styled","div","getOverUnderBoxClass","rawNum","parseFloat","getOverUnderTextClass","selector","row","sortable","cell","change","description","customStyles","cells","borderStyle","header","headRow","headCells","highlightOnHoverStyle","borderBottomColor","outline","sortFocus","createTheme","primary","Scanner","TradeScanner","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.dac8a52b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/anime3.4438e506.png\";","/*eslint-disable*/\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n// nodejs library to set properties for components\r\nimport { PropTypes } from \"prop-types\";\r\n\r\n// javascript plugin used to create scrollbars on windows\r\nimport PerfectScrollbar from \"perfect-scrollbar\";\r\n\r\n// reactstrap components\r\nimport { Nav, NavLink as ReactstrapNavLink } from \"reactstrap\";\r\nimport {\r\n  BackgroundColorContext,\r\n} from \"contexts/BackgroundColorContext\";\r\n\r\nimport { Dropdown } from 'components/Dropdown/Dropdown'\r\n\r\nvar ps;\r\n\r\nfunction Sidebar(props) {\r\n  const history = useHistory();\r\n  const sidebarRef = React.useRef(null);\r\n  const [user] = useState(JSON.parse(localStorage.getItem('user-info')))\r\n  const [userRole, setUserRole] = useState('');\r\n  // verifies if routeName is the one active (in browser input)\r\n  useEffect(() => {\r\n    setUserRole(user?.role)\r\n  }, [])\r\n  React.useEffect(() => {\r\n    if (navigator.platform.indexOf(\"Win\") > -1) {\r\n      ps = new PerfectScrollbar(sidebarRef.current, {\r\n        suppressScrollX: true,\r\n        suppressScrollY: false,\r\n      });\r\n    }\r\n    // Specify how to clean up after this effect:\r\n    return function cleanup() {\r\n      if (navigator.platform.indexOf(\"Win\") > -1) {\r\n        ps.destroy();\r\n      }\r\n    };\r\n  });\r\n  \r\n  const handleClick = (instance, pathname) => {\r\n    handleInstanceChange(instance)\r\n    const locationState = {\r\n      initInstance: instance\r\n    }\r\n    if (pathname) {\r\n      history.push({\r\n        pathname: pathname,\r\n        state: instance === 'stress_test'\r\n        || instance === 'optimization'\r\n        || instance === 'live_trading'\r\n        ?  locationState: null\r\n      })\r\n    }\r\n  }\r\n\r\n  const { isAdminPage, routes, selectedInstance, handleSidebarChange, handleInstanceChange, subInstance } = props;\r\n  \r\n  return (\r\n    <BackgroundColorContext.Consumer>\r\n      {({ color }) => (\r\n        <div className=\"sidebar hunter-sidebar\" data={color}>\r\n          <div className=\"sidebar-wrapper\" ref={sidebarRef}>\r\n            <div className=\"show-sidebar-button-area\">\r\n              <div className=\"show-sidebar-icon\">\r\n                <i className=\"tim-icons icon-align-left-2\" onClick={handleSidebarChange}/>\r\n              </div>\r\n            </div>\r\n            {isAdminPage ? (\r\n              <Nav>\r\n                {routes.map((prop, key) => {\r\n                  return (\r\n                    <li\r\n                      className={\r\n                        prop.instance === selectedInstance ? \"active-instance hunter-select-instance\" : \"hunter-select-instance\"\r\n                      }\r\n                      key={key}\r\n                      onClick={() => {\r\n                        handleInstanceChange(prop.instance)\r\n                        if (prop.pathname) {\r\n                          history.push({\r\n                            pathname: prop.pathname\r\n                          })\r\n                        }\r\n                      }}\r\n                    >\r\n                      <div\r\n                        className=\"nav-link\"\r\n                      >\r\n                        <i className={prop.icon} />\r\n                        <p>{prop.name}</p>\r\n                      </div>\r\n                    </li>\r\n                  );\r\n                })}\r\n              </Nav>  \r\n            ) : (\r\n              <Nav>\r\n                {routes.map((prop, key) => {\r\n                  if (!user.is_admin && !userRole.includes(prop.instance)) {\r\n                    return (<></>)\r\n                  }\r\n                  return (\r\n                    <li\r\n                      className={\r\n                        prop.instance === selectedInstance ? \"active-instance hunter-select-instance\" : \"hunter-select-instance\"\r\n                      }\r\n                      key={key}\r\n                    >\r\n                      {prop.items ? (\r\n                        <div\r\n                          className=\"nav-link\"\r\n                        >\r\n                          <Dropdown \r\n                            title={prop.name}\r\n                            icon={prop.icon}\r\n                            items={prop.items}\r\n                            instance={prop.instance}\r\n                            subInstance={subInstance}\r\n                            handleClick={handleClick}\r\n                            isActive={prop.instance === selectedInstance}\r\n                            key={`${prop.instance}`}\r\n                          />\r\n                        </div>\r\n                      ) : (\r\n                        <div\r\n                          className=\"nav-link\"\r\n                          onClick={() => {\r\n                            handleInstanceChange(prop.instance)\r\n                            const locationState = {\r\n                              initInstance: prop.instance\r\n                            }\r\n                            if (prop.pathname) {\r\n                              history.push({\r\n                                pathname: prop.pathname,\r\n                                state: prop.instance === 'stress_test'\r\n                                || prop.instance === 'optimization'\r\n                                || prop.instance === 'live_trading'\r\n                                ?  locationState: null\r\n                              })\r\n                            }\r\n                          }}\r\n                        >\r\n                          <i className={prop.icon} />\r\n                          <p className=\"hunter-ml-6\" >{prop.name}</p>\r\n                        </div>\r\n                      )\r\n                    }\r\n                    </li>\r\n                  );\r\n                })}\r\n              </Nav>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </BackgroundColorContext.Consumer>\r\n  );\r\n}\r\n\r\nSidebar.defaultProps = {\r\n  rtlActive: false,\r\n  routes: [{}],\r\n};\r\n\r\nSidebar.propTypes = {\r\n  // if true, then instead of the routes[i].name, routes[i].rtlName will be rendered\r\n  // insde the links of this component\r\n  rtlActive: PropTypes.bool,\r\n  routes: PropTypes.arrayOf(PropTypes.object),\r\n  logo: PropTypes.shape({\r\n    // innerLink is for links that will direct the user within the app\r\n    // it will be rendered as <Link to=\"...\">...</Link> tag\r\n    innerLink: PropTypes.string,\r\n    // outterLink is for links that will direct the user outside the app\r\n    // it will be rendered as simple <a href=\"...\">...</a> tag\r\n    outterLink: PropTypes.string,\r\n    // the text of the logo\r\n    text: PropTypes.node,\r\n    // the image src of the logo\r\n    imgSrc: PropTypes.string,\r\n  }),\r\n};\r\n\r\nexport default Sidebar;\r\n","import { createContext } from \"react\";\r\n\r\nexport const backgroundColors = {\r\n  primary: \"primary\",\r\n  blue: \"blue\",\r\n  green: \"green\",\r\n};\r\n\r\nexport const BackgroundColorContext = createContext({\r\n  color: backgroundColors.blue,\r\n  changeColor: (color) => {},\r\n});\r\n","import { useState } from 'react'\r\n\r\nexport const Dropdown = (props) => {\r\n  const { items, title, icon, instance, handleClick, isActive, subInstance } = props;\r\n  const [isOpen, setOpen] = useState(false);\r\n  const toggleDropdown = () => setOpen(!isOpen);\r\n  \r\n  return (\r\n    <div className='hunter-dropdown'>\r\n      <div className='hunter-dropdown-header' onClick={toggleDropdown}>\r\n        <i className={icon} />\r\n        {title}\r\n        <i className={`fa fa-chevron-right hunter-dropdown-icon icon ${isOpen && \"open\"}`}></i>\r\n      </div>\r\n      <div className={`hunter-dropdown-body ${isOpen && 'open'}`}>\r\n        {items.map(item => (\r\n          <div className={`hunter-dropdown-item ${isActive && item.instance === subInstance && 'hunter-selected'}`}\r\n            onClick={e => {\r\n              handleClick(instance, item.pathname)\r\n            }}\r\n            id={item.id}\r\n            key={`${instance}-${item.id}`}\r\n          >\r\n            {item.label}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}","export var routes = [\r\n  {\r\n    name: \"Forward test\",\r\n    icon: \"tim-icons icon-chart-pie-36\",\r\n    instance: \"forward_test\",\r\n    items: [\r\n      {\r\n        id: 0,\r\n        label: 'System File Manager',\r\n        instance: \"systemfilemanager\",\r\n        pathname: '/systemfilemanager'\r\n      },\r\n      {\r\n        id: 1,\r\n        label: 'View',\r\n        instance: \"view\",\r\n        pathname: '/'\r\n      }\r\n    ],\r\n  },\r\n  {\r\n    name: \"Stress test\",\r\n    icon: \"tim-icons icon-attach-87\",\r\n    instance: \"stress_test\",\r\n    items: [\r\n      {\r\n        id: 0,\r\n        label: 'View',\r\n        instance: \"view\",\r\n        pathname: '/'\r\n      }\r\n    ],\r\n  },\r\n  {\r\n    name: \"Optimization\",\r\n    icon: \"tim-icons icon-atom\",\r\n    instance: \"optimization\",\r\n    items: [\r\n      {\r\n        id: 0,\r\n        label: 'View',\r\n        instance: \"view\",\r\n        pathname: '/'\r\n      }\r\n    ],\r\n  },\r\n  {\r\n    name: \"Live trading\",\r\n    icon: \"tim-icons icon-badge\",\r\n    instance: \"live_trading\",\r\n    items: [\r\n      {\r\n        id: 0,\r\n        label: 'View',\r\n        instance: \"view\",\r\n        pathname: '/'\r\n      }\r\n    ],\r\n  },\r\n  {\r\n    name: \"Scanner\",\r\n    icon: \"tim-icons icon-camera-18\",\r\n    instance: \"scanner\",\r\n    pathname: '/scanner'\r\n  },\r\n  {\r\n    name: \"Data Tables\",\r\n    icon: \"tim-icons icon-chart-bar-32\",\r\n    instance: \"trade_data\",\r\n    items: [\r\n      {\r\n        id: 0,\r\n        label: 'Price Data Table',\r\n        instance: \"pricedatatable\",\r\n        pathname: '/pricedatatable'\r\n      },\r\n      {\r\n        id: 1,\r\n        label: 'Trade Data Table',\r\n        instance: \"tradedatatable\",\r\n        pathname: '/tradedatatable'\r\n      }\r\n    ],\r\n  },\r\n]\r\n\r\nexport var adminRoutes = [\r\n  {\r\n    name: \"User Manage\",\r\n    icon: \"tim-icons icon-chart-pie-36\",\r\n    instance: \"usermanage\",\r\n    pathname: '/admin/usermanage'\r\n  },\r\n  {\r\n    name: \"Link Manage\",\r\n    icon: \"tim-icons icon-attach-87\",\r\n    instance: \"linkmanage\",\r\n    pathname: '/admin/linkmanage'\r\n  },\r\n]\r\n\r\n","import { isNotDefined } from \"react-stockcharts/lib/utils\";\r\n\r\nexport function saveInteractiveNode(chartId) {\r\n\treturn node => {\r\n\t\tthis[`node_${chartId}`] = node;\r\n\t};\r\n}\r\n\r\nexport function handleSelection(type, chartId) {\r\n\treturn selectionArray => {\r\n\t\tconst key = `${type}_${chartId}`;\r\n\t\tconst interactive = this.state[key].map((each, idx) => {\r\n\t\t\treturn {\r\n\t\t\t\t...each,\r\n\t\t\t\tselected: selectionArray[idx]\r\n\t\t\t};\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\t[key]: interactive\r\n\t\t});\r\n\t};\r\n}\r\n\r\nexport function saveInteractiveNodes(type, chartId) {\r\n\treturn node => {\r\n\t\tif (isNotDefined(this.interactiveNodes)) {\r\n\t\t\tthis.interactiveNodes = {};\r\n\t\t}\r\n\t\t// const key = `${type}_${chartId}`;\r\n\t\t// // if (isDefined(node) || isDefined(this.interactiveNodes[key])) {\r\n\t\t// // \t// console.error(node, key)\r\n\t\t// // \t// console.log(this.interactiveNodes)\r\n\t\t// // \t// eslint-disable-next-line fp/no-mutation\r\n\t\t// // \tthis.interactiveNodes = {\r\n\t\t// // \t\t...this.interactiveNodes,\r\n\t\t// // \t\t[key]: { type, chartId, node },\r\n\t\t// // \t};\r\n\t\t// }\r\n\t};\r\n}\r\n\r\nexport function getInteractiveNodes() {\r\n\treturn this.interactiveNodes;\r\n}","\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { withStyles } from \"@material-ui/core\";\r\nimport { format } from \"d3-format\";\r\nimport dayjs from \"dayjs\";\r\nimport { timeFormat } from \"d3-time-format\";\r\n\r\nimport { ChartCanvas, Chart } from \"react-stockcharts\";\r\nimport {\r\n\tBarSeries,\r\n\tCandlestickSeries,\r\n\tStraightLine,\r\n} from \"react-stockcharts/lib/series\";\r\nimport { XAxis, YAxis } from \"react-stockcharts/lib/axes\";\r\nimport {\r\n\tCrossHairCursor,\r\n\tMouseCoordinateX,\r\n\tMouseCoordinateY,\r\n} from \"react-stockcharts/lib/coordinates\";\r\n\r\nimport { discontinuousTimeScaleProvider } from \"react-stockcharts/lib/scale\";\r\nimport {\r\n\tOHLCTooltip,\r\n\tToolTipText,\r\n\tSingleValueTooltip,\r\n} from \"react-stockcharts/lib/tooltip\";\r\nimport { atr, ema, macd, heikinAshi } from \"react-stockcharts/lib/indicator\";\r\nimport { fitWidth } from \"react-stockcharts/lib/helper\";\r\nimport { DrawingObjectSelector } from \"react-stockcharts/lib/interactive\";\r\nimport { last, toObject } from \"react-stockcharts/lib/utils\";\r\nimport {\r\n\tsaveInteractiveNodes,\r\n\tgetInteractiveNodes,\r\n} from \"../Interactiveutils\";\r\nimport {\r\n\tAnnotate,\r\n\tSvgPathAnnotation,\r\n\tbuyPath,\r\n\tsellPath,\r\n} from \"react-stockcharts/lib/annotation\";\r\n\r\nconst rsiAppearance = {\r\n\tstroke: {\r\n\t\tmacd: \"#FF0000\",\r\n\t\tsignal: \"#00F300\",\r\n\t},\r\n\tfille: {\r\n\t\tbearPower: \"#4682B4\"\r\n\t}\r\n};\r\n\r\n// common stock chart\r\nclass CandleStickChartWithEquidistantChannel extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.addTextLable = this.addTextLable.bind(this);\r\n\t\tthis.onKeyPress = this.onKeyPress.bind(this);\r\n\t\tthis.onDrawComplete = this.onDrawComplete.bind(this);\r\n\t\tthis.saveInteractiveNode = this.saveInteractiveNode.bind(this);\r\n\t\tthis.saveCanvasNode = this.saveCanvasNode.bind(this);\r\n\t\tthis.handleSelection = this.handleSelection.bind(this);\r\n\t\t\r\n\t\tthis.saveInteractiveNodes = saveInteractiveNodes.bind(this);\r\n\t\tthis.getInteractiveNodes = getInteractiveNodes.bind(this);\r\n\r\n\t\tthis.state = {\r\n\t\t\tenableInteractiveObject: true,\r\n\t\t\tx: -200,\r\n      \t\ty: -200,\r\n\t\t\tchannels_1: [],\r\n\t\t\tchannels_3: [],\r\n\t\t\tvalueText: \"\",\r\n      \t\tdateText: \"\",\r\n\t\t\tstatus: '',\r\n\t\t\tisFullChart: false,\r\n\t\t};\r\n\t}\r\n\tsaveInteractiveNode(node) {\r\n\t\tthis.node = node;\r\n\t}\r\n\tsaveCanvasNode(node) {\r\n\t\tthis.canvasNode = node;\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tdocument.addEventListener(\"keyup\", this.onKeyPress);\r\n\t\tthis.canvasNode.subscribe(\"CandleStickChartWithEquidistantChannel\", { listener: this.handleEvents });\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\tthis.canvasNode.unsubscribe(\"CandleStickChartWithEquidistantChannel\");\r\n\t\tdocument.removeEventListener(\"keyup\", this.onKeyPress);\r\n\t}\r\n\r\n\thandleEvents = (type) => {\r\n\t\tif (type === \"zoom\") {\r\n\t\t  this.handleZoom();\r\n\t\t}\r\n\t\tif (type === \"mousedown\") {\r\n\t\t  this.hideTextLabel();\r\n\t\t}\r\n\t};\r\n\r\n\thandleZoom() {\r\n\t\tif (this.state.x !== -200 && this.state.y !== -200) {\r\n\t\t  this.hideTextLabel();\r\n\t\t}\r\n\t}\r\n\r\n\thideTextLabel() {\r\n\t\tthis.setState({\r\n\t\t  x: -200,\r\n\t\t  y: -200\r\n\t\t});\r\n\t}\r\n\r\n\taddTextLable(e) {\r\n\t\tconst formatter = new Intl.DateTimeFormat(\"en\", { month: \"short\" });\r\n\t\tconst formatterW = new Intl.DateTimeFormat(\"en\", { weekday: \"long\" });\r\n\t\tconst month2 = formatter.format(e.datum.date);\r\n\t\tconst week2 = formatterW.format(e.datum.date);\r\n\t\tconst dateElem = `${week2}, ${month2} ${e.datum.date.getDate()}, ${e.datum.date.getFullYear()}`;\r\n\t\tthis.setState({\r\n\t\t\tx: 500,\r\n\t\t\ty: 30,\r\n\t\t\tvalueText: e.datum.high,\r\n\t\t\tdateText: dateElem,\r\n\t\t\tstatus: e.datum.action,\r\n\t\t});\r\n\t}\r\n\r\n\thandleSelection(interactives) {\r\n\t\tconst state = toObject(interactives, each => {\r\n\t\t\treturn [\r\n\t\t\t\t`channels_${each.chartId}`,\r\n\t\t\t\teach.objects,\r\n\t\t\t];\r\n\t\t});\r\n\t\tthis.setState(state);\r\n\t}\r\n\r\n\tisIncludeIndicators(indicator) {\r\n\t\tif (this.props.indicators) {\r\n\t\t\treturn this.props.indicators.filter((e) => e.value === indicator).length;\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tonDrawComplete(channels_1) {\r\n\t\t// this gets called on\r\n\t\t// 1. draw complete of drawing object\r\n\t\t// 2. drag complete of drawing object\r\n\t\tthis.setState({\r\n\t\t\tenableInteractiveObject: false,\r\n\t\t\tchannels_1\r\n\t\t});\r\n\t}\r\n\tonKeyPress(e) {\r\n\t\tconst keyCode = e.which;\r\n\t\tconsole.log(keyCode);\r\n\t\tswitch (keyCode) {\r\n\t\t\tcase 46: { // DEL\r\n\t\t\t\tconst channels_1 = this.state.channels_1\r\n\t\t\t\t\t.filter(each => !each.selected);\r\n\t\t\t\tconst channels_3 = this.state.channels_3\r\n\t\t\t\t\t.filter(each => !each.selected);\r\n\r\n\t\t\t\tthis.canvasNode.cancelDrag();\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tchannels_1,\r\n\t\t\t\t\tchannels_3,\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 27: { // ESC\r\n\t\t\t\tthis.node.terminate();\r\n\t\t\t\tthis.canvasNode.cancelDrag();\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tenableInteractiveObject: false\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 68:   // D - Draw drawing object\r\n\t\t\tcase 69: { // E - Enable drawing object\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tenableInteractiveObject: true\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tdefault: {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcalculateHeight (isFullChart) {\r\n\t\tif (this.props.isHomePage && !isFullChart) {\r\n\t\t\treturn 400;\r\n\t\t}\r\n\t\tlet index = 1\r\n\t\tif (this.props.indicators) {\r\n\t\t\tif (this.props.indicators.length > 1) {\r\n\t\t\t\tindex = this.props.indicators.length\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn 500 + index * 100\r\n\t}\r\n\r\n\tcalculateOffset (indicator, isFullChart) {\r\n\t\tif (!this.props.isHomePage || isFullChart) {\r\n\t\t\tif (indicator === 'RSI') {\r\n\t\t\t\tconst filter = this.props.indicators.filter(indicator => ['RSI2', 'RSI3', 'HEIK1', 'HEIK2'].includes(indicator.value))\r\n\t\t\t\treturn 300 + filter.length * 70;\r\n\t\t\t}\r\n\t\r\n\t\t\tif (indicator === 'RSI2') {\r\n\t\t\t\tconst filter = this.props.indicators.filter(indicator => ['RSI3', 'HEIK1', 'HEIK2'].includes(indicator.value))\r\n\t\t\t\treturn 300 + filter.length * 70;\r\n\t\t\t}\r\n\r\n\t\t\tif (indicator === 'RSI3') {\r\n\t\t\t\tconst filter = this.props.indicators.filter(indicator => ['HEIK1', 'HEIK2'].includes(indicator.value))\r\n\t\t\t\treturn 300 + filter.length * 70;\r\n\t\t\t}\r\n\t\r\n\t\t\tif (indicator === 'HEIK1') {\r\n\t\t\t\tconst filter = this.props.indicators.filter(indicator => ['HEIK2'].includes(indicator.value))\r\n\t\t\t\treturn 300 + filter.length * 70;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (indicator === 'HEIK2') {\r\n\t\t\t\tconst filter = this.props.indicators.filter(indicator => [''].includes(indicator.value))\r\n\t\t\t\treturn 300 + filter.length * 70;\r\n\t\t\t}\r\n\t\t\treturn 0\t\r\n\t\t}\r\n\t\tif (indicator === 'RSI') {\r\n\t\t\tif (this.isIncludeIndicators(indicator)) {\r\n\t\t\t\tif (this.isIncludeIndicators('VOLUME')) {\r\n\t\t\t\t\tif (this.props.indicators.length > 1) {\r\n\t\t\t\t\t\treturn (this.props.indicators.length-1) * 50 + 50\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn 80;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.props.indicators.length > 1) {\r\n\t\t\t\t\t\treturn (this.props.indicators.length) * 50 + 50\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn 80;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (indicator === 'HEIK1') {\r\n\t\t\tif (this.isIncludeIndicators(indicator)) {\r\n\t\t\t\tif (this.isIncludeIndicators('HEIK2')) {\r\n\t\t\t\t\treturn 130;\r\n\t\t\t\t}\r\n\t\t\t\treturn 80;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (indicator === 'HEIK2') {\r\n\t\t\treturn 60;\r\n\t\t}\r\n\r\n\t\treturn 10\r\n\t}\r\n\r\n\tcalculateMainHeightOffset(isFullChart) {\r\n\t\tif (this.props.isHomePage && !isFullChart) {\r\n\t\t\treturn 100 + (this.props.indicators.length - 1) * 50\r\n\t\t}\r\n\t\tif ( this.props.indicators ) {\r\n\t\t\tif (this.props.indicators.length > 1) {\r\n\t\t\t\treturn 300 + (this.props.indicators.length - 1) * 100\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn 300\r\n\t}\r\n\r\n\tcalculateTooltipOffset0(isFullChart) {\r\n\t\treturn 0;\r\n\t\t// if (!this.props.isHomePage || isFullChart) {\r\n\t\t// \treturn 0;\r\n\t\t// }\r\n\t\t// if ( this.props.indicators ) {\r\n\t\t// \tif (this.props.indicators.length > 1) {\r\n\t\t// \t\treturn 0\r\n\t\t// \t}\r\n\t\t// }\r\n\t\t// return 0\r\n\t}\r\n\t\r\n\tcalculateTooltipOffset1(isFullChart) {\r\n\t\treturn 0;\r\n\t\t// if (!this.props.isHomePage || isFullChart) {\r\n\t\t// \treturn 0;\r\n\t\t// }\r\n\t\t// if ( this.props.indicators ) {\r\n\t\t// \tif (this.props.indicators.length > 1) {\r\n\t\t// \t\treturn 0\r\n\t\t// \t}\r\n\t\t// }\r\n\t\t// return 0\r\n\t}\r\n\r\n\t// computeAnnotation(dateLine) {\r\n\t// \tconst deal = this.props.deals.filter(\r\n\t// \t\tdealLine => {\r\n\t// \t\t\treturn dateLine.date.getTime() === dealLine.ddate.getTime()\r\n\t// \t\t}\r\n\t// \t\t);\r\n\t\t\t\r\n\t// \tif (deal.length > 0) {\r\n\t// \t\treturn deal[0].action;\r\n\t// \t}\r\n\t// }\r\n\r\n\trender() {\r\n\r\n\t\tconst ema20 = ema()\r\n\t\t\t.id(0)\r\n\t\t\t.options({ windowSize: 13 })\r\n\t\t\t.merge((d, c) => { d.ema20 = c; })\r\n\t\t\t.accessor(d => d.ema20);\r\n\r\n\t\tconst ema50 = ema()\r\n\t\t\t.id(2)\r\n\t\t\t.options({ windowSize: 50 })\r\n\t\t\t.merge((d, c) => { d.ema50 = c; })\r\n\t\t\t.accessor(d => d.ema50);\r\n\r\n\t\t\r\n\t\t// const longFillProps = {\r\n\t\t// \tstroke: \"#22a46e\",\r\n\t\t// \tfill: \"#22a46e\",\r\n\t\t// \tclassName: this.props.classes.deal_green_shadowed\r\n\t\t//   };\r\n\t  \r\n\t\t//   const shortFillProps = {\r\n\t\t// \tstroke: \"#cc4060\",\r\n\t\t// \tfill: \"#cc4060\",\r\n\t\t// \tclassName: this.props.classes.deal_red_shadowed\r\n\t\t//   };\r\n\t  \r\n\t\t//   const fontProps = {\r\n\t\t// \tfontFamily: \"Material Icons\",\r\n\t\t// \tfontSize: 24,\r\n\t\t// \tfontWeight: \"normal\",\r\n\t\t// \topacity: 1,\r\n\t\t// \tonClick: this.addTextLable\r\n\t\t//   };\r\n\t  \r\n\t\t// const yOpenProps = {\r\n\t\t// y: ({ yScale, datum }) => yScale(datum.high * 1.04 - 100)\r\n\t\t// };\r\n\t  \r\n\t\t// const yCloseProps = {\r\n\t\t// y: ({ yScale, datum }) => yScale(datum.high * 1.04 - 100)\r\n\t\t// };\r\n\t  \r\n\t\t// const buyTooltipProps = {\r\n\t\t// \ttooltip: (o) => {\r\n\t\t// \t\treturn `Buy: ${o.date} \\n Price: ${o.price}`\r\n\t\t// \t}\r\n\t\t// }\r\n\t\t\r\n\t\t// const sellTooltipProps = {\r\n\t\t// \ttooltip: (o) => {\r\n\t\t// \t\treturn `Sell: ${o.date}\\nPrice: ${o.price}`\r\n\t\t// \t}\r\n\t\t// }\r\n\r\n\t\t// const buy = {\r\n\t\t// \t...longFillProps,\r\n\t\t// \t...fontProps,\r\n\t\t// \t...yOpenProps,\r\n\t\t// \ttext: \"\\u25B2\",\r\n\t\t// \t...buyTooltipProps,\r\n\t\t// \trotate: 180\r\n\t\t// };\r\n\t  \r\n\t\t//   const sell = {\r\n\t\t// \t...shortFillProps,\r\n\t\t// \t...fontProps,\r\n\t\t// \t...yCloseProps,\r\n\t\t// \t...sellTooltipProps,\r\n\t\t// \ttext: \"\\u25B2\",\r\n\t\t// \trotate: 180\r\n\t\t// };\r\n\r\n\t\tconst ha = heikinAshi();\r\n\t\t\r\n\t\tconst macdCalculator = macd()\r\n\t\t\t.options({\r\n\t\t\t\tfast: 12,\r\n\t\t\t\tslow: 26,\r\n\t\t\t\tsignal: 9,\r\n\t\t\t})\r\n\t\t\t.merge((d, c) => { d.macd = c; })\r\n\t\t\t.accessor(d => d.macd);\r\n\r\n\t\tconst atr14 = atr()\r\n\t\t.options({ windowSize: 14 })\r\n\t\t.merge((d, c) => {d.atr14 = c;})\r\n\t\t.accessor(d => d.atr14);\t\r\n\r\n\t\tconst { type, data: initialData, width, ratio, chartColumn } = this.props;\r\n\r\n\t\tconst isFullChart = (chartColumn === 1 || chartColumn === 2);\r\n\r\n\t\tinitialData.forEach(line => {\r\n\t\t\tline.date = dayjs(line.date).toDate();\r\n\t\t  });\r\n\r\n\t\t// const margin = { left: 80, right: 80, top: 30, bottom: 50 };  \r\n\r\n\t\t// const height = 400;\r\n\r\n\t\t// const [yAxisLabelX, yAxisLabelY] = [width - margin.left - 40, margin.top + (height - margin.top - margin.bottom) / 2];\r\n\t\t\r\n\t\tconst calculatedData = macdCalculator((ha(atr14(initialData))));\r\n\t\t\r\n\t\tconst xScaleProvider = discontinuousTimeScaleProvider\r\n\t\t\t.inputDateAccessor(d => d.date);\r\n\t\tconst {\r\n\t\t\tdata,\r\n\t\t\txScale,\r\n\t\t\txAccessor,\r\n\t\t\tdisplayXAccessor,\r\n\t\t} = xScaleProvider(calculatedData);\r\n\r\n\r\n\t\tconst defaultAnnotationProps = {\r\n\t\t\tonClick: console.log.bind(console),\r\n\t\t};\r\n\r\n\t\tconst longAnnotationProps = {\r\n\t\t\t...defaultAnnotationProps,\r\n\t\t\ty: ({ yScale, datum }) => { return yScale(datum.low) - this.calculateTooltipOffset0(isFullChart) },\r\n\t\t\tfill: \"#006517\",\r\n\t\t\tpath: buyPath,\r\n\t\t\ttooltip: (e) => {\r\n\t\t\t\tconst contents = e.trades.map((trade) => `${trade.longShort === 'LONG' ? 'Buy:' : 'Sell:'} Price: ${trade.price} Date: ${trade.trade_date.replace('T', ' ')}\\n`)\r\n\t\t\t\treturn contents\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst shortAnnotationProps = {\r\n\t\t\t...defaultAnnotationProps,\r\n\t\t\ty: ({ yScale, datum }) => { return yScale(datum.high) - this.calculateTooltipOffset1(isFullChart)},\r\n\t\t\tfill: \"#FF0000\",\r\n\t\t\tpath: sellPath,\r\n\t\t\ttooltip: (e) => {\r\n\t\t\t\tconst contents = e.trades.map((trade) => `${trade.longShort === 'LONG' ? 'Buy:' : 'Sell:'} Price: ${trade.price} Trade Date: ${trade.trade_date.replace('T', ' ')}\\n`)\r\n\t\t\t\treturn contents\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst start = xAccessor(last(data));\r\n\t\t// const periodIndex = this.props.period === 'heikfilter-2mins-trades' \r\n\t\t// \t? 15\r\n\t\t// \t: this.props.period === 'heikfilter-12mins-trades'\r\n\t\t// \t? 30\r\n\t\t// \t: this.props.period === 'heikfilter-1hour-trades'\r\n\t\t// \t? 90\r\n\t\t// \t: this.props.period === 'heikfilter-4hours-trades'\r\n\t\t// \t? 200\r\n\t\t// \t: this.props.period === 'heikfilter-12hours-trades'\r\n\t\t// \t? 200 : 1000\r\n\t\t\r\n\t\t// const end = xAccessor(data[Math.max(0, data.length - periodIndex)]);\r\n\t\tconst end = xAccessor(data[Math.max(0, data.length - 150)]);\r\n\t\tconst xExtents = [start, end];\r\n\t\t// const xExtents = [\r\n\t\t// \tthis.props.data[0].date,\r\n\t\t// \tthis.props.data[this.props.data.length-1].date\r\n\t\t// ];\r\n\t\t// console.log(\"xExtents\", last(data).date, data[Math.max(0, data.length - 150)].date)\r\n\t\t// console.log(\"xExtents1\", this.props.data[0].date, this.props.data[this.props.data.length - 1].date)\r\n\t\t\r\n\t\tconst xDisplayFormatProps = {\r\n\t\t\txDisplayFormat: timeFormat(\"%Y-%m-%d-%H-%M-%S\"),\r\n\t\t\tohlcFormat: () => \"\",\r\n\t\t\tvolumeFormat: () => \"\",\r\n\t\t\tpercentFormat: () => \"\",\r\n\t\t\tdisplayTexts: {\r\n\t\t\t\td: \"Date: \",\r\n\t\t\t},\r\n\r\n\t\t}\r\n\t\tconst xDisplayFormatProps1 = {\r\n\t\t\txDisplayFormat: timeFormat(\"\"),\r\n\t\t\tdisplayTexts: {\r\n\t\t\t\to: \" O: \",\r\n\t\t\t\th: \" H: \",\r\n\t\t\t\tl: \" L: \",\r\n\t\t\t\tc: \" C: \",\r\n\t\t\t\tv: \" Vol: \",\r\n\t\t\t\tna: \"n/a\"\r\n\t\t\t},\r\n\t\t}\r\n\t\tconst xDisplayFormatProps2 = {\r\n\t\t\txDisplayFormat: timeFormat(\"\"),\r\n\t\t\tohlcFormat: () => \"\",\r\n\t\t\tvolumeFormat: () => this.props.symbol,\r\n\t\t\tpercentFormat: () => \"\",\r\n\t\t\tdisplayTexts: {\r\n\t\t\t\tv: \" Symbol: \",\r\n\t\t\t},\r\n\t\t}\r\n\t\t\r\n\t\tconst SMATooltipProps = {\r\n\t\t\tvalueFill: '#ffffff'\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<ChartCanvas\r\n\t\t\t\theight={this.calculateHeight(isFullChart)}\r\n\t\t\t\twidth={width}\r\n\t\t\t\tratio={ratio}\r\n\t\t\t\tmargin={{ left: 70, right: 70, top: 20, bottom: 30 }}\r\n\t\t\t\ttype={type}\r\n\t\t\t\tseriesName=\"MSFT\"\r\n\t\t\t\tdata={data}\r\n\t\t\t\txExtents={xExtents}\r\n\t\t\t\txScale={xScale}\r\n\t\t\t\tdisplayXAccessor={displayXAccessor}\r\n\t\t\t\txAccessor={xAccessor}\r\n\t\t\t\tref={node => {\r\n\t\t\t\t\tthis.canvasNode = node;\r\n\t\t\t\t}}\r\n\t\t\t\tredraw={true}\r\n\t\t\t>\r\n\t\t\t\t<Chart id={1}\r\n\t\t\t\t\theight={\r\n\t\t\t\t\t\t(!this.props.isHomePage || isFullChart)\r\n\t\t\t\t\t\t? this.isIncludeIndicators('VOLUME') || this.props.indicators.length ? 250 : 400\r\n\t\t\t\t\t\t: 300 - this.props.indicators.length * 50\r\n\t\t\t\t\t}\r\n\t\t\t\t\tyExtents={[d => [d.high, d.low], ema20.accessor(), ema50.accessor()]}\r\n\t\t\t\t\tpadding={{ top: 10, bottom: 20 }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\"  stroke=\"white\" tickStroke=\"white\" />\r\n\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" ticks={5} stroke=\"white\" tickStroke=\"white\" />\r\n\r\n\t\t\t\t\t<MouseCoordinateX\r\n\t\t\t\t\t\tat=\"bottom\"\r\n\t\t\t\t\t\torient=\"bottom\"\r\n\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\r\n\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\tat=\"right\"\r\n\t\t\t\t\t\torient=\"right\"\r\n\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\r\n\r\n\t\t\t\t\t<CandlestickSeries \r\n\t\t\t\t\t\tstroke={d => d.close > d.open ? \"#6BA583\" : \"#DB0000\"}\r\n\t\t\t\t\t\twickStroke={d => d.close > d.open ? \"#6BA583\" : \"#DB0000\"}\r\n\t\t\t\t\t\tfill={d => d.close > d.open ? \"#6BA583\" : \"#DB0000\"}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<OHLCTooltip \r\n\t\t\t\t\t\torigin={[-50, -10]}\r\n\t\t\t\t\t\t{...xDisplayFormatProps}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<OHLCTooltip \r\n\t\t\t\t\t\torigin={[-50, 20]}\r\n\t\t\t\t\t\t{...xDisplayFormatProps1}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<OHLCTooltip \r\n\t\t\t\t\t\torigin={[100, -5]}\r\n\t\t\t\t\t\t{...xDisplayFormatProps2}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Annotate with={SvgPathAnnotation} when={ d => \r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\treturn this.props.selectedInstance !== 'live_trading'  \r\n\t\t\t\t\t\t\t&& d.trades\r\n\t\t\t\t\t\t\t&& d.trades[0].strategy === `${this.props.strategy.value}-${this.props.microStrategy}-trades`\r\n\t\t\t\t\t\t\t&& d.trades[0].longShort === \"LONG\" \r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tusingProps={longAnnotationProps} />\r\n\t\t\t\t\t<Annotate with={SvgPathAnnotation} when={d => \r\n\t\t\t\t\t\tthis.props.selectedInstance !== 'live_trading' \r\n\t\t\t\t\t\t&& d.trades\r\n\t\t\t\t\t\t&& d.trades[0].strategy === `${this.props.strategy.value}-${this.props.microStrategy}-trades`\r\n\t\t\t\t\t\t&& d.trades[0].longShort === \"SHORT\" }\r\n\t\t\t\t\t\tusingProps={shortAnnotationProps} />\r\n\r\n\t\t\t\t</Chart>\r\n\t\t\t\t{this.isIncludeIndicators('VOLUME') && (\r\n\t\t\t\t\t<Chart id={2} height={(!this.props.isHomePage || isFullChart) ? 100 : 50}\r\n\t\t\t\t\t\tyExtents={[d => d.volume]}\r\n\t\t\t\t\t\torigin={(w, h) => [0, h - this.calculateMainHeightOffset(isFullChart)]}\r\n\t\t\t\t\t\tpadding={{ top: 10, bottom: 10 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" stroke=\"white\" tickStroke=\"white\" />\r\n\t\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" ticks={5} tickFormat={format(\".2s\")} stroke=\"white\" tickStroke=\"white\" />\r\n\r\n\t\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\t\tat=\"left\"\r\n\t\t\t\t\t\t\torient=\"left\"\r\n\t\t\t\t\t\t\tdisplayFormat={format(\".4s\")} />\r\n\r\n\t\t\t\t\t\t<BarSeries yAccessor={d => d.volume} fill={d => d.close > d.open ? \"#6BA583\" : \"#FF0000\"} />\r\n\t\t\t\t\t</Chart>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.isIncludeIndicators('RSI') && (\r\n\t\t\t\t\t<Chart id={3} \r\n\t\t\t\t\t\t// height={(!this.props.isHomePage || isFullChart) ? 100 : 70}\r\n\t\t\t\t\t\theight={70}\r\n\t\t\t\t\t\tyExtents={[0, d => d.rsi.bearPower]}\r\n\t\t\t\t\t\torigin={(w, h) => [0, h - this.calculateOffset('RSI', isFullChart)]}\r\n\t\t\t\t\t\tpadding={{ top: 40, bottom: 10 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" stroke=\"white\" tickStroke=\"white\" />\r\n\t\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" stroke=\"white\" tickStroke=\"white\" ticks={4} tickFormat={format(\".2f\")}/>\r\n\t\t\t\t\t\t<MouseCoordinateX\r\n\t\t\t\t\t\t\tat=\"bottom\"\r\n\t\t\t\t\t\t\torient=\"bottom\"\r\n\t\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\r\n\t\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\t\tat=\"right\"\r\n\t\t\t\t\t\t\torient=\"right\"\r\n\t\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\r\n\t\t\t\t\t\t<BarSeries\r\n\t\t\t\t\t\t\tyAccessor={d => d.rsi.bearPower}\r\n\t\t\t\t\t\t\tbaseAt={(xScale, yScale, d) => yScale(0)}\r\n\t\t\t\t\t\t\tfill={d => d.side === 'buy' ? '#800080' : d.side === 'sell' ? '#FFA500' : d.side === 'hold' ? '#00FF00' : '#FF0000'} />\r\n\t\t\t\t\t\t<StraightLine yValue={0} />\r\n\r\n\t\t\t\t\t\t<SingleValueTooltip\r\n\t\t\t\t\t\t\tyAccessor={d => d.rsi.bearPower}\r\n\t\t\t\t\t\t\tyLabel=\"RSI - Bear power\"\r\n\t\t\t\t\t\t\tyDisplayFormat={format(\".2f\")}\r\n\t\t\t\t\t\t\tappearance={rsiAppearance}\r\n\t\t\t\t\t\t\t{...SMATooltipProps}\r\n\t\t\t\t\t\t\torigin={[-40, this.props.isHompage ? 40 : 25]}/>\r\n\t\t\t\t\t</Chart>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.isIncludeIndicators('RSI2') && (\r\n\t\t\t\t\t<Chart id={4} \r\n\t\t\t\t\t\t// height={(!this.props.isHomePage || isFullChart) ? 100 : 70}\r\n\t\t\t\t\t\theight={70}\r\n\t\t\t\t\t\tyExtents={[0, d => d.rsi2.bearPower]}\r\n\t\t\t\t\t\torigin={(w, h) => [0, h - this.calculateOffset('RSI2', isFullChart)]}\r\n\t\t\t\t\t\tpadding={{ top: 40, bottom: 10 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" stroke=\"white\" tickStroke=\"white\" />\r\n\t\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" stroke=\"white\" tickStroke=\"white\" ticks={4} tickFormat={format(\".2f\")}/>\r\n\t\t\t\t\t\t<MouseCoordinateX\r\n\t\t\t\t\t\t\tat=\"bottom\"\r\n\t\t\t\t\t\t\torient=\"bottom\"\r\n\t\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\r\n\t\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\t\tat=\"right\"\r\n\t\t\t\t\t\t\torient=\"right\"\r\n\t\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\r\n\t\t\t\t\t\t<BarSeries\r\n\t\t\t\t\t\t\tyAccessor={d => d.rsi2.bearPower}\r\n\t\t\t\t\t\t\tbaseAt={(xScale, yScale, d) => yScale(0)}\r\n\t\t\t\t\t\t\tfill={d => d.side === 'buy' ? '#800080' : d.side === 'sell' ? '#FFA500' : d.side === 'hold' ? '#00FF00' : '#FF0000'} />\r\n\t\t\t\t\t\t<StraightLine yValue={0} />\r\n\r\n\t\t\t\t\t\t<SingleValueTooltip\r\n\t\t\t\t\t\t\tyAccessor={d => d.rsi2.bearPower}\r\n\t\t\t\t\t\t\tyLabel=\"RSI2 - Bear power\"\r\n\t\t\t\t\t\t\tyDisplayFormat={format(\".2f\")}\r\n\t\t\t\t\t\t\tappearance={rsiAppearance}\r\n\t\t\t\t\t\t\t{...SMATooltipProps}\r\n\t\t\t\t\t\t\torigin={[-40, this.props.isHompage ? 40 : 25]}/>\r\n\t\t\t\t\t</Chart>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.isIncludeIndicators('RSI3') && (\r\n\t\t\t\t\t<Chart id={5} \r\n\t\t\t\t\t\t// height={(!this.props.isHomePage || isFullChart) ? 100 : 70}\r\n\t\t\t\t\t\theight={70}\r\n\t\t\t\t\t\tyExtents={[0, d => d.rsi3.bearPower]}\r\n\t\t\t\t\t\torigin={(w, h) => [0, h - this.calculateOffset('RSI3', isFullChart)]}\r\n\t\t\t\t\t\tpadding={{ top: 40, bottom: 10 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" stroke=\"white\" tickStroke=\"white\" />\r\n\t\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" stroke=\"white\" tickStroke=\"white\" ticks={4} tickFormat={format(\".2f\")}/>\r\n\t\t\t\t\t\t<MouseCoordinateX\r\n\t\t\t\t\t\t\tat=\"bottom\"\r\n\t\t\t\t\t\t\torient=\"bottom\"\r\n\t\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\r\n\t\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\t\tat=\"right\"\r\n\t\t\t\t\t\t\torient=\"right\"\r\n\t\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\r\n\t\t\t\t\t\t<BarSeries\r\n\t\t\t\t\t\t\tyAccessor={d => d.rsi3.bearPower}\r\n\t\t\t\t\t\t\tbaseAt={(xScale, yScale, d) => yScale(0)}\r\n\t\t\t\t\t\t\tfill={d => d.side === 'buy' ? '#800080' : d.side === 'sell' ? '#FFA500' : d.side === 'hold' ? '#00FF00' : '#FF0000'} />\r\n\t\t\t\t\t\t<StraightLine yValue={0} />\r\n\r\n\t\t\t\t\t\t<SingleValueTooltip\r\n\t\t\t\t\t\t\tyAccessor={d => d.rsi3.bearPower}\r\n\t\t\t\t\t\t\tyLabel=\"RSI3 - Bear power\"\r\n\t\t\t\t\t\t\tyDisplayFormat={format(\".2f\")}\r\n\t\t\t\t\t\t\tappearance={rsiAppearance}\r\n\t\t\t\t\t\t\t{...SMATooltipProps}\r\n\t\t\t\t\t\t\torigin={[-40, this.props.isHompage ? 40 : 25]}/>\r\n\t\t\t\t\t</Chart>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.isIncludeIndicators('HEIK1') && (\r\n\t\t\t\t\t<Chart id={6} \r\n\t\t\t\t\t\t// height={(!this.props.isHomePage || isFullChart) ? 100 : 70}\r\n\t\t\t\t\t\theight={70}\r\n\t\t\t\t\t\tyExtents={[0, d => d.heik.bearPower]}\r\n\t\t\t\t\t\torigin={(w, h) => [0, h - this.calculateOffset('HEIK1', isFullChart)]}\r\n\t\t\t\t\t\tpadding={{ top: 40, bottom: 10 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" stroke=\"white\" tickStroke=\"white\" />\r\n\t\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" stroke=\"white\" tickStroke=\"white\" ticks={4} tickFormat={format(\".2f\")}/>\r\n\t\t\t\t\t\t<MouseCoordinateX\r\n\t\t\t\t\t\t\tat=\"bottom\"\r\n\t\t\t\t\t\t\torient=\"bottom\"\r\n\t\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\r\n\t\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\t\tat=\"right\"\r\n\t\t\t\t\t\t\torient=\"right\"\r\n\t\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\r\n\t\t\t\t\t\t<BarSeries\r\n\t\t\t\t\t\t\tyAccessor={d => d.heik.bearPower}\r\n\t\t\t\t\t\t\tbaseAt={(xScale, yScale, d) => yScale(0)}\r\n\t\t\t\t\t\t\tfill={d => d.side === 'buy' ? '#800080' : d.side === 'sell' ? '#FFA500' : d.side === 'hold' ? '#00FF00' : '#FF0000'} />\r\n\t\t\t\t\t\t<StraightLine yValue={0} />\r\n\r\n\t\t\t\t\t\t<SingleValueTooltip\r\n\t\t\t\t\t\t\tyAccessor={d => d.heik.bearPower}\r\n\t\t\t\t\t\t\tyLabel=\"HEIK1 - Bear power\"\r\n\t\t\t\t\t\t\tyDisplayFormat={format(\".2f\")}\r\n\t\t\t\t\t\t\tappearance={rsiAppearance}\r\n\t\t\t\t\t\t\t{...SMATooltipProps}\r\n\t\t\t\t\t\t\torigin={[-40, this.props.isHompage ? 40 : 25]}/>\r\n\t\t\t\t\t</Chart>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.isIncludeIndicators('HEIK2') && (\r\n\t\t\t\t\t<Chart id={7} \r\n\t\t\t\t\t\t// height={(!this.props.isHomePage || isFullChart) ? 100 : 70}\r\n\t\t\t\t\t\theight={70}\r\n\t\t\t\t\t\tyExtents={[0, d => d.heik2.bearPower]}\r\n\t\t\t\t\t\torigin={(w, h) => [0, h - this.calculateOffset('HEIK2', isFullChart)]}\r\n\t\t\t\t\t\tpadding={{ top: 40, bottom: 10 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" stroke=\"white\" tickStroke=\"white\" />\r\n\t\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" stroke=\"white\" tickStroke=\"white\" ticks={4} tickFormat={format(\".2f\")}/>\r\n\t\t\t\t\t\t<MouseCoordinateX\r\n\t\t\t\t\t\t\tat=\"bottom\"\r\n\t\t\t\t\t\t\torient=\"bottom\"\r\n\t\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\r\n\t\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\t\tat=\"right\"\r\n\t\t\t\t\t\t\torient=\"right\"\r\n\t\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\r\n\t\t\t\t\t\t<BarSeries\r\n\t\t\t\t\t\t\tyAccessor={d => d.heik2.bearPower}\r\n\t\t\t\t\t\t\tbaseAt={(xScale, yScale, d) => yScale(0)}\r\n\t\t\t\t\t\t\tfill={d => d.side === 'buy' ? '#800080' : d.side === 'sell' ? '#FFA500' : d.side === 'hold' ? '#00FF00' : '#FF0000'} />\r\n\t\t\t\t\t\t<StraightLine yValue={0} />\r\n\r\n\t\t\t\t\t\t<SingleValueTooltip\r\n\t\t\t\t\t\t\tyAccessor={d => d.heik2.bearPower}\r\n\t\t\t\t\t\t\tyLabel=\"HEIK2 - Bear power\"\r\n\t\t\t\t\t\t\tyDisplayFormat={format(\".2f\")}\r\n\t\t\t\t\t\t\tappearance={rsiAppearance}\r\n\t\t\t\t\t\t\t{...SMATooltipProps}\r\n\t\t\t\t\t\t\torigin={[-40, this.props.isHompage ? 40 : 25]}/>\r\n\t\t\t\t\t</Chart>\r\n\t\t\t\t)}\r\n\t\t\t\t{/* {this.isIncludeIndicators('RSI3') && (\r\n\t\t\t\t\t<Chart id={5} \r\n\t\t\t\t\t\t// height={(!this.props.isHomePage || isFullChart) ? 100 : 70}\r\n\t\t\t\t\t\theight={70}\r\n\t\t\t\t\t\tyExtents={[0, d => d.rsi2.bearPower]}\r\n\t\t\t\t\t\torigin={(w, h) => [0, h - this.calculateOffset('RSI3', isFullChart)]}\r\n\t\t\t\t\t\tpadding={{ top: 40, bottom: 10 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" stroke=\"white\" tickStroke=\"white\" />\r\n\t\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" stroke=\"white\" tickStroke=\"white\" ticks={4} tickFormat={format(\".2f\")}/>\r\n\t\t\t\t\t\t<MouseCoordinateX\r\n\t\t\t\t\t\t\tat=\"bottom\"\r\n\t\t\t\t\t\t\torient=\"bottom\"\r\n\t\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\r\n\t\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\t\tat=\"right\"\r\n\t\t\t\t\t\t\torient=\"right\"\r\n\t\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\r\n\t\t\t\t\t\t<BarSeries\r\n\t\t\t\t\t\t\tyAccessor={d => d.rsi3.bearPower}\r\n\t\t\t\t\t\t\tbaseAt={(yScale) => yScale(0)}\r\n\t\t\t\t\t\t\tfill={d => d.side === 'buy' ? '#800080' : d.side === 'sell' ? '#FFA500' : d.side === 'hold' ? '#00FF00' : '#FF0000'} />\r\n\t\t\t\t\t\t<StraightLine yValue={0} />\r\n\r\n\t\t\t\t\t\t<SingleValueTooltip\r\n\t\t\t\t\t\t\tyAccessor={d => d.rsi3.bearPower}\r\n\t\t\t\t\t\t\tyLabel=\"RSI3 - Bear power\"\r\n\t\t\t\t\t\t\tyDisplayFormat={format(\".2f\")}\r\n\t\t\t\t\t\t\tappearance={rsiAppearance}\r\n\t\t\t\t\t\t\t{...SMATooltipProps}\r\n\t\t\t\t\t\t\torigin={[-40, this.props.isHompage ? 40 : 25]}/>\r\n\t\t\t\t\t</Chart>\r\n\t\t\t\t)} */}\r\n\t\t\t\t{/* {this.isIncludeIndicators('HEIK1') && (\r\n\t\t\t\t\t<Chart id={6} \r\n\t\t\t\t\t\t// height={(!this.props.isHomePage || isFullChart) ? 100 : 70}\r\n\t\t\t\t\t\theight={70}\r\n\t\t\t\t\t\tyExtents={[0, d => {console.log(d); return d.heik.bearPower}]}\r\n\t\t\t\t\t\torigin={(w, h) => [0, h - this.calculateOffset('HEIK1', isFullChart)]}\r\n\t\t\t\t\t\tpadding={{ top: 40, bottom: 10 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" stroke=\"white\" tickStroke=\"white\" />\r\n\t\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" stroke=\"white\" tickStroke=\"white\" ticks={4} tickFormat={format(\".2f\")}/>\r\n\t\t\t\t\t\t<MouseCoordinateX\r\n\t\t\t\t\t\t\tat=\"bottom\"\r\n\t\t\t\t\t\t\torient=\"bottom\"\r\n\t\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\r\n\t\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\t\tat=\"right\"\r\n\t\t\t\t\t\t\torient=\"right\"\r\n\t\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\r\n\t\t\t\t\t\t<BarSeries\r\n\t\t\t\t\t\t\tyAccessor={d => d.heik.bearPower}\r\n\t\t\t\t\t\t\tbaseAt={(yScale) => yScale(0)}\r\n\t\t\t\t\t\t\tfill={d => d.side === 'buy' ? '#800080' : d.side === 'sell' ? '#FFA500' : d.side === 'hold' ? '#00FF00' : '#FF0000'} />\r\n\t\t\t\t\t\t<StraightLine yValue={0} />\r\n\r\n\t\t\t\t\t\t<SingleValueTooltip\r\n\t\t\t\t\t\t\tyAccessor={d => d.heik.bearPower}\r\n\t\t\t\t\t\t\tyLabel=\"HEIK1 - Bear power\"\r\n\t\t\t\t\t\t\tyDisplayFormat={format(\".2f\")}\r\n\t\t\t\t\t\t\tappearance={rsiAppearance}\r\n\t\t\t\t\t\t\t{...SMATooltipProps}\r\n\t\t\t\t\t\t\torigin={[-40, this.props.isHompage ? 40 : 25]}/>\r\n\t\t\t\t\t</Chart>\r\n\t\t\t\t)} */}\r\n\t\t\t\t{/* {this.isIncludeIndicators('HEIK2') && (\r\n\t\t\t\t\t<Chart id={7} \r\n\t\t\t\t\t\t// height={(!this.props.isHomePage || isFullChart) ? 100 : 70}\r\n\t\t\t\t\t\theight={70}\r\n\t\t\t\t\t\tyExtents={[0, d => d.heik2.bearPower]}\r\n\t\t\t\t\t\torigin={(w, h) => [0, h - this.calculateOffset('HEIK2', isFullChart)]}\r\n\t\t\t\t\t\tpadding={{ top: 40, bottom: 10 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" stroke=\"white\" tickStroke=\"white\" />\r\n\t\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" stroke=\"white\" tickStroke=\"white\" ticks={4} tickFormat={format(\".2f\")}/>\r\n\t\t\t\t\t\t<MouseCoordinateX\r\n\t\t\t\t\t\t\tat=\"bottom\"\r\n\t\t\t\t\t\t\torient=\"bottom\"\r\n\t\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\r\n\t\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\t\tat=\"right\"\r\n\t\t\t\t\t\t\torient=\"right\"\r\n\t\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\r\n\t\t\t\t\t\t<BarSeries\r\n\t\t\t\t\t\t\t// yAccessor={d => { console.log(d); return elder.accessor()(d) && elder.accessor()(d).bearPower}}\r\n\t\t\t\t\t\t\tyAccessor={d => d.heik2.bearPower}\r\n\t\t\t\t\t\t\tbaseAt={(yScale) => yScale(0)}\r\n\t\t\t\t\t\t\tfill={d => d.side === 'buy' ? '#800080' : d.side === 'sell' ? '#FFA500' : d.side === 'hold' ? '#00FF00' : '#FF0000'} />\r\n\t\t\t\t\t\t<StraightLine yValue={0} />\r\n\r\n\t\t\t\t\t\t<SingleValueTooltip\r\n\t\t\t\t\t\t\tyAccessor={d => d.heik2.bearPower}\r\n\t\t\t\t\t\t\tyLabel=\"HEIK2 - Bear power\"\r\n\t\t\t\t\t\t\tyDisplayFormat={format(\".2f\")}\r\n\t\t\t\t\t\t\tappearance={rsiAppearance}\r\n\t\t\t\t\t\t\t{...SMATooltipProps}\r\n\t\t\t\t\t\t\torigin={[-40, this.props.isHompage ? 40 : 25]}/>\r\n\t\t\t\t\t</Chart>\r\n\t\t\t\t)} */}\r\n\t\t\t\t<CrossHairCursor />\r\n\t\t\t\t<DrawingObjectSelector\r\n\t\t\t\t\tenabled={!this.state.enableInteractiveObject}\r\n\t\t\t\t\tgetInteractiveNodes={this.getInteractiveNodes}\r\n\t\t\t\t\tdrawingObjectMap={{\r\n\t\t\t\t\t\tEquidistantChannel: \"channels\"\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonSelect={this.handleSelection}\r\n\t\t\t\t/>\r\n\t\t\t{(!this.props.isHomePage || isFullChart) && \r\n\t\t\t\t<g>\r\n\t\t\t\t\t<rect\r\n\t\t\t\t\t\tclassName={this.props.classes.CandleChart}\r\n\t\t\t\t\t\tx={this.state.x - 100}\r\n\t\t\t\t\t\ty={this.state.y - 50}\r\n\t\t\t\t\t\twidth=\"200\"\r\n\t\t\t\t\t\theight=\"50\"\r\n\t\t\t\t\t\tstroke=\"#3D4977\"\r\n\t\t\t\t\t\tfill=\"#3D4977\"\r\n\t\t\t\t\t\trx=\"2\"\r\n\t\t\t\t\t\try=\"2\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ToolTipText x={this.state.x} y={this.state.y}>\r\n\t\t\t\t\t\t<tspan\r\n\t\t\t\t\t\tclassName={this.props.classes.CandleChart_type_date}\r\n\t\t\t\t\t\tx={this.state.x}\r\n\t\t\t\t\t\ttextAnchor=\"middle\"\r\n\t\t\t\t\t\tdy=\"-1em\"\r\n\t\t\t\t\t\tfill={\"#fff\"}\r\n\t\t\t\t\t\tonClick={this.hideTextLabel.bind(this)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t{this.state.dateText}\r\n\t\t\t\t\t\t{this.state.status}\r\n\t\t\t\t\t\t</tspan>\r\n\t\t\t\t\t\t<tspan\r\n\t\t\t\t\t\tclassName={this.props.classes.CandleChart_type_value}\r\n\t\t\t\t\t\tx={this.state.x}\r\n\t\t\t\t\t\ttextAnchor=\"middle\"\r\n\t\t\t\t\t\tkey=\"value\"\r\n\t\t\t\t\t\tdy=\"-1em\"\r\n\t\t\t\t\t\tfill={\"#fff\"}\r\n\t\t\t\t\t\tonClick={this.hideTextLabel.bind(this)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\tPrice: {this.state.valueText}\r\n\t\t\t\t\t\t</tspan>\r\n\t\t\t\t\t</ToolTipText>\r\n\t\t\t\t\t</g>\r\n\t\t\t\t}\r\n\t\t\t</ChartCanvas>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nCandleStickChartWithEquidistantChannel.propTypes = {\r\n\tdata: PropTypes.array.isRequired,\r\n\twidth: PropTypes.number.isRequired,\r\n\tratio: PropTypes.number.isRequired,\r\n\ttype: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired\r\n};\r\n  \r\nCandleStickChartWithEquidistantChannel.defaultProps = {\r\n\ttype: \"svg\",\r\n};\r\n\r\nCandleStickChartWithEquidistantChannel = fitWidth(CandleStickChartWithEquidistantChannel);\r\n\r\n\r\n  \r\nexport default withStyles({\r\n\tCandleChart_type_date: {\r\n\t  fontSize: \"12px\",\r\n\t  fill: \"#AEC6EE\"\r\n\t},\r\n\tCandleChart: {\r\n\t  borderRadius: \"2px\"\r\n\t},\r\n\tCandleChart_type_value: {\r\n\t  fontSize: \"16px\",\r\n\t  fontWeight: 500\r\n\t},\r\n\tdeal_green_shadowed: {\r\n\t  textShadow: \"0 0 3px yellowgreen\"\r\n\t},\r\n\tdeal_red_shadowed: {\r\n\t  textShadow: \"0 0 3px fuchsia\"\r\n\t}\r\n})(fitWidth(CandleStickChartWithEquidistantChannel));\r\n  ","import React from 'react'\r\nimport Chart from 'react-apexcharts'\r\nimport moment from \"moment\";\r\n\r\nexport class MultiLineChart extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      series: this.getSeries(),\r\n      options: {\r\n        chart: {\r\n          height: 350,\r\n          type: 'line',\r\n          zoom: {\r\n            enabled: false\r\n          }\r\n        },\r\n        dataLabels: {\r\n          enabled: false\r\n        },\r\n        stroke: {\r\n          show: true,\r\n          curve: 'smooth',\r\n          lineCap: 'butt',\r\n          colors: undefined,\r\n          width: 2,\r\n          dashArray: 0,  \r\n        },\r\n        title: {\r\n          text: props.isPercent ? 'Percent Gain/Lost' : 'Efficiency',\r\n          align: 'left',\r\n          style: {\r\n            fontSize:  '18px',\r\n            fontWeight:  'bold',\r\n            color: '#FFFFFF'\r\n          },\r\n        },\r\n        grid: {\r\n          show: false\r\n        },\r\n        xaxis: {\r\n          categories: this.getCategories(),\r\n          labels: {\r\n            show: true,\r\n            style: {\r\n                colors: '#FFFFFF',\r\n            },\r\n            formatter: (val, opt) =>\r\n              moment.utc(val).format(\"MM/DD hh:mm\")\r\n          },\r\n          datetimeUTC: true,\r\n        },\r\n        yaxis: {\r\n          labels: {\r\n            show: true,\r\n            style: {\r\n                colors: '#FFFFFF',\r\n            },\r\n            formatter: (value) => value.toFixed(2),\r\n          },\r\n          axisBorder: {\r\n            show: true,\r\n          },\r\n          min: this.getMinValue(),\r\n          max: this.getMaxValue(),\r\n        },\r\n        legend: {\r\n          show: true,\r\n          labels: {\r\n            colors: ['#FFFFFF']\r\n          },\r\n          position: 'top'\r\n        }\r\n      },\r\n    };\r\n  }\r\n\r\n  getSeries() {\r\n    const series = []\r\n    this.props.chartData.map((data) => {\r\n      for (const property in data) {\r\n        series.push({\r\n          name: property,\r\n          data: data[property].map((o) => this.props.isPercent ? o.percent : o.efficiency)\r\n        })\r\n      }\r\n      return null\r\n    })\r\n    return series\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.chartData !== this.props.chartData) {\r\n      this.setState({\r\n        series: this.getSeries(),\r\n        options: {\r\n          xaxis: {\r\n            categories: this.getCategories(),\r\n            labels: {\r\n              show: true,\r\n              style: {\r\n                  colors: '#FFFFFF',\r\n              },\r\n              formatter: (val) =>\r\n                moment.utc(val).format(\"MM/DD hh:mm\")\r\n            },\r\n            datetimeUTC: true,\r\n          },\r\n          yaxis: {\r\n            labels: {\r\n              show: true,\r\n              style: {\r\n                  colors: '#FFFFFF',\r\n              },\r\n              formatter: (value) => value,\r\n              min: this.getMinValue(),\r\n              max: this.getMaxValue(),\r\n            },\r\n            axisBorder: {\r\n              show: true,\r\n            },\r\n          }\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  getMinValue() {\r\n    let series = [];\r\n    this.props.chartData.map((data) => {\r\n      for (const property in data) {\r\n        const rows = data[property].map(o => this.props.isPercent ? o.percent : o.efficiency)\r\n        series.push(Math.min(...rows))\r\n      }\r\n\r\n      return null\r\n    })\r\n    const min = Math.min(...series)\r\n    return min;\r\n  }\r\n  \r\n  getMaxValue() {\r\n    let series = [];\r\n    this.props.chartData.map((data) => {\r\n      for (const property in data) {\r\n        const rows = data[property].map(o => this.props.isPercent ? o.percent : o.efficiency)\r\n        series.push(Math.max(...rows))\r\n      }\r\n      return null\r\n    })\r\n    const max = Math.max(...series)\r\n    return max;\r\n  }\r\n\r\n  getCategories() {\r\n    const categories = this.props.chartData.map((data) => {\r\n      for (const property in data) {\r\n        return data[property].map((o) => o.date)\r\n      }\r\n      return []\r\n    })\r\n\r\n    return categories[0]\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <div id=\"chart\">\r\n        <Chart options={this.state.options} series={this.state.series} type=\"line\" height={350} />\r\n      </div>\r\n    )\r\n  }\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport ReactApexChart from \"react-apexcharts\";\r\n\r\nconst getWiningData = (chartData, isAverage) => {\r\n  return chartData.map((d) => isAverage ? d.avgWinning / 100 : d.winning )\r\n}\r\n\r\nconst getLosingData = (chartData, isAverage) => {\r\n  return chartData.map((d) => isAverage ? d.avgLosing / 100 : d.losing)\r\n}\r\n\r\nconst getSymbols = (chartData) => {\r\n  return chartData.map((d) => d.symbol)\r\n}\r\n\r\nconst optionCreator = (chartData, isAverage) => {\r\n  return {\r\n    chart: {\r\n      type: \"bar\",\r\n      width: \"100%\",\r\n      toolbar: {\r\n        show: false\r\n      },\r\n      events: {\r\n        click: function (event, chartContext, config) {\r\n          console.log(\"clicked\");\r\n        }\r\n      }\r\n    },\r\n    states: {\r\n      normal: {\r\n        filter: {\r\n          type: \"none\"\r\n        }\r\n      },\r\n      active: {\r\n        filter: {\r\n          type: \"darken\",\r\n          value: 0.35\r\n        }\r\n      }\r\n    },\r\n    colors: [\"#00ff00\", `rgba(255,0,0, ${1 ? 0.5 : 1})`],\r\n    title: {\r\n      text: isAverage ? \"Winning & Losing Avg Percent\" : \"Wining & Losing Trades\",\r\n      align: \"left\",\r\n      offsetX: 8,\r\n      offsetY: -2,\r\n      style: {\r\n        fontSize: \"16px\",\r\n        color: '#FFFFFF'\r\n      }\r\n    },\r\n    plotOptions: {\r\n      bar: {\r\n        endingShape: \"rounded\",\r\n        columnWidth: \"75%\",\r\n        barHeight: \"100%\",\r\n        dataLabels: {\r\n          position: \"top\"\r\n        }\r\n      }\r\n    },\r\n    dataLabels: {\r\n      enabled: true,\r\n      offsetY: -20,\r\n      style: {\r\n        fontSize: \"16px\",\r\n        colors: [\"#FFFFFF\", \"#FFFFFF\"]\r\n      },\r\n      formatter: (value, opts) => {\r\n        return isAverage ? value.toFixed(5) : value | 0 \r\n      },\r\n    },\r\n    stroke: {\r\n      show: true,\r\n      width: 1,\r\n      colors: [\"#fff\"]\r\n    },\r\n    xaxis: {\r\n      categories: getSymbols(chartData),\r\n      labels: {\r\n        show: true,\r\n        style: {\r\n            colors: '#FFFFFF',\r\n        },\r\n      },\r\n    },\r\n    grid: {\r\n      show: false\r\n    },\r\n    yaxis: {\r\n      labels: {\r\n        show: true,\r\n        style: {\r\n            colors: '#FFFFFF',\r\n        },\r\n        formatter: (value) => { return isAverage ? value.toFixed(5) : value | 0 },\r\n      },\r\n      axisBorder: {\r\n        show: true,\r\n      },\r\n    },\r\n    tooltip: {\r\n      enabled: true\r\n    },\r\n    legend: {\r\n      position: \"top\",\r\n      horizontalAlign: \"right\",\r\n      offsetY: -50,\r\n      fontSize: \"14px\",\r\n      labels: {\r\n        colors: \"#FFFFFF\"\r\n      },\r\n      markers: {\r\n        width: 16,\r\n        height: 16,\r\n        radius: 4\r\n      },\r\n      itemMargin: {\r\n        horizontal: 5,\r\n        vertical: 5\r\n      },\r\n      onItemHover: {\r\n        highlightDataSeries: true\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nexport default function GroupApexBar(props) {\r\n  const { data: chartData, isAverage } = props;\r\n  const [options, setOptions] = useState(optionCreator(chartData, isAverage));\r\n  const [series, setSeries] = useState([\r\n    {\r\n      data: getWiningData(chartData, isAverage)\r\n    },\r\n    {\r\n      data: getLosingData(chartData, isAverage)\r\n    }\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    setOptions(optionCreator(chartData, isAverage))\r\n    setSeries([\r\n      {\r\n        name: isAverage ? 'Winning Average' : 'Winning',\r\n        data: getWiningData(chartData, isAverage)\r\n      },\r\n      {\r\n        name: isAverage ? 'Losing Average' : 'Losing',\r\n        data: getLosingData(chartData, isAverage)\r\n      }\r\n    ])\r\n  }, [chartData, isAverage])\r\n\r\n  return (\r\n    <div id=\"chart\">\r\n      <ReactApexChart\r\n        options={options}\r\n        series={series}\r\n        type=\"bar\"\r\n        width={'100%'}\r\n        height={400}\r\n      />\r\n    </div>\r\n  );\r\n}","import { MultiLineChart } from './MultiLineChart'\r\nimport GroupApexBar from './GroupBarChart'\r\n\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { TypeChooser } from \"react-stockcharts/lib/helper\";\r\nimport { fitWidth } from \"react-stockcharts/lib/helper\";\r\nclass BubbleChart extends React.Component {\r\n\trender() {\r\n\r\n\t\t\r\n\t\tconst { data: mainData } = this.props;\r\n\r\n\t\tif (mainData == null) {\r\n\t\t\treturn <div>Loading...</div>\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<MultiLineChart chartData={mainData.percentEfficiency} isPercent={true}/>\r\n\t\t\t\t<TypeChooser>\r\n\t\t\t\t\t{type => <GroupApexBar type={type} data={mainData.winningLosing} isAverage={false}/>}\r\n\t\t\t\t</TypeChooser>\r\n\t\t\t\t<TypeChooser>\r\n\t\t\t\t\t{type => <GroupApexBar type={type} data={mainData.winningLosingAvg} isAverage={true}/>}\r\n\t\t\t\t</TypeChooser>\r\n\t\t\t\t<MultiLineChart chartData={mainData.percentEfficiency} isPercent={false}/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nBubbleChart.propTypes = {\r\n\tdata: PropTypes.array.isRequired,\r\n\twidth: PropTypes.number.isRequired,\r\n\tratio: PropTypes.number.isRequired,\r\n\ttype: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired,\r\n};\r\n\r\nBubbleChart.defaultProps = {\r\n\ttype: \"svg\",\r\n};\r\nBubbleChart = fitWidth(BubbleChart);\r\n\r\nexport default BubbleChart;","import React, { useState, useEffect } from \"react\";\r\nimport Chart from '../trades-chart/TradesChart';\r\nimport PerformanceChart from '../performance-chart/PerformanceChart'\r\nimport { TypeChooser } from \"react-stockcharts/lib/helper\";\r\n\r\nconst StockChart = (props) => {\r\n    const { \r\n        chartColumn,\r\n        viewType,\r\n        symbol,\r\n        strategy,\r\n        isHomePage,\r\n        indicators,\r\n        multiSymbol,\r\n        microStrategy,\r\n        selectedInstance,\r\n        selectedTradeDB,\r\n        chartPeriod,\r\n        startDate,\r\n        endDate\r\n    } = props;\r\n    const [dbname, setDbname] = useState('')\r\n\tconst [chartData, setChartData] = useState(null)\r\n\t\r\n    useEffect(() => {\r\n        if (selectedInstance === 'live_trading') {\r\n            setChartData(null)    \r\n        }\r\n    }, [selectedInstance])\r\n\r\n    useEffect(() => {\r\n        const initDbNamebySelectedTradeDB = () => {\r\n            if (selectedTradeDB === 'heikfilter-2mins-trades') {\r\n                setDbname('backtest_2_minute');\r\n            } else if(selectedTradeDB === 'heikfilter-12mins-trades') {\r\n                setDbname('backtest_12_minute');\r\n            } else if(selectedTradeDB === 'heikfilter-1hour-trades') {\r\n                setDbname('backtest_1_hour');\r\n            } else if(selectedTradeDB === 'heikfilter-4hours-trades') {\r\n                setDbname('backtest_4_hour');\r\n            } else if(selectedTradeDB === 'heikfilter-12hours-trades') {\r\n                setDbname('backtest_12_hour');\r\n            } else if(selectedTradeDB === 'heikfilter-1day-trades') {\r\n                setDbname('backtest_1_day');\r\n            }\r\n        }\r\n        initDbNamebySelectedTradeDB();\r\n    }, [selectedTradeDB])\r\n\r\n    useEffect(() => {\r\n        setChartData(null)      \r\n    }, [viewType])\r\n\r\n    useEffect(() => {\r\n        const get_data = (symbol) => {\r\n            if (viewType !== 'performance') {\r\n                if (!dbname) {\r\n                    return;\r\n                }\r\n                const requestOptions = {\r\n                    method: 'POST',\r\n                    headers: {'Content-Type': 'application/json'},\r\n                    body: JSON.stringify({\r\n                        'db_name': dbname,\r\n                        'symbol': symbol,\r\n                        'macro': strategy.value,\r\n                        'micro': (selectedInstance !== 'live_trading') ? microStrategy : '',\r\n                    })\r\n                };\r\n                fetch(process.env.REACT_APP_BACKEND_URL+'/api/get_data', requestOptions)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    data['chart_data']['columns'] = [\"date\", \"open\", \"high\", \"low\", \"close\", \"volume\", \"split\", \"dividend\", \"absoluteChange\", \"percentChange\"]\r\n                    data['chart_data'].map((x) => {\r\n                        let converDate = new Date(x.date)\r\n                        x.date = converDate\r\n                        return null\r\n                    })\r\n                    setChartData(data['chart_data'])\r\n                })\r\n            } else {\r\n                const symbols = multiSymbol.map((symbol) => symbol.value);\r\n                if (!symbols.length | !microStrategy) {\r\n                    return;\r\n                }\r\n                const requestOptions = {\r\n                    method: 'POST',\r\n                    headers: {'Content-Type': 'application/json'},\r\n                    body: JSON.stringify({\r\n                        'symbols': symbols,\r\n                        \"macro\": strategy.value,\r\n                        \"micro\": microStrategy,\r\n                        'start_date': startDate,\r\n                        'end_date': endDate,\r\n                    })\r\n                };\r\n                fetch(process.env.REACT_APP_BACKEND_URL+'/api/get_backtesting_result', requestOptions)\r\n                    .then(response => response.json())\r\n                    .then(data => {\r\n                        setChartData(data['chart_data'])\r\n                    })\r\n            }\r\n        }\r\n        \r\n        if (symbol || multiSymbol.length) {\r\n\t\t\tget_data(symbol)\r\n\t\t}\r\n    }, [selectedInstance, dbname, viewType, symbol, multiSymbol, microStrategy, startDate, endDate, strategy.value])\r\n\r\n    return (\r\n\t\t<>\r\n\t\t\t{\r\n\t\t\t\tchartData == null ? <div>Loading...</div> :\r\n                <>\r\n                    <div className=\"select-wrape\">\r\n                        <div>\r\n                            <strong>{chartPeriod} [NASDAQ]</strong>\r\n                        </div>\r\n                    </div>\r\n                    <TypeChooser >\r\n                        {type => {\r\n                            return (\r\n                                (isHomePage | (viewType !== 'performance'))\r\n                                ? <Chart\r\n                                    type={type}\r\n                                    data={chartData}\r\n                                    symbol={symbol}\r\n                                    strategy={strategy}\r\n                                    isHomePage={isHomePage}\r\n                                    indicators={indicators}\r\n                                    chartColumn={chartColumn}\r\n                                    microStrategy={microStrategy}\r\n                                    selectedInstance={selectedInstance}\r\n                                />\r\n                                : <PerformanceChart type={type} data={chartData} multiSymbol={multiSymbol.map((symbol) => symbol.value)}/>\r\n                            )\r\n                        }}\r\n                    </TypeChooser>\r\n                </>\r\n\r\n\t\t\t}\r\n\t\t</>\r\n\r\n\t)\r\n}\r\n\r\nexport default StockChart","import React, { createContext, useContext } from \"react\";\r\nconst authContext = createContext();\r\n\r\nconst authUser = {\r\n  isAuthenticated: localStorage.getItem(\"auth-token\") ? true : false,\r\n  async signin(email, password) {\r\n    let formData = {\r\n      username: email,\r\n      password: password\r\n    }\r\n    return await fetch(process.env.REACT_APP_BACKEND_URL + '/signin/', {\r\n      method: \"POST\",\r\n      body: JSON.stringify(formData)\r\n    })\r\n      .then(response => {\r\n          return response.json();\r\n      })\r\n      .then(res => {\r\n        if (!res.user_id) {\r\n          throw new Error('SignIn failed');\r\n        }\r\n        return {\r\n          success: true,\r\n          user_id: res.user_id\r\n        }\r\n      })\r\n      .catch(err => {\r\n        return {\r\n          success: false,\r\n          error: \"User Name or Password is wrong\"\r\n        }\r\n      })\r\n  },\r\n\r\n  async signup(username, email, password1, password2, pathname) {\r\n    let formData = {\r\n      username: username,\r\n      email: email,\r\n      first_name: \"\",\r\n      last_name: \"\",\r\n      password1: password1,\r\n      password2: password2,\r\n      signup_path: process.env.REACT_APP_BACKEND_URL + pathname\r\n    }\r\n    \r\n    return await fetch(process.env.REACT_APP_BACKEND_URL + '/signup/', {\r\n      method: \"POST\",\r\n      body: JSON.stringify(formData)\r\n    })\r\n      .then(response => {\r\n          return response.json();\r\n      })\r\n      .then(res => {\r\n        if (res.success) {\r\n          return {\r\n            success: true\r\n          }\r\n        } else {\r\n          throw new Error(res.error);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        return {\r\n          success: false,\r\n          error: 'Sign up failed'\r\n        }\r\n      })\r\n  },\r\n  async verify(userId, code) {\r\n    let formData = {\r\n      user_id: userId,\r\n      num: code\r\n    }\r\n    const res = await fetch(process.env.REACT_APP_BACKEND_URL + '/verify/', {\r\n      method: \"POST\",\r\n      body: JSON.stringify(formData)\r\n    })\r\n      .then(response => {\r\n          return response.json();\r\n      })\r\n      .then(res => {\r\n        if (res.error) {\r\n          throw new Error(res.error);\r\n        }\r\n        return res\r\n      })\r\n      .catch(err => {\r\n        return { \r\n          verify: false,\r\n          error: 'verify failed'\r\n        }\r\n      })\r\n    authUser.isAuthenticated = true;\r\n    return res\r\n  },\r\n  signout() {\r\n    authUser.isAuthenticated = false;\r\n    localStorage.removeItem(\"auth-token\")\r\n    localStorage.removeItem(\"user-info\")\r\n  },\r\n};\r\n\r\nexport function useAuth() {\r\n  return useContext(authContext);\r\n}  \r\n\r\nexport default function ProvideAuth({ children }) {\r\n  const auth = useProvideAuth();\r\n  return (\r\n    <authContext.Provider value={auth}>\r\n      {children}\r\n    </authContext.Provider>\r\n  );\r\n}\r\n  \r\nfunction useProvideAuth() {\r\n  const verify = async ( userId, num ) => {\r\n    authUser.signin(userId, num)\r\n  };\r\n\r\n  const signin = async ( email, password ) => {\r\n    authUser.signin(email, password)\r\n  };\r\n\r\n  const signout = () => {\r\n    authUser.signout()\r\n  };\r\n  \r\n  return {\r\n    authUser,\r\n    verify,\r\n    signin,\r\n    signout,\r\n  };\r\n}","import React from \"react\";\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\nimport {\r\n  Button\r\n} from \"reactstrap\";\r\n// javascript plugin used to create scrollbars on windows\r\nimport PerfectScrollbar from \"perfect-scrollbar\";\r\n\r\nimport Sidebar from \"components/Sidebar/Sidebar.js\";\r\n\r\nimport { routes } from \"routes.js\";\r\n\r\nimport { BackgroundColorContext } from \"contexts/BackgroundColorContext\";\r\nimport HeiknStockChart from \"components/HeiknStockChart\"\r\nimport HeiknStockChartItem from \"components/ItemChart\"\r\n\r\nvar ps;\r\n\r\nfunction HomePage() {\r\n  const history = useHistory();\r\n  const initInstance = history.location.state ? history.location.state.initInstance : null;\r\n  const [isHomePage, setIsHomePage] = React.useState(true);\r\n  const [isShowSidebar, setShowSidebar] = React.useState(false);\r\n  const [selectedInstance, setSelectedInstance] = React.useState(\r\n    initInstance ? initInstance : 'forward_test'\r\n  );\r\n  const location = useLocation();\r\n  const mainPanelRef = React.useRef(null);\r\n  \r\n  React.useEffect(() => {\r\n    if (navigator.platform.indexOf(\"Win\") > -1) {\r\n      document.documentElement.className += \" perfect-scrollbar-on\";\r\n      document.documentElement.classList.remove(\"perfect-scrollbar-off\");\r\n      ps = new PerfectScrollbar(mainPanelRef.current, {\r\n        suppressScrollX: true,\r\n      });\r\n      let tables = document.querySelectorAll(\".table-responsive\");\r\n      for (let i = 0; i < tables.length; i++) {\r\n        ps = new PerfectScrollbar(tables[i]);\r\n      }\r\n    }\r\n\r\n    // Specify how to clean up after this effect:\r\n    return function cleanup() {\r\n      if (navigator.platform.indexOf(\"Win\") > -1) {\r\n        ps.destroy();\r\n        document.documentElement.classList.add(\"perfect-scrollbar-off\");\r\n        document.documentElement.classList.remove(\"perfect-scrollbar-on\");\r\n      }\r\n    };\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    if (navigator.platform.indexOf(\"Win\") > -1) {\r\n      let tables = document.querySelectorAll(\".table-responsive\");\r\n      for (let i = 0; i < tables.length; i++) {\r\n        ps = new PerfectScrollbar(tables[i]);\r\n      }\r\n    }\r\n    document.documentElement.scrollTop = 0;\r\n    document.scrollingElement.scrollTop = 0;\r\n    if (mainPanelRef.current) {\r\n      mainPanelRef.current.scrollTop = 0;\r\n    }\r\n  }, [location]);\r\n  \r\n  const handleSidebarChange = () => {\r\n    setShowSidebar(!isShowSidebar);\r\n  };\r\n\r\n  const handleInstanceChange = (instance) => {\r\n    setSelectedInstance(instance)\r\n  }\r\n\r\n  const handleChartRedirect = (flag) => {\r\n    setIsHomePage(flag);\r\n  }\r\n  \r\n  return (\r\n    <BackgroundColorContext.Consumer>\r\n      {({ color }) => (\r\n        <React.Fragment>\r\n          <div className=\"wrapper hunter-wrapper\">\r\n          {!isShowSidebar && (\r\n            <Button\r\n              className ={\"show-sidebar-toggle-area show-sidebar-icon\"}\r\n              onClick={handleSidebarChange}\r\n            >\r\n              <i className=\"tim-icons icon-align-left-2\"/>\r\n            </Button>\r\n          )}\r\n          {isShowSidebar && (\r\n              <Sidebar\r\n                subInstance={'view'}\r\n                isAdminPage={false}\r\n                routes={routes}\r\n                selectedInstance={selectedInstance}\r\n                handleSidebarChange={handleSidebarChange}\r\n                handleInstanceChange={handleInstanceChange}\r\n              />\r\n            )}\r\n            {isHomePage\r\n             ? (\r\n              <div className={`main-panel ${!isShowSidebar ? 'full-width' : ''}`} ref={mainPanelRef} data={color}>\r\n                <HeiknStockChart selectedInstance={selectedInstance} handleChartRedirect={handleChartRedirect}/>\r\n              </div>\r\n              )\r\n              : (\r\n                <div className={`main-panel ${!isShowSidebar ? 'full-width' : ''}`} ref={mainPanelRef} data={color}>\r\n                 <HeiknStockChartItem selectedInstance={selectedInstance} handleChartRedirect={handleChartRedirect}/>\r\n                </div>\r\n              )\r\n            }\r\n          </div>\r\n        </React.Fragment>\r\n      )}\r\n    </BackgroundColorContext.Consumer>\r\n  );\r\n}\r\n\r\nexport default HomePage;","import React, { useCallback, useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Select from 'react-select'\r\nimport \"react-datetime/css/react-datetime.css\";\r\nimport StockChart from \"./stock-chart/StockChart\"\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  Collapse,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  UncontrolledDropdown,\r\n  NavLink,\r\n  Nav,\r\n} from \"reactstrap\";\r\nimport { useAuth } from 'contexts/authContext';\r\nimport disableScroll from 'disable-scroll';\r\n\r\nconst HeiknStockChart = (props) => {\r\n\r\n  const auth = useAuth();\r\n  const { selectedInstance, handleChartRedirect } = props\r\n  const history = useHistory();\r\n  const [symbol, setSymbol] = useState({ value: 'MSFT', label: 'MSFT' });\r\n  const [indicators, setIndicators] = useState([]);\r\n  const [isShowMicro, setIsShowMicro] = useState(true);\r\n  const [symbolList, setSymbolList] = useState([])\r\n  const [isGetSymbolList] = useState(false)\r\n  const [collapseOpen,] = React.useState(false)\r\n  const [chartColumn, setChartColumn] = useState({ value: 6, label: '6' })\r\n  const [selectedViewType, setSelectedViewType] = useState({ value: 'charting', label: 'Charting' });\r\n  const [microStrategy, setMicroStrategy] = useState({ value: '2m', label: '2m' });\r\n  const [strategy, setStrategy] = useState({ value: 'heikfilter', label: 'heikfilter' });\r\n  const [strategyList, setStrategyList] = useState([]);\r\n  const [user] = useState(JSON.parse(localStorage.getItem('user-info')));\r\n  \r\n  const [optionsViewTypes, setOptionsViewTypes] = useState([\r\n    { value: 'charting', label: 'Charting' },\r\n    { value: 'performance', label: 'Performance' },\r\n  ])\r\n\r\n  const [optionsMicroStrategy, setOptionsMicroStrategy] = useState([])\r\n  \r\n  const [optionsStratgy, setOptionsStrategy] = useState([])\r\n\r\n  const [optionsIndicator, setOptionsIndicator] = useState([\r\n    {\r\n      value: 'VOLUME', label: 'VOLUME',\r\n    },\r\n    {\r\n      value: 'RSI', label: 'RSI',\r\n    },\r\n    {\r\n      value: 'HEIK1', label: 'HEIK1',\r\n    },\r\n    {\r\n      value: 'HEIK2', label: 'HEIK2',\r\n    }\r\n  ]);\r\n\r\n  const optionsColumn = [\r\n    {\r\n      value: 1, label: '1',\r\n    },\r\n    {\r\n      value: 2, label: '2',\r\n    },\r\n    {\r\n      value: 4, label: '4',\r\n    },\r\n    {\r\n      value: 6, label: '6',\r\n    }\r\n  ]\r\n\r\n  const getStrategyList = useCallback(\r\n    () => {\r\n      fetch(process.env.REACT_APP_BACKEND_URL + \"/api/get_strategy_list\")\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          setStrategyList(data.result);\r\n          const strategyOptions = data.result.map((o => {\r\n            return {\r\n              value: o.macro,\r\n              label: o.macro,\r\n            }\r\n          }))\r\n          // setStrategy({\r\n          //   value: 'heikfilter',\r\n          //   label: 'heikfilter'\r\n          // });\r\n          setOptionsStrategy(strategyOptions);\r\n          if (data.result.length) {\r\n            data.result.forEach((item) => {\r\n              if (item.macro === 'heikfilter') {\r\n                const microStrategyOptions = item.micro.map(o => {\r\n                  return {\r\n                    value: o,\r\n                    label: o,\r\n                  }\r\n                })\r\n                setOptionsMicroStrategy( microStrategyOptions )\r\n                // setMicroStrategy(microStrategyOptions[0])\r\n\r\n                const symbolOptions = item.symbols.map(o => {\r\n                  return {\r\n                    value: o,\r\n                    label: o,\r\n                  }\r\n                })\r\n                setSymbolList(symbolOptions)\r\n                // setSymbol(symbolOptions[0])\r\n              }\r\n            })\r\n          }\r\n        })   \r\n    },\r\n    [],\r\n  )\r\n\r\n  const get_tables = useCallback(\r\n    (strategy) => {\r\n      const requestOptions = {\r\n        method: 'POST',\r\n        headers: {'Content-Type': 'application/json'},\r\n        body: JSON.stringify({\r\n          'strategy': strategy\r\n        })\r\n      };\r\n      \r\n      fetch(process.env.REACT_APP_BACKEND_URL + \"/api/tables\", requestOptions)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          let temp_data = []\r\n          data.tables.map((x) => {\r\n            temp_data.push({\r\n              value: x,\r\n              label: x\r\n            });\r\n            return null\r\n          })\r\n          setSymbolList(temp_data)\r\n          setSymbol(temp_data[0])\r\n        })\r\n    },\r\n    [],\r\n  )\r\n\r\n  useEffect(() => {\r\n    disableScroll.on();\r\n    if (user.is_admin || user?.role.length) {\r\n      if(!isGetSymbolList) {\r\n        getStrategyList();\r\n      }  \r\n    }\r\n    return () => {\r\n      disableScroll.off();\r\n    }\r\n  }, [getStrategyList, isGetSymbolList, user])\r\n  \r\n  useEffect(() => {\r\n    const handleInstanceChange = (value) => {\r\n      if (value === 'live_trading') {\r\n        setIsShowMicro(false);\r\n        setStrategy({ value: 'no_strategy', label: 'No Strategy' });\r\n        setOptionsStrategy([\r\n          { value: 'no_strategy', label: 'No Srategy' },\r\n        ])\r\n        return\r\n      }\r\n      getStrategyList()\r\n      setIsShowMicro(true);\r\n    }\r\n    if (!user.is_admin && !user?.role.length) {\r\n      return;\r\n    }\r\n    handleInstanceChange(selectedInstance)\r\n    if(selectedInstance === 'live_trading') {\r\n      get_tables('no_strategy');    \r\n    }\r\n    if (selectedInstance === 'optimization') {\r\n      setOptionsViewTypes([\r\n        { value: 'optimization ', label: 'Optimization' },\r\n      ])\r\n    } else {\r\n      setOptionsViewTypes([\r\n        { value: 'charting', label: 'Charting' },\r\n        { value: 'performance', label: 'Performance' },\r\n      ])\r\n    }\r\n  }, [selectedInstance, getStrategyList, get_tables, user.is_admin, user.role?.length])\r\n\r\n  const handleViewTypeChange = (value) => {\r\n    setSelectedViewType(value)\r\n    if (value.value === 'performance') {\r\n      const locationState = {\r\n        selectedInstance,\r\n        viewType: value,\r\n        initStrategy: strategy,\r\n        initMicroStrategy: { value: '2m', label: '2m' },\r\n        initIndicators: indicators,\r\n        initSymbol: symbol,\r\n      }\r\n      if (value) {\r\n        handleChartRedirect(false)\r\n        history.push({\r\n          state: locationState,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  const handlSymbolChange = (e) => {\r\n    if (e) {\r\n      setSymbol(e)\r\n    }\r\n  }\r\n\r\n  const handleStrategy = async (e) => {\r\n    if (e) {\r\n      if (strategyList.length) {\r\n        strategyList.forEach((item) => {\r\n          if (item.macro === e.value) {\r\n            const microStrategyOptions = item.micro.map(o => {\r\n              return {\r\n                value: o,\r\n                label: o,\r\n              }\r\n            })\r\n            setOptionsMicroStrategy( microStrategyOptions )\r\n\r\n            const is_2m = microStrategyOptions.filter((o => o.value === '2m'))\r\n\r\n            // if (is_2m.length) {\r\n            //   setMicroStrategy({\r\n            //     value: '2m',\r\n            //     label: '2m'\r\n            //   })\r\n            // } else {\r\n            setMicroStrategy(microStrategyOptions[0])\r\n            // }\r\n\r\n            const symbolOptions = item.symbols.map(o => {\r\n              return {\r\n                value: o,\r\n                label: o,\r\n              }\r\n            })\r\n            setSymbolList(symbolOptions)\r\n            // setSymbol(symbolOptions[0])\r\n            setSymbol({value: 'MSFT', label: 'MSFT'})\r\n          }\r\n        })\r\n      }\r\n      setStrategy(e)\r\n    }\r\n  }\r\n  \r\n  const handleMicroStrategyChange = (e) => {\r\n    if (e) {\r\n      setMicroStrategy(e)\r\n    }\r\n  }\r\n  \r\n  const handleIndicatorsChange = (options) => {\r\n    setIndicators(options);\r\n  }\r\n\r\n  const handleChartsColumnChange = (option) => {\r\n    if (option.value === 4 || option.value === 6) {\r\n      setIndicators([])\r\n      setOptionsIndicator([\r\n        {\r\n          value: 'VOLUME', label: 'VOLUME',\r\n        },\r\n        {\r\n          value: 'RSI', label: 'RSI',\r\n        },\r\n        {\r\n          value: 'HEIK1', label: 'HEIK1',\r\n        },\r\n        {\r\n          value: 'HEIK2', label: 'HEIK2',\r\n        }\r\n      ])\r\n    } else {\r\n      setIndicators([])\r\n      setOptionsIndicator([\r\n        {\r\n          value: 'VOLUME', label: 'VOLUME',\r\n        },\r\n        {\r\n          value: 'RSI', label: 'RSI',\r\n        },\r\n        {\r\n          value: 'RSI2', label: 'RSI2',\r\n        },\r\n        {\r\n          value: 'RSI3', label: 'RSI3',\r\n        },\r\n        {\r\n          value: 'HEIK1', label: 'HEIK1',\r\n        },\r\n        {\r\n          value: 'HEIK2', label: 'HEIK2',\r\n        }\r\n      ])\r\n    }\r\n    setChartColumn(option)\r\n  }\r\n\r\n  const calculateHeightStyle = () => {\r\n    if (chartColumn.value === 1 || chartColumn.value === 2) {\r\n      return 'full-height'\r\n    }\r\n    return 'half-height'\r\n  }\r\n\r\n  const calculateGridColumn = () => {\r\n    if (chartColumn.value === 1) {\r\n      return 12\r\n    } else if ((chartColumn.value === 2) || (chartColumn.value === 4)) {\r\n      return 6\r\n    }\r\n    return 4\r\n  }\r\n\r\n  const handleSignout = () => {\r\n    auth.signout()\r\n    history.push('/login')\r\n  }\r\n\r\n  const displayChart = () => {\r\n    return (\r\n      <div className={`row ${calculateHeightStyle()}`}>\r\n        <div className={`col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          {microStrategy && symbol && (\r\n            < StockChart \r\n              selectedInstance={selectedInstance}\r\n              selectedTradeDB='heikfilter-2mins-trades'\r\n              chartPeriod='20D 2min'\r\n              symbol={symbol.value}\r\n              indicators={indicators}\r\n              strategy={strategy}\r\n              isHomePage={true}\r\n              chartColumn={chartColumn.value}\r\n              microStrategy={microStrategy.value}\r\n              startDate={null}\r\n              endDate={null}\r\n            />\r\n          )}\r\n        </div>\r\n        <div className={`col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          {microStrategy && symbol && (\r\n          < StockChart \r\n            selectedInstance={selectedInstance}\r\n            selectedTradeDB='heikfilter-12mins-trades'\r\n            chartPeriod='20D 12min'\r\n            symbol={symbol.value}\r\n            indicators={indicators}\r\n            strategy={strategy}\r\n            isHomePage={true}\r\n            chartColumn={chartColumn.value}\r\n            microStrategy={microStrategy.value}\r\n            startDate={null}\r\n            endDate={null}\r\n          />)}\r\n        </div>\r\n        <div className={`col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          {microStrategy && symbol && (\r\n            < StockChart\r\n              selectedInstance={selectedInstance}\r\n              selectedTradeDB='heikfilter-1hour-trades'\r\n              chartPeriod='30D 1hour'\r\n              symbol={symbol.value}\r\n              indicators={indicators}\r\n              strategy={strategy}\r\n              isHomePage={true}\r\n              chartColumn={chartColumn.value}\r\n              microStrategy={microStrategy.value}\r\n              startDate={null}\r\n              endDate={null}\r\n            />)}\r\n        </div>\r\n        <div className={`col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          {microStrategy && symbol && (\r\n            < StockChart\r\n              selectedInstance={selectedInstance}\r\n              selectedTradeDB='heikfilter-4hours-trades'\r\n              chartPeriod='90D 4hour'\r\n              symbol={symbol.value}\r\n              indicators={indicators}\r\n              strategy={strategy}\r\n              isHomePage={true}\r\n              chartColumn={chartColumn.value}\r\n              microStrategy={microStrategy.value}\r\n              startDate={null}\r\n              endDate={null}\r\n            />)}\r\n        </div>\r\n        <div className={`col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          {microStrategy && symbol && (\r\n            < StockChart\r\n              selectedInstance={selectedInstance}\r\n              selectedTradeDB='heikfilter-12hours-trades'\r\n              chartPeriod='90D 12hour'\r\n              symbol={symbol.value}\r\n              indicators={indicators}\r\n              strategy={strategy}\r\n              isHomePage={true}\r\n              chartColumn={chartColumn.value}\r\n              microStrategy={microStrategy.value}\r\n              startDate={null}\r\n              endDate={null}\r\n            />)}\r\n        </div>\r\n        <div className={`col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          {microStrategy && symbol && (\r\n          < StockChart\r\n            selectedInstance={selectedInstance}\r\n            selectedTradeDB='heikfilter-1day-trades'\r\n            chartPeriod='1Y 1day'\r\n            symbol={symbol.value}\r\n            indicators={indicators}\r\n            strategy={strategy}\r\n            isHomePage={true}\r\n            chartColumn={chartColumn.value}\r\n            microStrategy={microStrategy.value}\r\n            startDate={null}\r\n            endDate={null}\r\n          />)}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"hunter-chart-container\">\r\n      <nav className=\"navbar navbar-expand navbar-dark bg-dark hunter-nav-bar\">\r\n        <div className=\"logo-title\">\r\n          <a href=\"/chart\" className=\"hunter-navbar-brand\">\r\n            Violette AM - Client Portal\r\n          </a>\r\n        </div>\r\n        {(user.is_admin || (user.role?.length)) && (\r\n          <div className=\"navbar-nav mr-auto\">\r\n            <li className=\"nav-item\">\r\n              <Link to={\"/chart\"} className=\"nav-link\"></Link>\r\n            </li>\r\n            <div className=\"select-option\">\r\n              <Select\r\n                value={selectedViewType}\r\n                onChange={handleViewTypeChange}\r\n                options={optionsViewTypes}\r\n                placeholder=\"Charting\"\r\n              />\r\n            </div>\r\n            <div className=\"select-option\">\r\n                <Select\r\n                  value={strategy}\r\n                  onChange={handleStrategy}\r\n                  options={optionsStratgy}\r\n                  placeholder=\"Macro Strategy\"\r\n                />\r\n              </div>\r\n            {isShowMicro && (\r\n              <div className=\"select-option\">\r\n                <Select\r\n                  value={microStrategy}\r\n                  onChange={handleMicroStrategyChange}\r\n                  options={optionsMicroStrategy}\r\n                  placeholder=\"Micro Strategy\"\r\n                />\r\n              </div>  \r\n            )}\r\n            <div className=\"select-option\">\r\n              <Select\r\n                value={symbol}\r\n                onChange={handlSymbolChange}\r\n                options={symbolList}\r\n                placeholder=\"Symbol\"\r\n              />\r\n            </div>\r\n            <div className=\"select-multi-option\">\r\n              <Select\r\n                name=\"filters\"\r\n                placeholder=\"Indicators\"\r\n                value={indicators}\r\n                onChange={handleIndicatorsChange}\r\n                options={optionsIndicator}\r\n                isMulti={true}\r\n              />\r\n            </div>\r\n            <div className=\"select-option\">\r\n              <Select\r\n                value={chartColumn}\r\n                onChange={handleChartsColumnChange}\r\n                options={optionsColumn}\r\n                placeholder=\"Columns\"\r\n              />\r\n            </div>\r\n          </div>\r\n        )}\r\n        <Collapse navbar isOpen={collapseOpen}>\r\n            <Nav className=\"ml-auto\" navbar>\r\n              <UncontrolledDropdown>\r\n                <DropdownToggle\r\n                  caret\r\n                  color=\"default\"\r\n                  nav\r\n                  onClick={(e) => e.preventDefault()}\r\n                >\r\n                  <div className=\"photo\">\r\n                    <img\r\n                      alt=\"...\"\r\n                      src={require(\"assets/img/anime3.png\").default}\r\n                    />\r\n                  </div>\r\n                  <p className=\"d-lg-none\">Log out</p>\r\n                </DropdownToggle>\r\n                <DropdownMenu className=\"dropdown-navbar\" right tag=\"ul\">\r\n                  {/* <NavLink tag=\"li\">\r\n                    <DropdownItem className=\"nav-item\">Profile</DropdownItem>\r\n                  </NavLink>\r\n                  <NavLink tag=\"li\">\r\n                    <DropdownItem className=\"nav-item\">Settings</DropdownItem>\r\n                  </NavLink> */}\r\n                  <DropdownItem divider tag=\"li\" />\r\n                  <NavLink tag=\"li\">\r\n                    <DropdownItem className=\"nav-item\" onClick={() => {\r\n                      handleSignout()\r\n                    }}>Log out</DropdownItem>\r\n                  </NavLink>\r\n                </DropdownMenu>\r\n              </UncontrolledDropdown>\r\n              <li className=\"separator d-lg-none\" />\r\n            </Nav>\r\n          </Collapse>    \r\n      </nav>\r\n      {!user.is_admin && !user?.role.length\r\n        ? (<div className=\"development-in-content dark\">\r\n            No Permission\r\n          </div>)\r\n        : selectedInstance === 'stress_test' || selectedInstance === 'optimization' \r\n        ? (<div className=\"development-in-content dark\">\r\n          In development\r\n        </div>)\r\n        : (<div className=\"graphs-container dark\">\r\n          {(chartColumn.value === 1) && displayChart()}\r\n          {(chartColumn.value === 2) && displayChart()}\r\n          {(chartColumn.value === 4) && displayChart()}\r\n          {(chartColumn.value === 6) && displayChart()}\r\n        </div>)\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HeiknStockChart;","import React, { useCallback, useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Select from 'react-select'\r\nimport \"react-datetime/css/react-datetime.css\";\r\nimport StockChart from \"./stock-chart/StockChart\"\r\nimport { useHistory } from \"react-router-dom\";\r\nimport disableScroll from 'disable-scroll';\r\n\r\nconst HeiknStockChartItem = (props) => {\r\n    \r\n    const { selectedInstance, handleChartRedirect } = props\r\n    const history = useHistory();\r\n    const { viewType, initStrategy, initMicroStrategy, initIndicators, initSymbol } = history.location.state\r\n    \r\n    const [selectedViewType, setSelectedViewType] = useState(\r\n      viewType\r\n      ? viewType\r\n      : { value: 'charting', label: 'Charting' }\r\n    );\r\n\r\n    const [symbol, setSymbol] = useState(initSymbol)\r\n    const [multiSymbol, setMultiSymbol] = useState([initSymbol])\r\n    const [strategy, setStrategy] = useState(initStrategy ? initStrategy : {})\r\n    const [symbolList, setSymbolList] = useState([])\r\n    const [microStrategy, setMicroStrategy] = useState(initMicroStrategy ? initMicroStrategy: null)\r\n    const [indicators, setIndicators] = useState(initIndicators)\r\n    const [apiFlag, setApiFlag] = useState(false)\r\n    const [tradeStartDate, setTradeStartDate] = useState('')\r\n    const [tradeEndDate, setTradeEndDate] = useState('')\r\n    const [strategyList, setStrategyList] = useState([]);\r\n    \r\n    const [optionsViewTypes, setOptionsViewTypes] = useState([\r\n      { value: 'charting', label: 'Charting' },\r\n      { value: 'performance', label: 'Performance' },\r\n    ])    \r\n\r\n    const [optionsMicroStrategy, setOptionsMicroStrategy] = useState([])\r\n    \r\n    const [optionsStratgy, setOptionsStrategy] = useState([])\r\n\r\n    const optionsIndicator = [\r\n        {\r\n          value: 'VOLUME', label: 'VOLUME',\r\n        },\r\n        {\r\n          value: 'RSI', label: 'RSI',\r\n        },\r\n        {\r\n          value: 'MACD', label: 'MACD',\r\n        },\r\n        {\r\n          value: 'SMA', label: 'SMA',\r\n        }\r\n    ]\r\n\r\n    const getStrategyList = useCallback(\r\n      () => {\r\n        fetch(process.env.REACT_APP_BACKEND_URL + \"/api/get_strategy_list\")\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            setStrategyList(data.result);\r\n            const strategyOptions = data.result.map((o => {\r\n              return {\r\n                value: o.macro,\r\n                label: o.macro,\r\n              }\r\n            }))\r\n            // setStrategy({\r\n            //   value: 'heikfilter',\r\n            //   label: 'heikfilter'\r\n            // });\r\n            setOptionsStrategy(strategyOptions);\r\n            if (data.result.length) {\r\n              data.result.forEach((item) => {\r\n                if (item.macro === 'heikfilter') {\r\n                  const microStrategyOptions = item.micro.map(o => {\r\n                    return {\r\n                      value: o,\r\n                      label: o,\r\n                    }\r\n                  })\r\n                  setOptionsMicroStrategy( microStrategyOptions )                \r\n  \r\n                  const symbolOptions = item.symbols.map(o => {\r\n                    return {\r\n                      value: o,\r\n                      label: o,\r\n                    }\r\n                  })\r\n                  setSymbolList(symbolOptions)\r\n                  // setSymbol(symbolOptions[0])\r\n                }\r\n              })\r\n            }\r\n          })   \r\n      },\r\n      [],\r\n    )\r\n\r\n    useEffect(() => {\r\n      const user = JSON.parse(localStorage.getItem('user-info'))\r\n      if (user.is_admin || user.role.length) {\r\n        getStrategyList();\r\n      }\r\n      disableScroll.on();\r\n      return () => {\r\n        disableScroll.off();\r\n      }\r\n    }, [getStrategyList])\r\n    \r\n    useEffect(() => {\r\n      if (selectedInstance.value === 'optimization') {\r\n        setOptionsViewTypes([\r\n          { value: 'optimization', label: 'Optimization' },\r\n        ])\r\n      } else {\r\n        setOptionsViewTypes([\r\n          { value: 'charting', label: 'Charting' },\r\n          { value: 'performance', label: 'Performance' },\r\n        ])\r\n      }\r\n    }, [selectedInstance])\r\n\r\n    useEffect(() => {\r\n      const get_tables = () => {\r\n        const requestOptions = {\r\n          method: 'POST',\r\n          headers: {'Content-Type': 'application/json'},\r\n          body: JSON.stringify({\r\n            'strategy': strategy.value\r\n          })\r\n        };\r\n        fetch(process.env.REACT_APP_BACKEND_URL + \"/api/tables\", requestOptions)\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            let temp_data = []\r\n            data.tables.map((x) => {\r\n                temp_data.push({\r\n                    value: x,\r\n                    label: x\r\n                });\r\n                return null\r\n            })\r\n            setSymbolList(temp_data)\r\n          })\r\n      }\r\n      \r\n      if (!apiFlag) {\r\n        setMicroStrategy(microStrategy)\r\n        get_tables();\r\n        setApiFlag(true)\r\n      }\r\n    }, [setMicroStrategy, apiFlag, microStrategy, setApiFlag, strategy.value])\r\n\r\n    const handleViewTypeChange = (e) => {\r\n      setSelectedViewType(e)\r\n      if (e.value === 'charting') {\r\n        handleChartRedirect(true)\r\n      }\r\n    }\r\n\r\n    const handlSymbolChange = (e) => {\r\n      if (e) {\r\n        setSymbol(e)\r\n      }\r\n    }\r\n    \r\n    const handlMultiSymbolChange = (e) => {\r\n      setMultiSymbol(e)\r\n    }\r\n\r\n    const handleStrategyChange = async (e) => {\r\n      if (e) {\r\n        setStrategy(e)\r\n        if (strategyList.length) {\r\n          strategyList.forEach((item) => {\r\n            if (item.macro === e.value) {\r\n              const microStrategyOptions = item.micro.map(o => {\r\n                return {\r\n                  value: o,\r\n                  label: o,\r\n                }\r\n              })\r\n              setOptionsMicroStrategy( microStrategyOptions )\r\n\r\n              const is_2m = microStrategyOptions.filter((o => o.value === '2m'))\r\n              if (is_2m.length) {\r\n                setMicroStrategy({\r\n                  value: '2m',\r\n                  label: '2m'\r\n                })\r\n              } else {\r\n                  setMicroStrategy(microStrategyOptions[2])\r\n              }\r\n\r\n              const symbolOptions = item.symbols.map(o => {\r\n                return {\r\n                  value: o,\r\n                  label: o,\r\n                }\r\n              })\r\n              setSymbolList(symbolOptions)\r\n              setSymbol(symbolOptions[0])\r\n            }\r\n          })\r\n        }\r\n      }\r\n    }\r\n\r\n    const handleIndicatorsChange = (options) => {\r\n      setIndicators(options);\r\n    }\r\n\r\n    const handleMicroStrategyChange = (e) => {\r\n      setMicroStrategy(e);\r\n    }\r\n\r\n    const handleTradeStartDateChange = (e) => {\r\n      setTradeStartDate(e.target.value)\r\n    }\r\n    \r\n    const handleTradeEndDateChange = (e) => {\r\n      setTradeEndDate(e.target.value)\r\n    }\r\n\r\n    return (\r\n      <div className=\"hunter-chart-container\">\r\n        <nav className=\"navbar navbar-expand navbar-dark bg-dark hunter-nav-bar\">\r\n          <div className=\"logo-title\">\r\n            <a href=\"/chart\" className=\"hunter-navbar-brand\">\r\n              Violette AM - Client Portal \r\n            </a>\r\n          </div>\r\n          <div className=\"navbar-nav mr-auto\">\r\n            <li className=\"nav-item\">\r\n                <Link to={\"/chart\"} className=\"nav-link\"></Link>\r\n            </li>\r\n            <div className=\"select-option\">\r\n              <Select\r\n                value={selectedViewType}\r\n                onChange={handleViewTypeChange}\r\n                options={optionsViewTypes}\r\n                placeholder=\"Charting\"\r\n              />\r\n            </div>\r\n            {selectedViewType.value !== 'performance'\r\n              ? (<div className=\"select-option\">\r\n                <Select\r\n                    value={symbol}\r\n                    onChange={handlSymbolChange}\r\n                    options={symbolList}\r\n                />\r\n                  </div>)\r\n              : (<div className=\"select-multi-option\">\r\n                    <Select\r\n                        value={multiSymbol}\r\n                        onChange={handlMultiSymbolChange}\r\n                        options={symbolList}\r\n                        isMulti={true}\r\n                    />\r\n                </div>)\r\n            }\r\n            {(selectedInstance.value !== 'live_trading') &&\r\n              (<div className=\"select-option\">\r\n                  <Select\r\n                  value={strategy}\r\n                  onChange={handleStrategyChange}\r\n                  options={optionsStratgy}\r\n                  placeholder=\"Macro Strategy\"\r\n                  />\r\n              </div>)\r\n            }\r\n            {selectedInstance.value !== 'live_trading' && \r\n              (<div className=\"select-option\">\r\n                <Select\r\n                  name=\"filters\"\r\n                  placeholder=\"Micro Strategy\"\r\n                  value={microStrategy}\r\n                  onChange={handleMicroStrategyChange}\r\n                  options={optionsMicroStrategy}\r\n                />\r\n              </div>)\r\n            }\r\n            {selectedViewType.value !== 'performance' && \r\n              (<div className=\"select-multi-option\">\r\n                <Select\r\n                  name=\"filters\"\r\n                  placeholder=\"Indicators\"\r\n                  value={indicators}\r\n                  onChange={handleIndicatorsChange}\r\n                  options={optionsIndicator}\r\n                  isMulti={true}\r\n                />\r\n              </div>)\r\n            }\r\n            <div className='input-group date hunter-performance-chart hunter-date-time-picker' id='datetimepicker1'>\r\n              <span> Start: </span> \r\n                <input \r\n                  type='date'\r\n                  className=\"form-control hunter-input\"\r\n                  value={tradeStartDate}\r\n                  onChange={handleTradeStartDateChange}\r\n                />\r\n                <span className=\"input-group-addon\">\r\n                <span className=\"glyphicon glyphicon-calendar\"></span>\r\n              </span>\r\n            </div>\r\n            <div className='input-group date hunter-performance-chart hunter-date-time-picker' id='datetimepicker2'>\r\n              <span> End: </span> \r\n              <input \r\n                type='date'\r\n                className=\"form-control hunter-input\"\r\n                value={tradeEndDate}\r\n                onChange={handleTradeEndDateChange}\r\n              />\r\n              <span className=\"input-group-addon\">\r\n              <span className=\"glyphicon glyphicon-calendar\"></span>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </nav>\r\n        <div className=\"graphs-container dark\">\r\n          < StockChart\r\n            selectedInstance ={selectedInstance.value}\r\n            viewType={selectedViewType.value}\r\n            microStrategy={microStrategy.value}\r\n            symbol={symbol.value}\r\n            multiSymbol={multiSymbol}\r\n            indicators={indicators}\r\n            strategy={strategy}\r\n            isHomePage={false}\r\n            startDate={tradeStartDate}\r\n            endDate={tradeEndDate}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default HeiknStockChartItem;\r\n","export function validateEmail(email) {\r\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(String(email).toLowerCase());\r\n}\r\n\r\n// export function validateEmail(email) {\r\n//  if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(email))\r\n//   {\r\n//     return (true)\r\n//   }\r\n//     alert(\"You have entered an invalid email address!\")\r\n//     return (false)\r\n// }\r\n\r\nexport function currentDateString() {\r\n    const date = new Date();\r\n    let month = date.getMonth() + 1\r\n    let day = date.getDate()\r\n    if (date.getMonth() + 1 < 10) {\r\n        month = '0' + month\r\n    }\r\n    if (date.getDate() < 10) {\r\n        day = '0' + day\r\n    }\r\n\r\n    return `${date.getFullYear()}-${month}-${day}`;\r\n}","import React, { useState } from \"react\";\r\nimport {\r\n    useHistory,\r\n} from \"react-router-dom\";\r\nimport { useAuth } from 'contexts/authContext'\r\nimport { validateEmail } from 'utils/helper'\r\n\r\nconst Login = () => {\r\n    let auth = useAuth();\r\n    let history = useHistory();\r\n    const [error, setError] = useState(-1)\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [message, setMessage] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n    const handleEmailChange = (e) => {\r\n        setEmail(e.target.value)\r\n    }\r\n    \r\n    const handlePasswordChange = (e) => {\r\n        setPassword(e.target.value)\r\n    }\r\n    \r\n    const login = async () => {\r\n        if (!email.length || !password.length) {\r\n            setError(1)\r\n            setMessage('Email or password is wrong')\r\n            return\r\n        }\r\n        \r\n        if (!validateEmail(email)){\r\n            alert('Invalid email')\r\n            return\r\n        }\r\n        \r\n        setIsLoading(true)\r\n        const res = await auth.authUser.signin(email, password)\r\n        setIsLoading(false)\r\n        if (res.success) {\r\n            const historyState = {\r\n                userId: res.user_id\r\n            }\r\n            history.push({\r\n                pathname: '/verify',\r\n                state: historyState\r\n            })\r\n        } else {\r\n            setError(1)\r\n            setMessage(res.error)\r\n            return\r\n        }\r\n    }\r\n\r\n    const handleModalClose = () => {\r\n        setError(-1);\r\n        setMessage('');\r\n    }\r\n\r\n    return (\r\n        <div className={\"login-form\"}>\r\n            <div>\r\n\r\n                <h3>Log In</h3>\r\n\r\n                <div className=\"form-group\">\r\n                    <label>User Email</label>\r\n                    <input\r\n                        type=\"email\"\r\n                        className=\"form-control hunter-form-control\"\r\n                        placeholder=\"Enter user email\"\r\n                        value={email}\r\n                        onChange={(e) => { handleEmailChange(e)}}\r\n                        required\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label>Password</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        className=\"form-control hunter-form-control\"\r\n                        placeholder=\"Enter password\"\r\n                        value={password}\r\n                        onChange={(e) => { handlePasswordChange(e)}}\r\n                        required\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <div className=\"custom-control custom-checkbox\">\r\n                        <input type=\"checkbox\" className=\"custom-control-input\" id=\"customCheck1\" />\r\n                        <label className=\"custom-control-label\" htmlFor=\"customCheck1\">Remember me</label>\r\n                    </div>\r\n                </div>\r\n\r\n                <button\r\n                    className=\"btn btn-dark btn-lg btn-block hunter-signin-button\"\r\n                    onClick={login}\r\n                >\r\n                    {isLoading && (\r\n                        <span className=\"spinner-border spinner-border-sm hunter-spinner-button\" role=\"status\" aria-hidden=\"true\"></span>\r\n                    )}\r\n                    Sign in\r\n                </button>\r\n                \r\n                <div className=\"form-group hunter-form-signup-area\">\r\n                    {/* <p className=\"sign-up-area text-left\">\r\n                        <a href=\"/signup\">Sign Up?</a>\r\n                    </p> */}\r\n                    <p className=\"forgot-password text-right\">\r\n                        Forgot <a href=\"/forgot_password\">password?</a>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            {error !== -1 && \r\n                <div className=\"alert alert-primary\" role=\"alert\">\r\n                    <div className=\"alert-container\">\r\n                        <div className=\"alert-content\">\r\n                            {message}\r\n                        </div>\r\n                        <button type=\"button\" className=\"btn btn-primary modal-close-button hunter-modal-small-button\" onClick={() => { handleModalClose() }}>Close</button>\r\n                    </div>\r\n                </div>   \r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login","import React from \"react\";\r\n// nodejs library that concatenates classes\r\nimport classNames from \"classnames\";\r\n\r\n// reactstrap components\r\nimport {\r\n  Collapse,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  UncontrolledDropdown,\r\n  Input,\r\n  Navbar,\r\n  NavLink,\r\n  Nav,\r\n  Container,\r\n  Modal,\r\n  ModalHeader,\r\n} from \"reactstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useAuth } from 'contexts/authContext';\r\n\r\nfunction AdminNavbar() {\r\n  const auth = useAuth();\r\n  const history = useHistory();\r\n  const [collapseOpen] = React.useState(false);\r\n  const [modalSearch, setmodalSearch] = React.useState(false);\r\n  const [color, setcolor] = React.useState(\"navbar-transparent\");\r\n  React.useEffect(() => {\r\n    window.addEventListener(\"resize\", updateColor);\r\n    // Specify how to clean up after this effect:\r\n    return function cleanup() {\r\n      window.removeEventListener(\"resize\", updateColor);\r\n    };\r\n  });\r\n  // function that adds color white/transparent to the navbar on resize (this is for the collapse)\r\n  const updateColor = () => {\r\n    if (window.innerWidth < 993 && collapseOpen) {\r\n      setcolor(\"bg-white\");\r\n    } else {\r\n      setcolor(\"navbar-transparent\");\r\n    }\r\n  };\r\n  \r\n  // this function is to open the Search modal\r\n  const toggleModalSearch = () => {\r\n    setmodalSearch(!modalSearch);\r\n  };\r\n\r\n  const handleSignout = () => {\r\n    auth.signout()\r\n    history.push('/login')\r\n  }\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-expand navbar-dark bg-dark hunter-nav-bar\">\r\n      <div className=\"logo-title\">\r\n        <a href=\"/chart\" className=\"hunter-navbar-brand\">\r\n          Violette AM - Client Portal\r\n        </a>\r\n      </div>\r\n      <Navbar className={classNames(\"navbar-absolute\", color)} expand=\"lg\">\r\n        <Container fluid>\r\n          <Collapse navbar isOpen={collapseOpen}>\r\n            <Nav className=\"ml-auto\" navbar>\r\n              <UncontrolledDropdown nav>\r\n                <DropdownToggle\r\n                  caret\r\n                  color=\"default\"\r\n                  nav\r\n                  onClick={(e) => e.preventDefault()}\r\n                >\r\n                  <div className=\"photo\">\r\n                    <img\r\n                      alt=\"...\"\r\n                      src={require(\"assets/img/anime3.png\").default}\r\n                    />\r\n                  </div>\r\n                  <p className=\"d-lg-none\">Log out</p>\r\n                </DropdownToggle>\r\n                <DropdownMenu className=\"dropdown-navbar\" right tag=\"ul\">\r\n                  {/* <NavLink tag=\"li\">\r\n                    <DropdownItem className=\"nav-item\">Profile</DropdownItem>\r\n                  </NavLink>\r\n                  <NavLink tag=\"li\">\r\n                    <DropdownItem className=\"nav-item\">Settings</DropdownItem>\r\n                  </NavLink> */}\r\n                  <DropdownItem divider tag=\"li\" />\r\n                  <NavLink tag=\"li\">\r\n                    <DropdownItem className=\"nav-item\" onClick={() => {handleSignout()}}>Log out</DropdownItem>\r\n                  </NavLink>\r\n                </DropdownMenu>\r\n              </UncontrolledDropdown>\r\n              <li className=\"separator d-lg-none\" />\r\n            </Nav>\r\n          </Collapse>\r\n        </Container>\r\n      </Navbar>\r\n      <Modal\r\n        modalClassName=\"modal-search\"\r\n        isOpen={modalSearch}\r\n        toggle={toggleModalSearch}\r\n      >\r\n        <ModalHeader>\r\n          <Input placeholder=\"SEARCH\" type=\"text\" />\r\n          <button\r\n            aria-label=\"Close\"\r\n            className=\"close\"\r\n            onClick={toggleModalSearch}\r\n          >\r\n            <i className=\"tim-icons icon-simple-remove\" />\r\n          </button>\r\n        </ModalHeader>\r\n      </Modal>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default AdminNavbar;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Route, Switch, useLocation } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  Button\r\n} from \"reactstrap\";\r\n// javascript plugin used to create scrollbars on windows\r\nimport PerfectScrollbar from \"perfect-scrollbar\";\r\n\r\n// core components\r\nimport AdminNavbar from \"components/Navbars/AdminNavbar.js\";\r\nimport Sidebar from \"components/Sidebar/Sidebar.js\";\r\n\r\nimport { adminRoutes } from \"routes.js\";\r\n\r\nimport { BackgroundColorContext } from \"contexts/BackgroundColorContext\";\r\n\r\nvar ps;\r\n\r\nfunction Admin() {\r\n  const history = useHistory();\r\n  const [isShowSidebar, setShowSidebar] = React.useState(true);\r\n  const location = useLocation();\r\n  const mainPanelRef = React.useRef(null);\r\n  const [sidebarOpened, setsidebarOpened] = React.useState(\r\n    document.documentElement.className.indexOf(\"nav-open\") !== -1\r\n  );\r\n  const [selectedInstance, setSelectedInstance] = React.useState('usermanage');\r\n  const [user] = useState(JSON.parse(localStorage.getItem('user-info')));\r\n\r\n    useEffect(() => {\r\n      if (!user.is_admin) {\r\n        history.push('/')\r\n      }\r\n    }, [user, history])\r\n\r\n  React.useEffect(() => {\r\n    if (navigator.platform.indexOf(\"Win\") > -1) {\r\n      document.documentElement.className += \" perfect-scrollbar-on\";\r\n      document.documentElement.classList.remove(\"perfect-scrollbar-off\");\r\n      ps = new PerfectScrollbar(mainPanelRef.current, {\r\n        suppressScrollX: true,\r\n      });\r\n      let tables = document.querySelectorAll(\".table-responsive\");\r\n      for (let i = 0; i < tables.length; i++) {\r\n        ps = new PerfectScrollbar(tables[i]);\r\n      }\r\n    }\r\n    // Specify how to clean up after this effect:\r\n    return function cleanup() {\r\n      if (navigator.platform.indexOf(\"Win\") > -1) {\r\n        ps.destroy();\r\n        document.documentElement.classList.add(\"perfect-scrollbar-off\");\r\n        document.documentElement.classList.remove(\"perfect-scrollbar-on\");\r\n      }\r\n    };\r\n  });\r\n  React.useEffect(() => {\r\n    if (navigator.platform.indexOf(\"Win\") > -1) {\r\n      let tables = document.querySelectorAll(\".table-responsive\");\r\n      for (let i = 0; i < tables.length; i++) {\r\n        ps = new PerfectScrollbar(tables[i]);\r\n      }\r\n    }\r\n    document.documentElement.scrollTop = 0;\r\n    document.scrollingElement.scrollTop = 0;\r\n    if (mainPanelRef.current) {\r\n      mainPanelRef.current.scrollTop = 0;\r\n    }\r\n  }, [location]);\r\n  // this function opens and closes the sidebar on small devices\r\n  const toggleSidebar = () => {\r\n    document.documentElement.classList.toggle(\"nav-open\");\r\n    setsidebarOpened(!sidebarOpened);\r\n  };\r\n  \r\n  const handleSidebarChange = () => {\r\n    setShowSidebar(!isShowSidebar);\r\n  };\r\n  const getRoutes = (routes) => {\r\n    return routes.map((prop, key) => {\r\n      if (prop.layout === \"/admin\") {\r\n        return (\r\n          <Route\r\n            path={prop.layout + prop.path}\r\n            component={prop.component}\r\n            key={key}\r\n          />\r\n        );\r\n      } else {\r\n        return null;\r\n      }\r\n    });\r\n  };\r\n  const getBrandText = (path) => {\r\n    for (let i = 0; i < adminRoutes.length; i++) {\r\n      if (location.pathname.indexOf(adminRoutes[i].layout + adminRoutes[i].path) !== -1) {\r\n        return adminRoutes[i].name;\r\n      }\r\n    }\r\n    return \"Brand\";\r\n  };\r\n  const handleInstanceChange = (instance) => {\r\n    setSelectedInstance(instance)\r\n  }\r\n\r\n  return (\r\n    <BackgroundColorContext.Consumer>\r\n      {({ color, changeColor }) => (\r\n        <React.Fragment>\r\n          <div className=\"wrapper hunter-wrapper\">\r\n          {!isShowSidebar && (\r\n            <Button\r\n              className ={\"show-sidebar-toggle-area show-sidebar-icon\"}\r\n              onClick={handleSidebarChange}\r\n            >\r\n              <i className=\"tim-icons icon-align-left-2\"/>\r\n            </Button>\r\n          )}\r\n          {isShowSidebar && (\r\n              <Sidebar\r\n                isAdminPage={true}\r\n                routes={adminRoutes}\r\n                handleSidebarChange={handleSidebarChange}\r\n                selectedInstance={selectedInstance}\r\n                handleInstanceChange={handleInstanceChange}\r\n              />\r\n            )}\r\n            <div className={`main-panel ${!isShowSidebar ? 'full-width' : ''}`} ref={mainPanelRef} data={color}>\r\n              <AdminNavbar\r\n                brandText={getBrandText(location.pathname)}\r\n                toggleSidebar={toggleSidebar}\r\n                sidebarOpened={sidebarOpened}\r\n              />\r\n              <Switch>\r\n                {getRoutes(adminRoutes)}\r\n              </Switch>\r\n            </div>\r\n          </div>\r\n        </React.Fragment>\r\n      )}\r\n    </BackgroundColorContext.Consumer>\r\n  );\r\n}\r\n\r\nexport default Admin;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport Select from 'react-select'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  Button\r\n} from \"reactstrap\";\r\n// javascript plugin used to create scrollbars on windows\r\nimport PerfectScrollbar from \"perfect-scrollbar\";\r\n\r\n// core components\r\nimport AdminNavbar from \"components/Navbars/AdminNavbar.js\";\r\nimport Sidebar from \"components/Sidebar/Sidebar.js\";\r\n\r\nimport { adminRoutes } from \"routes.js\";\r\n\r\nimport { BackgroundColorContext } from \"contexts/BackgroundColorContext\";\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport { MDBBtn, MDBTable, MDBTableBody, MDBTableHead  } from 'mdbreact';\r\nimport { getUserList, updateUserRole, deleteUser } from 'api/Api';\r\n\r\nvar ps;\r\n\r\nfunction UserManage() {\r\n  const history = useHistory();\r\n  const [isRequest, setIsRequest] = useState(true)\r\n  const [error, setError] = useState(-1)\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [message, setMessage] = useState('')\r\n  const [isShowSidebar, setShowSidebar] = React.useState(true);\r\n  const location = useLocation();\r\n  const mainPanelRef = React.useRef(null);\r\n  const [isShowUpdateRoleModal, setIsShowUpdateRoleModal] = useState(false);\r\n  const [roles, setRoles] = useState([]);\r\n  const [userlist, setUserList] = useState([])\r\n  const [selectedUserId, setSelectedUserId] = useState(null);\r\n  const [sidebarOpened, setsidebarOpened] = React.useState(\r\n    document.documentElement.className.indexOf(\"nav-open\") !== -1\r\n  );\r\n  const [selectedInstance, setSelectedInstance] = React.useState('usermanage');\r\n  const optionsRole = [\r\n    { value: 'forward_test', label: 'Forward Test' },\r\n    { value: 'stress_test', label: 'Stress Test' },\r\n    { value: 'optimization', label: 'Optimization' },\r\n    { value: 'live_trade', label: 'Live Trade' },\r\n    { value: 'scanner', label: 'Scanner' },\r\n    { value: 'trade_data', label: 'Trade Data'},\r\n  ]\r\n  const [user] = useState(JSON.parse(localStorage.getItem('user-info')));\r\n\r\n  useEffect(() => {\r\n    if (!user.is_admin) {\r\n      history.push('/')\r\n    }\r\n  }, [user, history])\r\n\r\n  React.useEffect(() => {\r\n    if (navigator.platform.indexOf(\"Win\") > -1) {\r\n      document.documentElement.className += \" perfect-scrollbar-on\";\r\n      document.documentElement.classList.remove(\"perfect-scrollbar-off\");\r\n      ps = new PerfectScrollbar(mainPanelRef.current, {\r\n        suppressScrollX: true,\r\n      });\r\n      let tables = document.querySelectorAll(\".table-responsive\");\r\n      for (let i = 0; i < tables.length; i++) {\r\n        ps = new PerfectScrollbar(tables[i]);\r\n      }\r\n    }\r\n    // Specify how to clean up after this effect:\r\n    return function cleanup() {\r\n      if (navigator.platform.indexOf(\"Win\") > -1) {\r\n        ps.destroy();\r\n        document.documentElement.classList.add(\"perfect-scrollbar-off\");\r\n        document.documentElement.classList.remove(\"perfect-scrollbar-on\");\r\n      }\r\n    };\r\n  });\r\n  React.useEffect(() => {\r\n    if (navigator.platform.indexOf(\"Win\") > -1) {\r\n      let tables = document.querySelectorAll(\".table-responsive\");\r\n      for (let i = 0; i < tables.length; i++) {\r\n        ps = new PerfectScrollbar(tables[i]);\r\n      }\r\n    }\r\n    document.documentElement.scrollTop = 0;\r\n    document.scrollingElement.scrollTop = 0;\r\n    if (mainPanelRef.current) {\r\n      mainPanelRef.current.scrollTop = 0;\r\n    }\r\n  }, [location]);\r\n\r\n  useEffect(() => {\r\n    const fetchUserList = async () => {\r\n      const list = await getUserList();\r\n      const users = list.map((user, index) => {\r\n        return {\r\n          id: index,\r\n          username: user.username,\r\n          email: user.email,\r\n          phone_number: user.phone_number,\r\n          role: user.role,\r\n          active: 'active',\r\n          action: <div className=\"hunter-user-manage-button-area\">\r\n            <MDBBtn color=\"blue\" size=\"sm\" onClick={\r\n            () => {\r\n              setRoles([]);\r\n              setSelectedUserId(user.id);\r\n              showUpdateUserRoleModal();\r\n            }}\r\n            >Update Role</MDBBtn>\r\n            <MDBBtn color=\"blue\" size=\"sm\" onClick={\r\n            async () => {\r\n              if (window.confirm(\"Do you really want to delete this user?\")) {\r\n                const res = await deleteUser(user.id)\r\n                setIsRequest(true);\r\n                alert(res.message)\r\n              }\r\n            }}\r\n          >Delete User</MDBBtn>\r\n          </div>\r\n        }\r\n      })\r\n       setUserList(users)\r\n    };\r\n    if (isRequest) {\r\n      fetchUserList();\r\n      setIsRequest(false);\r\n    }\r\n  }, [isRequest])\r\n\r\n  const showUpdateUserRoleModal = () => {\r\n    setIsShowUpdateRoleModal(true);\r\n  }\r\n\r\n  // this function opens and closes the sidebar on small devices\r\n  const toggleSidebar = () => {\r\n    document.documentElement.classList.toggle(\"nav-open\");\r\n    setsidebarOpened(!sidebarOpened);\r\n  };\r\n  \r\n  const handleSidebarChange = () => {\r\n    setShowSidebar(!isShowSidebar);\r\n  };\r\n  \r\n  const getBrandText = (path) => {\r\n    for (let i = 0; i < adminRoutes.length; i++) {\r\n      if (location.pathname.indexOf(adminRoutes[i].layout + adminRoutes[i].path) !== -1) {\r\n        return adminRoutes[i].name;\r\n      }\r\n    }\r\n    return \"Brand\";\r\n  };\r\n  const handleInstanceChange = (instance) => {\r\n    setSelectedInstance(instance)\r\n  }\r\n\r\n  const columns= [\r\n    {\r\n      label: '#',\r\n      field: 'id',\r\n    },\r\n    {\r\n      label: 'name',\r\n      field: 'username',\r\n    },\r\n    {\r\n      label: 'email',\r\n      field: 'email',\r\n    },\r\n    {\r\n      label: 'Phone number',\r\n      field: 'phone_number',\r\n    },\r\n    {\r\n      label: 'Role',\r\n      field: 'role',\r\n    },\r\n    {\r\n      label: 'Active',\r\n      field: 'active',\r\n    },\r\n    {\r\n      action: 'Action',\r\n      field: 'action',\r\n    }\r\n  ];\r\n\r\n  const handleRolesChange = (options) => {\r\n    setRoles(options);\r\n  }\r\n\r\n  const handleUpdateRoleModalClose = () => {\r\n    setIsShowUpdateRoleModal(false)  \r\n  }\r\n\r\n  const transformUserRole = (roles) => {\r\n    let roleValues = ''\r\n    let coma = ''\r\n    roles.forEach(role => {\r\n      roleValues = roleValues + coma + role.value\r\n      coma = ','\r\n    })\r\n    return roleValues;\r\n  }\r\n\r\n  const handleUserRoleUpdate = async () => {\r\n    setIsLoading(true)\r\n    const res = await updateUserRole(selectedUserId, transformUserRole(roles));\r\n    setIsLoading(false)\r\n    if ( res.success ) {\r\n      setIsRequest(true);\r\n      setError(0)\r\n      setMessage(res.message)\r\n      return;\r\n    }\r\n    setError(1)\r\n    setMessage(res.message)\r\n    return\r\n  }\r\n\r\n  const handleModalClose = () => {\r\n    setError(-1);\r\n    setMessage('');\r\n    setIsShowUpdateRoleModal(false)\r\n  }\r\n\r\n  return (\r\n    <BackgroundColorContext.Consumer>\r\n      {({ color, changeColor }) => (\r\n        <React.Fragment>\r\n          <div className=\"wrapper hunter-wrapper\">\r\n          {!isShowSidebar && (\r\n            <Button\r\n              className ={\"show-sidebar-toggle-area show-sidebar-icon\"}\r\n              onClick={handleSidebarChange}\r\n            >\r\n              <i className=\"tim-icons icon-align-left-2\"/>\r\n            </Button>\r\n          )}\r\n          {isShowSidebar && (\r\n            <Sidebar\r\n              isAdminPage={true}\r\n              routes={adminRoutes}\r\n              handleSidebarChange={handleSidebarChange}\r\n              selectedInstance={selectedInstance}\r\n              handleInstanceChange={handleInstanceChange}\r\n            />\r\n          )}\r\n          <Modal show={isShowUpdateRoleModal} className=\"hunter-modal\" onHide={handleUpdateRoleModalClose}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Update User Role</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n              <div className=\"select-multi-option\">\r\n                <Select\r\n                  name=\"filters\"\r\n                  placeholder=\"Roles\"\r\n                  value={roles}\r\n                  onChange={handleRolesChange}\r\n                  options={optionsRole}\r\n                  isMulti={true}\r\n                />\r\n              </div>\r\n            </Modal.Body>\r\n            <Modal.Footer className=\"hunter-modal-footer\">\r\n              <Button variant=\"primary\" onClick={handleUserRoleUpdate}>\r\n                {isLoading && (\r\n                  <span className=\"spinner-border spinner-border-sm hunter-spinner-button\" role=\"status\" aria-hidden=\"true\"></span>\r\n                )}\r\n                Update Role\r\n              </Button>\r\n            </Modal.Footer>\r\n            {error !== -1 && \r\n              <div className=\"alert alert-primary\" role=\"alert\">\r\n                <div className=\"alert-container\">\r\n                  <div className=\"alert-content\">\r\n                    {message}\r\n                  </div>\r\n                  <button type=\"button\" className=\"btn btn-primary modal-close-button hunter-modal-small-button\" onClick={() => { handleModalClose() }}>Close</button>\r\n                </div>\r\n              </div>   \r\n            }\r\n          </Modal>\r\n            <div className={`main-panel ${!isShowSidebar ? 'full-width' : ''}`} ref={mainPanelRef} data={color}>\r\n              <AdminNavbar\r\n                brandText={getBrandText(location.pathname)}\r\n                toggleSidebar={toggleSidebar}\r\n                sidebarOpened={sidebarOpened}\r\n              />\r\n              <div className=\"hunter-page-container\">\r\n                <div className=\"hunter-page-title\">\r\n                  <h3>User Manage</h3>\r\n                </div>\r\n                <div className=\"col-sm-8 hunter-mdb-table-container\">\r\n                  <MDBTable btn>\r\n                    <MDBTableHead columns={columns} color=\"dark\"/>\r\n                    <MDBTableBody rows={userlist} className=\"hunter-mdb-table-body\"/>\r\n                  </MDBTable>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </React.Fragment>\r\n      )}\r\n    </BackgroundColorContext.Consumer>\r\n  );\r\n}\r\n\r\nexport default UserManage;\r\n","export const filterPriceData = async (symbol, timeFrame, tradeStartDate, tradeEndDate) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      'symbol': symbol,\r\n      'time_frame': timeFrame,\r\n      'start': tradeStartDate,\r\n      'end': tradeEndDate\r\n    })\r\n  };\r\n\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/api/get_table_candles\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      const candles = []\r\n      data.candles.forEach((x) => {\r\n        candles.push({\r\n          'o': x.o,\r\n          'h': x.h,\r\n          'c': x.c,\r\n          'l': x.l,\r\n          'v': x.v,\r\n          'date': x.date.replace('T', ' '),\r\n        })\r\n      })\r\n      return candles\r\n    })\r\n}\r\n\r\nexport const filterTradesData = async (symbol, macroStrategy, microStrategy, tradeStartDate, tradeEndDate) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      'symbol': symbol,\r\n      'macroStrategy': macroStrategy,\r\n      'microStrategy': microStrategy,\r\n      'tradeStartDate': tradeStartDate,\r\n      'tradeEndDate': tradeEndDate\r\n    })\r\n  };\r\n\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/api/get_data_trades\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      let trades_data = []\r\n      data.trades_data.forEach((x) => {\r\n        trades_data.push({\r\n          'symbol': x.symbol,\r\n          'strategy': `${x.macro_strategy} - ${x.micro_strategy}`,\r\n          'side': x.side,\r\n          'quantity': x.quantity,\r\n          'date': x.date.replace('T', ' '),\r\n          'price': x.price\r\n        })\r\n      })\r\n      return trades_data\r\n    })\r\n}\r\n\r\nexport const getAllSymbols = async () => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      'strategy': 'no_strategy'\r\n    })\r\n  };\r\n  \r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/api/tables\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      let temp_data = []\r\n      data.tables.map((x) => {\r\n        temp_data.push({\r\n          value: x,\r\n          label: x\r\n        });\r\n        return null\r\n      })\r\n      return temp_data\r\n    })\r\n}\r\n\r\nexport const createSignUpLink = async (roles) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      roles: roles,\r\n      link: process.env.REACT_APP_BACKEND_URL + '/signup/'\r\n    })\r\n  };\r\n  let res = []\r\n  await fetch(process.env.REACT_APP_BACKEND_URL + \"/links\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(async data => {\r\n      if (data.success === \"create link\") {\r\n        await fetch(process.env.REACT_APP_BACKEND_URL + \"/links\")\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          res = data\r\n        })\r\n      }\r\n    })  \r\n  return res\r\n}\r\n\r\nexport const getActiveLinks = async () => {\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/links\")\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data;\r\n    })\r\n}\r\n\r\nexport const sendSignUpLink = async (email, link) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      email,\r\n      link\r\n    })\r\n  };\r\n  \r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/send-signup-link\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return true\r\n    })  \r\n}\r\n\r\nexport const forgotPassword = async (email) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      email,\r\n      url: process.env.REACT_APP_BACKEND_URL\r\n    })\r\n  };\r\n  \r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/password_reset/\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })    \r\n}\r\n\r\nexport const getStrategyOptions = async () => {\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/api/get_strategies\")\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })\r\n}\r\n\r\nexport const passwordConfirmReset = async (password1, password2, pathname) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      password1,\r\n      password2,\r\n      pathname: pathname\r\n    })\r\n  };\r\n  \r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/password_reset_confirm/\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })    \r\n}\r\n\r\nexport const getScriptFileNames = async() => {\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/api/get_script_files\")\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })\r\n}\r\n\r\nexport const getModuleTypeNames = async() => {\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/strategy/parameter_list/\")\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })\r\n}\r\n\r\nexport const getFileTypeNames = async(moduleType) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      param_type: moduleType\r\n    })\r\n  };\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/strategy/parameter_detail_list/\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })\r\n}\r\n\r\n\r\n\r\nexport const createScriptFile = async(filename, content, isUpdate) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      filename,\r\n      content,\r\n    })\r\n  };\r\n\r\n  const api = isUpdate ? '/api/update_script_file' : '/api/create_script_file';\r\n\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + api, requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })\r\n}\r\n\r\nexport const getScriptFile = async(filename) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      filename,\r\n    })\r\n  };\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/api/get_script_file\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })\r\n}\r\n\r\n/** User Management Api*/\r\nexport const getUserList = async () => {\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/get_user_list\")\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })\r\n}\r\n\r\nexport const updateUserRole = async (id, role) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      id,\r\n      role\r\n    })\r\n  };\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/update_user_role\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })\r\n}\r\n\r\nexport const deleteUser = async (id) => {\r\n  const requestOptions = {\r\n    method: 'PUT',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      id,\r\n    })\r\n  };\r\n\r\n  return await fetch(process.env.REACT_APP_BACKEND_URL + \"/delete_user/\", requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return data\r\n    })\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport Select from 'react-select'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  Button\r\n} from \"reactstrap\";\r\n// javascript plugin used to create scrollbars on windows\r\nimport PerfectScrollbar from \"perfect-scrollbar\";\r\n\r\n// core components\r\nimport AdminNavbar from \"components/Navbars/AdminNavbar.js\";\r\nimport Sidebar from \"components/Sidebar/Sidebar.js\";\r\n\r\nimport { adminRoutes } from \"routes.js\";\r\n\r\nimport { BackgroundColorContext } from \"contexts/BackgroundColorContext\";\r\nimport { MDBBtn, MDBTable, MDBTableBody, MDBTableHead  } from 'mdbreact';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport { createSignUpLink, getActiveLinks, sendSignUpLink } from 'api/Api';\r\nimport { validateEmail } from 'utils/helper';\r\n\r\nvar ps;\r\n\r\nfunction LinkManage() {\r\n  const history = useHistory();\r\n  const [roles, setRoles] = useState([])\r\n  const [isShowSendModal, setIsShowSendModal] = useState(false)\r\n  const [isShowCreateLinkModal, setShowCreateLinkModal] = useState(false);\r\n  const [isShowSidebar, setShowSidebar] = React.useState(true);\r\n  const location = useLocation();\r\n  const mainPanelRef = React.useRef(null);\r\n  const [sidebarOpened, setsidebarOpened] = React.useState(\r\n    document.documentElement.className.indexOf(\"nav-open\") !== -1\r\n  );\r\n  const [selectedInstance, setSelectedInstance] = React.useState('linkmanage');\r\n  const [selectedLink, setSelectedLink] = useState('')\r\n  const [email, setEmail] = useState('')\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  \r\n  const optionsRole = [\r\n    { value: 'forward_test', label: 'Forward Test' },\r\n    { value: 'stress_test', label: 'Stress Test' },\r\n    { value: 'optimization', label: 'Optimization' },\r\n    { value: 'live_trade', label: 'Live Trade' },\r\n    { value: 'scanner', label: 'Scanner' },\r\n  ]\r\n\r\n  const [user] = useState(JSON.parse(localStorage.getItem('user-info')));\r\n\r\n  useEffect(() => {\r\n    if (!user.is_admin) {\r\n      history.push('/')\r\n    }\r\n  }, [user, history])\r\n  \r\n  React.useEffect(() => {\r\n    if (navigator.platform.indexOf(\"Win\") > -1) {\r\n      document.documentElement.className += \" perfect-scrollbar-on\";\r\n      document.documentElement.classList.remove(\"perfect-scrollbar-off\");\r\n      ps = new PerfectScrollbar(mainPanelRef.current, {\r\n        suppressScrollX: true,\r\n      });\r\n      let tables = document.querySelectorAll(\".table-responsive\");\r\n      for (let i = 0; i < tables.length; i++) {\r\n        ps = new PerfectScrollbar(tables[i]);\r\n      }\r\n    }\r\n    // Specify how to clean up after this effect:\r\n    return function cleanup() {\r\n      if (navigator.platform.indexOf(\"Win\") > -1) {\r\n        ps.destroy();\r\n        document.documentElement.classList.add(\"perfect-scrollbar-off\");\r\n        document.documentElement.classList.remove(\"perfect-scrollbar-on\");\r\n      }\r\n    };\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    const fetchActiveLinks = async () => {\r\n      let links = await getActiveLinks();\r\n      const linklist = links.map(link => {\r\n        return {\r\n          id: link.id,\r\n          link: link.link,\r\n          roles: link.role,\r\n          action: <MDBBtn color=\"blue\" size=\"sm\" onClick={\r\n            () => {\r\n              setSelectedLink(link.link)\r\n              showSendEmailModal()\r\n            }}\r\n          >Send</MDBBtn>\r\n        }\r\n      })\r\n      setLinkList(linklist)\r\n    }\r\n    \r\n    fetchActiveLinks()\r\n  }, [])\r\n\r\n  React.useEffect(() => {\r\n    if (navigator.platform.indexOf(\"Win\") > -1) {\r\n      let tables = document.querySelectorAll(\".table-responsive\");\r\n      for (let i = 0; i < tables.length; i++) {\r\n        ps = new PerfectScrollbar(tables[i]);\r\n      }\r\n    }\r\n    document.documentElement.scrollTop = 0;\r\n    document.scrollingElement.scrollTop = 0;\r\n    if (mainPanelRef.current) {\r\n      mainPanelRef.current.scrollTop = 0;\r\n    }\r\n  }, [location]);\r\n  // this function opens and closes the sidebar on small devices\r\n  const toggleSidebar = () => {\r\n    document.documentElement.classList.toggle(\"nav-open\");\r\n    setsidebarOpened(!sidebarOpened);\r\n  };\r\n  \r\n  const handleSidebarChange = () => {\r\n    setShowSidebar(!isShowSidebar);\r\n  };\r\n\r\n  const getBrandText = (path) => {\r\n    for (let i = 0; i < adminRoutes.length; i++) {\r\n      if (location.pathname.indexOf(adminRoutes[i].layout + adminRoutes[i].path) !== -1) {\r\n        return adminRoutes[i].name;\r\n      }\r\n    }\r\n    return \"Brand\";\r\n  };\r\n\r\n  const handleInstanceChange = (instance) => {\r\n    setSelectedInstance(instance)\r\n  }\r\n\r\n  const handleCreateLinkModalClose = () => {\r\n    setRoles([])\r\n    setShowCreateLinkModal(false)  \r\n  }\r\n\r\n  const handleCreateLinkClick = () => {\r\n    setShowCreateLinkModal(true)\r\n  }\r\n\r\n  const handleRolesChange = (options) => {\r\n    setRoles(options);\r\n  }\r\n\r\n  const handleLinkCreate = async () => {\r\n    let roleValues = ''\r\n    let coma = ''\r\n    roles.forEach(role => {\r\n      roleValues = roleValues + coma + role.value\r\n      coma = ','\r\n    })\r\n    \r\n    setIsLoading(true)\r\n    let links = await createSignUpLink(roleValues);\r\n    setIsLoading(false)\r\n\r\n    const linklist = links.map(link => {\r\n      return {\r\n        id: link.id,\r\n        link: link.link,\r\n        roles: link.role,\r\n        action: <MDBBtn color=\"blue\" size=\"sm\" onClick={\r\n          () => {\r\n            setSelectedLink(link.link)\r\n            showSendEmailModal()\r\n          }}\r\n        >Send</MDBBtn>\r\n      }\r\n    })\r\n\r\n    setLinkList(linklist)\r\n    setShowCreateLinkModal(false)  \r\n  }\r\n  \r\n  const showSendEmailModal = async () => {\r\n    setIsShowSendModal(true);\r\n  }\r\n\r\n  const handleSendEmailModalClose = async () => {\r\n    setIsShowSendModal(false);\r\n  }\r\n\r\n  const handleLinkToEmailSend = async () => {\r\n    if (!validateEmail(email)) {\r\n      alert('Email is invalid')\r\n      return\r\n    }\r\n\r\n    setIsLoading(true)\r\n    await sendSignUpLink(email, selectedLink);\r\n    setIsLoading(false)\r\n\r\n    alert(`sent to ${email} successfully!`)\r\n\r\n    setEmail('')\r\n    setIsShowSendModal(false);\r\n  }\r\n\r\n  const columns= [\r\n    {\r\n      label: '#',\r\n      field: 'id',\r\n    },\r\n    {\r\n      label: 'Link',\r\n      field: 'link',\r\n    },\r\n    {\r\n      label: 'Roles',\r\n      field: 'roles',\r\n    },\r\n    {\r\n      label: 'Action',\r\n      field: 'action',\r\n    }\r\n  ];\r\n  \r\n  const [linklist, setLinkList] = useState()\r\n\r\n  const handleEmailChange = (e) => {\r\n    setEmail(e.target.value)\r\n  }\r\n\r\n  return (\r\n    <BackgroundColorContext.Consumer>\r\n      {({ color, changeColor }) => (\r\n        <React.Fragment>\r\n          <div className=\"wrapper hunter-wrapper\">\r\n          {!isShowSidebar && (\r\n            <Button\r\n              className ={\"show-sidebar-toggle-area show-sidebar-icon\"}\r\n              onClick={handleSidebarChange}\r\n            >\r\n              <i className=\"tim-icons icon-align-left-2\"/>\r\n            </Button>\r\n          )}\r\n          {isShowSidebar && (\r\n              <Sidebar\r\n                isAdminPage={true}\r\n                routes={adminRoutes}\r\n                handleSidebarChange={handleSidebarChange}\r\n                selectedInstance={selectedInstance}\r\n                handleInstanceChange={handleInstanceChange}\r\n              />\r\n            )}\r\n            <Modal show={isShowCreateLinkModal} className=\"hunter-modal\" onHide={handleCreateLinkModalClose}>\r\n              <Modal.Header closeButton>\r\n                <Modal.Title>Create Sign Up link for users</Modal.Title>\r\n              </Modal.Header>\r\n              <Modal.Body>\r\n                <div className=\"select-multi-option\">\r\n                  <Select\r\n                    name=\"filters\"\r\n                    placeholder=\"Roles\"\r\n                    value={roles}\r\n                    onChange={handleRolesChange}\r\n                    options={optionsRole}\r\n                    isMulti={true}\r\n                  />\r\n                </div>\r\n              </Modal.Body>\r\n              <Modal.Footer className=\"hunter-modal-footer\">\r\n                <Button variant=\"primary\" onClick={handleLinkCreate}>\r\n                  Create Link\r\n                </Button>\r\n              </Modal.Footer>\r\n            </Modal>\r\n            <Modal show={isShowSendModal} className=\"hunter-modal\" onHide={handleSendEmailModalClose}>\r\n              <Modal.Header closeButton>\r\n                <Modal.Title>Send the link</Modal.Title>\r\n              </Modal.Header>\r\n              <Modal.Body>\r\n                <div className=\"form-group\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control hunter-form-control\"\r\n                    placeholder=\"Email\"\r\n                    value={email}\r\n                    onChange={(e) => { handleEmailChange(e)} }\r\n                  />\r\n                </div>\r\n              </Modal.Body>\r\n              <Modal.Footer className=\"hunter-modal-footer\">\r\n                <Button variant=\"primary\" onClick={handleLinkToEmailSend} className=\"hunter-flex-button\">\r\n                  {isLoading && (\r\n                    <span className=\"spinner-border spinner-border-sm hunter-spinner-button\" role=\"status\" aria-hidden=\"true\"></span>\r\n                  )}\r\n                  Send\r\n                </Button>\r\n              </Modal.Footer>\r\n            </Modal>\r\n            <div className={`main-panel ${!isShowSidebar ? 'full-width' : ''}`} ref={mainPanelRef} data={color}>\r\n              <AdminNavbar\r\n                brandText={getBrandText(location.pathname)}\r\n                toggleSidebar={toggleSidebar}\r\n                sidebarOpened={sidebarOpened}\r\n              />\r\n              <div className=\"hunter-page-container\">\r\n                <div className=\"hunter-page-title\">\r\n                  <h3>Link Manage</h3>\r\n                </div>\r\n                <div className=\"col-sm-6 hunter-mdb-table-container\">\r\n                  <div className=\"create-button-bar\">\r\n                    <MDBBtn color=\"blue\" size=\"md\" onClick={handleCreateLinkClick}>Create</MDBBtn>                    \r\n                  </div>\r\n                  <MDBTable btn>\r\n                    <MDBTableHead columns={columns} color=\"dark\"/>\r\n                    <MDBTableBody rows={linklist} className=\"hunter-mdb-table-body\"/>\r\n                  </MDBTable>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </React.Fragment>\r\n      )}\r\n    </BackgroundColorContext.Consumer>\r\n  );\r\n}\r\n\r\nexport default LinkManage;","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport Select from 'react-select'\r\nimport { Link } from \"react-router-dom\";\r\nimport \"react-datetime/css/react-datetime.css\";\r\nimport {\r\n  Collapse,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  UncontrolledDropdown,\r\n  NavLink,\r\n  Nav,\r\n} from \"reactstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { MDBDataTableV5 } from 'mdbreact';\r\nimport { useAuth } from 'contexts/authContext';\r\nimport { getAllSymbols, filterPriceData } from 'api/Api'\r\nimport { currentDateString } from 'utils/helper'\r\n\r\nconst PriceDataTable = () => {\r\n  const auth = useAuth();\r\n  const history = useHistory();\r\n  const [collapseOpen,] = React.useState(false)\r\n  const [symbol, setSymbol] = React.useState({value: \"GOOG\", label: \"GOOG\"})\r\n  const [timeFrame, setTimeFrame] = useState({ value: \"1m\", label: \"1m\"});\r\n  const [tradeStartDate, setTradeStartDate] = useState('2021-01-01')\r\n  const [tradeEndDate, setTradeEndDate] = useState(currentDateString())\r\n  const [optionsSymbol, setOptionsSymbol] = useState([])\r\n  const [optionsTimeFrame] = useState([\r\n    { value: \"1m\", label: \"1m\" },\r\n    { value: \"1h\", label: \"1h\" },\r\n    { value: \"1d\", label: \"1d\" }\r\n  ])\r\n\r\n  const hearder_columns = useMemo(() => {\r\n    return [\r\n    {\r\n      label: 'O',\r\n      field: 'o',\r\n      width: 200,\r\n      attributes: {\r\n        'aria-controls': 'DataTable',\r\n        'aria-label': 'symbol',\r\n      },\r\n    },\r\n    {\r\n      label: 'H',\r\n      field: 'h',\r\n      width: 200,\r\n    },\r\n    {\r\n      label: 'C',\r\n      field: 'c',\r\n      width: 200,\r\n    },\r\n    {\r\n      label: 'L',\r\n      field: 'l',\r\n      width: 200,\r\n    },  \r\n    {\r\n      label: 'V',\r\n      field: 'v',\r\n      width: 200,\r\n    },   \r\n    {\r\n      label: 'Date',\r\n      field: 'date',\r\n      sort: 'price',\r\n    },\r\n  ]}, [])\r\n\r\n  const [datatable, setDatatable] = React.useState({\r\n    columns: hearder_columns,\r\n    rows: [\r\n    ],\r\n  });\r\n\r\n  useEffect(() => {\r\n    const getPriceTrades = async (symbol, timeFrame, tradeStartDate, tradeEndDate) => {\r\n      const trades_data = await filterPriceData(symbol, timeFrame, tradeStartDate, tradeEndDate);\r\n      setDatatable({\r\n        columns: hearder_columns,\r\n        rows: trades_data\r\n      })\r\n    }\r\n\r\n    getPriceTrades(symbol.value, timeFrame.value, tradeStartDate, tradeEndDate)\r\n\r\n  }, [symbol, timeFrame, hearder_columns, tradeStartDate, tradeEndDate])\r\n\r\n  useEffect(() => {\r\n      const getSymbols = async () => {\r\n      const res = await getAllSymbols()\r\n      setOptionsSymbol(res)\r\n    }\r\n    getSymbols()\r\n  }, [setOptionsSymbol])\r\n\r\n  const handleSignout = () => {\r\n    auth.signout()\r\n    history.push('/login')\r\n  }\r\n\r\n  const handleSymbolChange = (e) => {\r\n    setSymbol(e)\r\n  }\r\n  \r\n  const handleTimeFrameChange = (e) => {\r\n    setTimeFrame(e)\r\n  }\r\n  \r\n  const handleTradeStartDateChange = (e) => {\r\n    setTradeStartDate(e.target.value)\r\n  }\r\n  \r\n  const handleTradeEndDateChange = (e) => {\r\n    setTradeEndDate(e.target.value)\r\n  }\r\n\r\n  return (\r\n    <div className=\"hunter-chart-container\">\r\n      <nav className=\"navbar navbar-expand navbar-dark bg-dark hunter-nav-bar\">\r\n        <div className=\"logo-title\">\r\n          <a href=\"/chart\" className=\"hunter-navbar-brand\">\r\n            Violette AM - Client Portal\r\n          </a>\r\n        </div>\r\n        <div className=\"navbar-nav mr-auto\">\r\n          <li className=\"nav-item\">\r\n            <Link to={\"/chart\"} className=\"nav-link\"></Link>\r\n          </li>\r\n        </div>\r\n        <Collapse navbar isOpen={collapseOpen}>\r\n            <Nav className=\"ml-auto\" navbar>\r\n              <UncontrolledDropdown nav>\r\n                <DropdownToggle\r\n                  caret\r\n                  color=\"default\"\r\n                  nav\r\n                  onClick={(e) => e.preventDefault()}\r\n                >\r\n                  <div className=\"photo\">\r\n                    <img\r\n                      alt=\"...\"\r\n                      src={require(\"assets/img/anime3.png\").default}\r\n                    />\r\n                  </div>\r\n                  <p className=\"d-lg-none\">Log out</p>\r\n                </DropdownToggle>\r\n                <DropdownMenu className=\"dropdown-navbar\" right tag=\"ul\">\r\n                  {/* <NavLink tag=\"li\">\r\n                    <DropdownItem className=\"nav-item\">Profile</DropdownItem>\r\n                  </NavLink>\r\n                  <NavLink tag=\"li\">\r\n                    <DropdownItem className=\"nav-item\">Settings</DropdownItem>\r\n                  </NavLink> */}\r\n                  <DropdownItem divider tag=\"li\" />\r\n                  <NavLink tag=\"li\">\r\n                    <DropdownItem className=\"nav-item\" onClick={() => {handleSignout()}}>Log out</DropdownItem>\r\n                  </NavLink>\r\n                </DropdownMenu>\r\n              </UncontrolledDropdown>\r\n              <li className=\"separator d-lg-none\" />\r\n            </Nav>\r\n          </Collapse>    \r\n      </nav>\r\n      <div className=\"col-sm-12 hunter-data-table-container\">\r\n        <div className=\"hunter-data-table-title\">\r\n          Price Data Table\r\n        </div>\r\n        <div className=\"hunter-search-filter-area\">\r\n          <div className=\"select-option\">\r\n            <Select\r\n              value={symbol}\r\n              onChange={handleSymbolChange}\r\n              options={optionsSymbol}\r\n              placeholder=\"Symbol\"\r\n            />\r\n          </div>\r\n          <div className=\"select-option\">\r\n            <Select\r\n              value={timeFrame}\r\n              onChange={handleTimeFrameChange}\r\n              options={optionsTimeFrame}\r\n              placeholder=\"Time Frame\"\r\n            />\r\n          </div>\r\n          <div className='input-group date hunter-date-time-picker' id='datetimepicker1'>\r\n            <span>Trade Start Time:</span>\r\n              <input \r\n                type='date'\r\n                className=\"form-control hunter-input\"\r\n                value={tradeStartDate}\r\n                onChange={handleTradeStartDateChange}\r\n              />\r\n              <span className=\"input-group-addon\">\r\n              <span className=\"glyphicon glyphicon-calendar\"></span>\r\n            </span>\r\n          </div>\r\n          <div className='input-group date hunter-date-time-picker' id='datetimepicker2'>\r\n            <span>Trade End Time:</span> \r\n            <input \r\n              type='date'\r\n              className=\"form-control hunter-input\"\r\n              value={tradeEndDate}\r\n              onChange={handleTradeEndDateChange}\r\n            />\r\n            <span className=\"input-group-addon\">\r\n            <span className=\"glyphicon glyphicon-calendar\"></span>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <MDBDataTableV5 \r\n          hover\r\n          maxHeight=\"500px\"\r\n          entriesOptions={[10, 25, 50, 100]}\r\n          entries={10}\r\n          pagesAmount={4}\r\n          data={datatable}\r\n          // searchTop searchBottom={false}\r\n          // bordered={true}\r\n          dark={true}\r\n          noBottomColumns={true}\r\n          small={true}\r\n          striped={true}\r\n          scrollY={true}\r\n        />;\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PriceDataTable;\r\n","import React from \"react\";\r\nimport {\r\n  Button\r\n} from \"reactstrap\";\r\n\r\nimport Sidebar from \"components/Sidebar/Sidebar.js\";\r\nimport PriceDataTable from \"components/Datatable/PriceDataTable\"\r\n\r\nimport { routes } from \"routes.js\";\r\n\r\nimport { BackgroundColorContext } from \"contexts/BackgroundColorContext\";\r\n\r\nfunction PriceData() {\r\n  const [isShowSidebar, setShowSidebar] = React.useState(false);\r\n  const [selectedInstance, setSelectedInstance] = React.useState('trade_data');\r\n  \r\n  const handleSidebarChange = () => {\r\n    setShowSidebar(!isShowSidebar);\r\n  };\r\n\r\n  const handleInstanceChange = (instance) => {\r\n    setSelectedInstance(instance)\r\n  }\r\n  \r\n  return (\r\n    <BackgroundColorContext.Consumer>\r\n      {({ color }) => (\r\n        <React.Fragment>\r\n          <div className=\"wrapper hunter-wrapper\">\r\n          {!isShowSidebar && (\r\n            <Button\r\n              className ={\"show-sidebar-toggle-area show-sidebar-icon\"}\r\n              onClick={handleSidebarChange}\r\n            >\r\n              <i className=\"tim-icons icon-align-left-2\"/>\r\n            </Button>\r\n          )}\r\n          {isShowSidebar && (\r\n              <Sidebar\r\n                isAdminPage={false}\r\n                routes={routes}\r\n                subInstance={'pricedatatable'}\r\n                selectedInstance={selectedInstance}\r\n                handleSidebarChange={handleSidebarChange}\r\n                handleInstanceChange={handleInstanceChange}\r\n              />\r\n            )}\r\n            <div className=\"col-sm-12\">\r\n                <PriceDataTable />\r\n            </div>\r\n          </div>\r\n        </React.Fragment>\r\n      )}\r\n    </BackgroundColorContext.Consumer>\r\n  );\r\n}\r\n\r\nexport default PriceData;","import React, { useCallback, useState, useEffect, useMemo } from \"react\";\r\nimport Select from 'react-select'\r\nimport { Link } from \"react-router-dom\";\r\nimport \"react-datetime/css/react-datetime.css\";\r\nimport {\r\n  Collapse,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  UncontrolledDropdown,\r\n  NavLink,\r\n  Nav,\r\n} from \"reactstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { MDBDataTableV5 } from 'mdbreact';\r\nimport { useAuth } from 'contexts/authContext';\r\nimport { getAllSymbols, filterTradesData } from 'api/Api'\r\nimport { currentDateString } from 'utils/helper'\r\n\r\nconst TradeDataTable = () => {\r\n  const auth = useAuth();\r\n  const history = useHistory();\r\n  const [collapseOpen,] = React.useState(false)\r\n  const [symbol, setSymbol] = React.useState([])\r\n  const [macroStrategy, setMacroStrategy] = useState();\r\n  const [microStrategy, setMicroStrategy] = useState()\r\n  const [tradeStartDate, setTradeStartDate] = useState('2021-01-01')\r\n  const [tradeEndDate, setTradeEndDate] = useState(currentDateString())\r\n  const [strategyList, setStrategyList] = useState([]);\r\n  \r\n  const [optionsStrategy, setOptionsStrategy] = useState([])\r\n  const [optionsMacroStrategy, setOptionsMacroStrategy] = useState([])\r\n\r\n  const [optionsMicroStrategy, setOptionsMicroStrategy] = useState([])\r\n  \r\n  const [optionsSymbol, setOptionsSymbol] = useState([])\r\n\r\n  const hearder_columns = useMemo(() => {\r\n    return [\r\n    {\r\n      label: 'Symbol',\r\n      field: 'symbol',\r\n      width: 150,\r\n      attributes: {\r\n        'aria-controls': 'DataTable',\r\n        'aria-label': 'symbol',\r\n      },\r\n    },\r\n    {\r\n      label: 'Strategy',\r\n      field: 'strategy',\r\n      width: 200,\r\n    },\r\n    {\r\n      label: 'Trade Date',\r\n      field: 'date',\r\n      sort: 'date',\r\n      width: 150,\r\n    },\r\n    {\r\n      label: 'Side',\r\n      field: 'side',\r\n      width: 270,\r\n    },  \r\n    {\r\n      label: 'Quantity',\r\n      field: 'quantity',\r\n      sort: 'quantity',\r\n      width: 100,\r\n    },   \r\n    {\r\n      label: 'Price',\r\n      field: 'price',\r\n      sort: 'price',\r\n      width: 100,\r\n    },\r\n  ]}, [])\r\n\r\n  const [datatable, setDatatable] = React.useState({\r\n    columns: hearder_columns,\r\n    rows: [\r\n    ],\r\n  });\r\n\r\n  const getStrategyList = useCallback(\r\n    () => {\r\n      fetch(process.env.REACT_APP_BACKEND_URL + \"/api/get_strategy_list\")\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          const strategyOptions = data.result.map((o => {\r\n            return {\r\n              value: o.macro,\r\n              label: o.macro,\r\n            }\r\n          }))\r\n          setOptionsStrategy(strategyOptions);\r\n          if (data.result.length) {\r\n            setStrategyList(data.result);\r\n            data.result.forEach((item) => {\r\n              if (item.macro === 'heikfilter') {\r\n                const microStrategyOptions = item.micro.map(o => {\r\n                  return {\r\n                    value: o,\r\n                    label: o,\r\n                  }\r\n                })\r\n                setOptionsMicroStrategy( microStrategyOptions )\r\n                setMicroStrategy(microStrategyOptions[0])\r\n\r\n                const symbolOptions = item.symbols.map(o => {\r\n                  return {\r\n                    value: o,\r\n                    label: o,\r\n                  }\r\n                })\r\n                setOptionsSymbol(symbolOptions)\r\n                // setSymbol(symbolOptions[0])\r\n              }\r\n            })\r\n          }\r\n        })   \r\n    },\r\n    [],\r\n  )\r\n\r\n  useEffect(() => {\r\n    // const getStrategies = async () => {\r\n    //   let options = await getStrategyOptions();\r\n    //   let newOptions = []\r\n    //   if (options.micro_strategy.length) {\r\n    //     options.micro_strategy.forEach((option) => {\r\n    //       newOptions.push({\r\n    //         value: option._id,\r\n    //         label: option._id\r\n    //       })\r\n    //     })\r\n    //     setOptionsMicroStrategy(newOptions)\r\n    //   }\r\n    // }\r\n    // getStrategies();\r\n    getStrategyList()\r\n  }, [getStrategyList])\r\n\r\n  useEffect(() => {\r\n    const get_trades = async (symbol, macroStrat, microStrat, tradeStartDate, tradeEndDate) => {\r\n      const trades_data = await filterTradesData(symbol, macroStrat, microStrat, tradeStartDate, tradeEndDate);\r\n      setDatatable({\r\n        columns: hearder_columns,\r\n        rows: trades_data\r\n      })\r\n    }\r\n\r\n    get_trades(\r\n      symbol ? symbol.value : '',\r\n      macroStrategy ? macroStrategy.value : '',\r\n      microStrategy ? microStrategy.value : '', \r\n      tradeStartDate, tradeEndDate)\r\n  }, [symbol, macroStrategy, microStrategy, hearder_columns, tradeStartDate, tradeEndDate])\r\n\r\n  useEffect(() => {\r\n      const getSymbols = async () => {\r\n      const res = await getAllSymbols()\r\n      setOptionsSymbol(res)\r\n    }\r\n    getSymbols()\r\n  }, [setOptionsSymbol])\r\n\r\n  const handleSignout = () => {\r\n    auth.signout()\r\n    history.push('/login')\r\n  }\r\n\r\n  const handleSymbolChange = (e) => {\r\n    setSymbol(e)\r\n  }\r\n  \r\n  const handleMacroStrategy = (e) => {\r\n    if (e) {\r\n      if (strategyList.length) {\r\n        strategyList.forEach((item) => {\r\n          if (item.macro === e.value) {\r\n            const microStrategyOptions = item.micro.map(o => {\r\n              return {\r\n                value: o,\r\n                label: o,\r\n              }\r\n            })\r\n            setOptionsMicroStrategy( microStrategyOptions )\r\n\r\n            setMicroStrategy(microStrategyOptions[0])\r\n\r\n            const symbolOptions = item.symbols.map(o => {\r\n              return {\r\n                value: o,\r\n                label: o,\r\n              }\r\n            })\r\n            setOptionsSymbol(symbolOptions)\r\n            // setSymbol(symbolOptions[0])\r\n            // setSymbol({value: 'MSFT', label: 'MSFT'})\r\n          }\r\n        })\r\n      }\r\n      setMacroStrategy(e)\r\n    }\r\n\r\n  }\r\n  \r\n  const handleMicroStrategy = (e) => {\r\n    setMicroStrategy(e)\r\n  }\r\n\r\n  const handleTradeStartDateChange = (e) => {\r\n    setTradeStartDate(e.target.value)\r\n  }\r\n  \r\n  const handleTradeEndDateChange = (e) => {\r\n    setTradeEndDate(e.target.value)\r\n  }\r\n\r\n  return (\r\n    <div className=\"hunter-chart-container\">\r\n      <nav className=\"navbar navbar-expand navbar-dark bg-dark hunter-nav-bar\">\r\n        <div className=\"logo-title\">\r\n          <a href=\"/chart\" className=\"hunter-navbar-brand\">\r\n            Violette AM - Client Portal\r\n          </a>\r\n        </div>\r\n        <div className=\"navbar-nav mr-auto\">\r\n          <li className=\"nav-item\">\r\n            <Link to={\"/chart\"} className=\"nav-link\"></Link>\r\n          </li>\r\n        </div>\r\n        <Collapse navbar isOpen={collapseOpen}>\r\n            <Nav className=\"ml-auto\" navbar>\r\n              <UncontrolledDropdown nav>\r\n                <DropdownToggle\r\n                  caret\r\n                  color=\"default\"\r\n                  nav\r\n                  onClick={(e) => e.preventDefault()}\r\n                >\r\n                  <div className=\"photo\">\r\n                    <img\r\n                      alt=\"...\"\r\n                      src={require(\"assets/img/anime3.png\").default}\r\n                    />\r\n                  </div>\r\n                  <p className=\"d-lg-none\">Log out</p>\r\n                </DropdownToggle>\r\n                <DropdownMenu className=\"dropdown-navbar\" right tag=\"ul\">\r\n                  {/* <NavLink tag=\"li\">\r\n                    <DropdownItem className=\"nav-item\">Profile</DropdownItem>\r\n                  </NavLink>\r\n                  <NavLink tag=\"li\">\r\n                    <DropdownItem className=\"nav-item\">Settings</DropdownItem>\r\n                  </NavLink> */}\r\n                  <DropdownItem divider tag=\"li\" />\r\n                  <NavLink tag=\"li\">\r\n                    <DropdownItem className=\"nav-item\" onClick={() => {handleSignout()}}>Log out</DropdownItem>\r\n                  </NavLink>\r\n                </DropdownMenu>\r\n              </UncontrolledDropdown>\r\n              <li className=\"separator d-lg-none\" />\r\n            </Nav>\r\n          </Collapse>    \r\n      </nav>\r\n      <div className=\"col-sm-12 hunter-data-table-container\">\r\n        <div className=\"hunter-data-table-title\">\r\n          Trade Data Table\r\n        </div>\r\n        <div className=\"hunter-search-filter-area\">\r\n          <div className=\"select-option\">\r\n            <Select\r\n              value={symbol}\r\n              onChange={handleSymbolChange}\r\n              options={optionsSymbol}\r\n              placeholder=\"Symbol\"\r\n            />\r\n          </div>\r\n          <div className=\"select-option\">\r\n            <Select\r\n              value={macroStrategy}\r\n              onChange={handleMacroStrategy}\r\n              options={optionsStrategy}\r\n              placeholder=\"Macro Strategy\"\r\n            />\r\n          </div>\r\n          <div className=\"select-option\">\r\n            <Select\r\n              value={microStrategy}\r\n              onChange={handleMicroStrategy}\r\n              options={optionsMicroStrategy}\r\n              placeholder=\"Micro Strategy\"\r\n            />\r\n          </div>\r\n          <div className='input-group date hunter-date-time-picker' id='datetimepicker1'>\r\n            <span>Trade Start Time:</span>\r\n              <input \r\n                type='date'\r\n                className=\"form-control hunter-input\"\r\n                value={tradeStartDate}\r\n                onChange={handleTradeStartDateChange}\r\n              />\r\n              <span className=\"input-group-addon\">\r\n              <span className=\"glyphicon glyphicon-calendar\"></span>\r\n            </span>\r\n          </div>\r\n          <div className='input-group date hunter-date-time-picker' id='datetimepicker2'>\r\n            <span>Trade End Time:</span> \r\n            <input \r\n              type='date'\r\n              className=\"form-control hunter-input\"\r\n              value={tradeEndDate}\r\n              onChange={handleTradeEndDateChange}\r\n            />\r\n            <span className=\"input-group-addon\">\r\n            <span className=\"glyphicon glyphicon-calendar\"></span>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <MDBDataTableV5 \r\n          hover\r\n          maxHeight=\"500px\"\r\n          entriesOptions={[10, 25, 50, 100]}\r\n          entries={10}\r\n          pagesAmount={4}\r\n          data={datatable}\r\n          // searchTop searchBottom={false}\r\n          // bordered={true}\r\n          dark={true}\r\n          noBottomColumns={true}\r\n          small={true}\r\n          striped={true}\r\n          scrollY={true}\r\n        />;\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TradeDataTable;\r\n","import React from \"react\";\r\nimport {\r\n  Button\r\n} from \"reactstrap\";\r\n\r\nimport Sidebar from \"components/Sidebar/Sidebar.js\";\r\nimport TradeDataTable from \"components/Datatable/TradeDataTable\"\r\n\r\nimport { routes } from \"routes.js\";\r\n\r\nimport { BackgroundColorContext } from \"contexts/BackgroundColorContext\";\r\n\r\nfunction TradeData() {\r\n  const [isShowSidebar, setShowSidebar] = React.useState(false);\r\n  const [selectedInstance, setSelectedInstance] = React.useState('trade_data');\r\n  \r\n  const handleSidebarChange = () => {\r\n    setShowSidebar(!isShowSidebar);\r\n  };\r\n\r\n  const handleInstanceChange = (instance) => {\r\n    setSelectedInstance(instance)\r\n  }\r\n  \r\n  return (\r\n    <BackgroundColorContext.Consumer>\r\n      {({ color }) => (\r\n        <React.Fragment>\r\n          <div className=\"wrapper hunter-wrapper\">\r\n          {!isShowSidebar && (\r\n            <Button\r\n              className ={\"show-sidebar-toggle-area show-sidebar-icon\"}\r\n              onClick={handleSidebarChange}\r\n            >\r\n              <i className=\"tim-icons icon-align-left-2\"/>\r\n            </Button>\r\n          )}\r\n          {isShowSidebar && (\r\n              <Sidebar\r\n                isAdminPage={false}\r\n                routes={routes}\r\n                subInstance={'tradedatatable'}\r\n                selectedInstance={selectedInstance}\r\n                handleSidebarChange={handleSidebarChange}\r\n                handleInstanceChange={handleInstanceChange}\r\n              />\r\n            )}\r\n            <div className=\"col-sm-12\">\r\n                <TradeDataTable />\r\n            </div>\r\n          </div>\r\n        </React.Fragment>\r\n      )}\r\n    </BackgroundColorContext.Consumer>\r\n  );\r\n}\r\n\r\nexport default TradeData;","\r\nimport React, { Component } from \"react\";\r\nimport Select from 'react-select'\r\nimport { Editor } from \"react-draft-wysiwyg\";\r\nimport { EditorState, convertToRaw ,convertFromHTML,ContentState} from \"draft-js\";\r\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\r\nimport draftToHtml from \"draftjs-to-html\";\r\nimport { getScriptFile, getModuleTypeNames, getFileTypeNames, createScriptFile } from \"api/Api\";\r\nimport {\r\n  Button\r\n} from \"reactstrap\";\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\n\r\nexport default class TextEditor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      editorState: EditorState.createEmpty(),\r\n      textdata:[\"hello\"],\r\n      scriptfiles: [],\r\n      scriptfile: null,\r\n      selectedFileType: null,\r\n      selectedModuleType: null,\r\n      selectedModuleContents: [],\r\n      filename: '',\r\n      file:[],\r\n      content: null,\r\n      isUpdate: false,\r\n      isShowOpenModal: false,\r\n      isShowSaveModal: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount () {\r\n    this.loadModuleTypes()  \r\n  }\r\n  \r\n  loadModuleTypes = async () => {\r\n    const res = await getModuleTypeNames();\r\n    if (res.success) {\r\n      const moduleTypes = res.result.map(value => {\r\n        return {\r\n          value: value,\r\n          label: value\r\n        }\r\n      })\r\n\r\n      this.setState({\r\n        moduleTypeOptions: moduleTypes,\r\n        selectedModuleType: moduleTypes[0],\r\n        isUpdate: true,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleScriptFileChange = (e) => {\r\n    this.setState({\r\n      selectedFileType: e,\r\n      filename: e.value,\r\n    });\r\n  }\r\n\r\n  handleScriptFileSave = async () => {\r\n    if (!this.state.filename) {\r\n      alert(\"Please input the file name!\")\r\n      return;\r\n    }\r\n\r\n    if (!this.state.content.length) {\r\n      alert(\"File content is empty!\")\r\n      return;\r\n    }\r\n\r\n    const res = await createScriptFile(\r\n      this.state.isUpdate ? this.state.selectedFileType.value : this.state.filename,\r\n      this.state.content,\r\n      this.state.isUpdate\r\n    )\r\n    if (res.success) {\r\n      this.SaveScriptModalClose()\r\n      return;\r\n    }\r\n    alert(res.message);\r\n  }\r\n\r\n  handleScriptFileNameChange = (e) => {\r\n    this.setState({\r\n      filename: e.target.value\r\n    })\r\n  }\r\n\r\n  onEditorStateChange = (editorState) => {\r\n    this.setState({\r\n      editorState,\r\n    });\r\n  };\r\n\r\n  handleScriptFileCreate = async () => {\r\n    this.setState({\r\n      isUpdate: false,\r\n      scriptfiles: null,\r\n      filename: '',\r\n      selectedFileType: null,\r\n      editorState: EditorState.createEmpty(),\r\n    })\r\n  }\r\n  \r\n  handleOpenScriptFile = async () => {\r\n    this.setState({\r\n      isShowOpenModal: true,\r\n      isUpdate: true,\r\n    })    \r\n  }\r\n  \r\n  handleFileTypeChange = async (e) => {\r\n    this.setState({\r\n      selectedFileType: e,\r\n      isUpdate: true,\r\n    })\r\n  }\r\n\r\n  handleModuleTypeChange = async (e) => {\r\n    this.setState({\r\n      selectedModuleType: e,\r\n      isUpdate: true,\r\n    })\r\n\r\n    const res = await getFileTypeNames(e.value);\r\n    if (res.success) {\r\n      const fileTypes = res.result.map(value => {\r\n        return {\r\n          value: value.name,\r\n          label: value.name\r\n        }\r\n      })\r\n\r\n      this.setState({\r\n        selectedModuleContents: res.result,\r\n        fileTypeOptions: fileTypes,\r\n        selectedFileType: fileTypes[0],\r\n        isUpdate: true,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSaveModalShow = async () => {\r\n    this.setState({isShowSaveModal: true})\r\n  }\r\n  \r\n  OpenScriptModalClose = () => {\r\n    this.setState({isShowOpenModal: false})\r\n  }\r\n  \r\n  SaveScriptModalClose = () => {\r\n    this.setState({isShowSaveModal: false})\r\n  }\r\n\r\n  handleScriptFileOpen = async (selectedFileType) => {\r\n    const selectedFile = this.state.selectedModuleContents.filter((file) => file.name === this.state.selectedFileType.value)\r\n    const blocksFromHTML = convertFromHTML(selectedFile[0] ? selectedFile[0].contents : '');\r\n    const blockContent= ContentState.createFromBlockArray(\r\n      blocksFromHTML.contentBlocks,\r\n      blocksFromHTML.entityMap,\r\n    );\r\n    this.setState({\r\n      editorState: EditorState.createWithContent(blockContent),\r\n      scriptfile: selectedFile,\r\n    })\r\n    this.OpenScriptModalClose();\r\n  }\r\n\r\n  handleSave = (content) => {\r\n    this.setState({\r\n      content,\r\n    })\r\n    this.handleSaveModalShow()\r\n  }\r\n\r\n  showFile = async (e) => {\r\n    e.preventDefault()\r\n    let currFile=e.target.files[0]\r\n    const reader = new FileReader()\r\n    reader.onload = async (e) => { \r\n      const text = (e.target.result)\r\n      const blocksFromHTML = convertFromHTML(text);\r\n      const state= ContentState.createFromBlockArray(\r\n        blocksFromHTML.contentBlocks,\r\n        blocksFromHTML.entityMap,\r\n      );\r\n      this.setState({editorState: EditorState.createWithContent(state),file:currFile})\r\n    };\r\n    reader.readAsText(e.target.files[0])\r\n  }\r\n\r\n  render() {\r\n    const { editorState } = this.state;\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"hunter-textedit-container\" > \r\n          <div className=\"hunter-data-table-title\">\r\n            Strategy File Editor\r\n          </div>\r\n          <Editor\r\n            editorState={editorState}\r\n            toolbarClassName=\"toolbarClassName\"\r\n            wrapperClassName=\"wrapperClassName\"\r\n            editorClassName=\"editorClassName\"\r\n            editorStyle={{backgroundColor:\"whitesmoke\"}}\r\n            onEditorStateChange={this.onEditorStateChange}\r\n          />\r\n          <div className=\"display-flex-left\">\r\n            <button className=\"btn btn-md btn-secondary\" onClick={()=>this.handleScriptFileCreate()}>New</button>\r\n            <button className=\"btn btn-md btn-secondary\" onClick={()=>this.handleOpenScriptFile()}>Open</button>\r\n            <button className=\"btn btn-md btn-secondary\" onClick={()=>this.handleSave(draftToHtml(convertToRaw(editorState.getCurrentContent())))}>Save</button>\r\n          </div>\r\n          {/* {this.state.textdata.map((item, index) => <div className=\"container bg-dark mt-2 p-2 rounded text-light\" key={index}>{ item }</div>)} */}\r\n          <Modal show={this.state.isShowOpenModal} className=\"hunter-modal\" onHide={this.OpenScriptModalClose}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Open Script File</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n              <div className=\"hunter-select-module-area\">\r\n                <div className=\"select-multi-option\">\r\n                  <label>select module type</label>\r\n                  <Select\r\n                    className=\"hunter-module-type-select\"\r\n                    name=\"select-module-type\"\r\n                    placeholder=\"Module Type\"\r\n                    value={this.state.selectedModuleType}\r\n                    onChange={this.handleModuleTypeChange}\r\n                    options={this.state.moduleTypeOptions}\r\n                  />\r\n                </div>\r\n                <div className=\"select-multi-option\">\r\n                  <label>select file type</label>\r\n                  <Select\r\n                    name=\"select-file-type\"\r\n                    placeholder=\"File Type\"\r\n                    value={this.state.selectedFileType}\r\n                    onChange={this.handleFileTypeChange}\r\n                    options={this.state.fileTypeOptions}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </Modal.Body>\r\n            <Modal.Footer className=\"hunter-modal-footer\">\r\n              <Button\r\n                variant=\"primary\"\r\n                className=\"btn-md\"\r\n                onClick = {() => {\r\n                  this.handleScriptFileOpen(this.state.selectedFileType)\r\n                }}\r\n              >\r\n                Open\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Modal>\r\n          <Modal show={this.state.isShowSaveModal} className=\"hunter-modal\" onHide={this.SaveScriptModalClose}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Save Script File</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n              <div className=\"hunter-form-group\">\r\n                <input\r\n                    type=\"text\"\r\n                    className=\"form-control hunter-form-control\"\r\n                    placeholder=\"script file name\"\r\n                    value={\r\n                      this.state.filename\r\n                    }\r\n                    onChange={(e) => { this.handleScriptFileNameChange(e)}}\r\n                />\r\n              </div>\r\n            </Modal.Body>\r\n            <Modal.Footer className=\"hunter-modal-footer\">\r\n              <Button variant=\"primary\" onClick={this.handleScriptFileSave} className=\"btn-md\">\r\n                Save\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Modal>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}","import React from 'react'\r\nimport AdminNavbar from \"components/Navbars/AdminNavbar\";\r\nimport { routes } from \"routes.js\";\r\nimport Sidebar from \"components/Sidebar/Sidebar\";\r\nimport TextEditor from 'components/TextEditor/Editor';\r\nimport {\r\n  Button\r\n} from \"reactstrap\";\r\nexport default function FileManager(){\r\n  const [isShowSidebar, setShowSidebar] = React.useState(true);\r\n  const [selectedInstance, setSelectedInstance] = React.useState('forward_test');\r\n  const handleSidebarChange = () => {\r\n    setShowSidebar(!isShowSidebar);\r\n  };\r\n  const handleInstanceChange = (instance) => {\r\n    setSelectedInstance(instance)\r\n}\r\n\r\n  return(\r\n    <React.Fragment>        \r\n      <AdminNavbar/>\r\n      <div className=\"wrapper hunter-wrapper\">\r\n          {!isShowSidebar && (\r\n            <Button\r\n              className ={\"show-sidebar-toggle-area show-sidebar-icon\"}\r\n              onClick={handleSidebarChange}\r\n            >\r\n              <i className=\"tim-icons icon-align-left-2\"/>\r\n            </Button>\r\n          )}\r\n          {isShowSidebar && (\r\n            <Sidebar\r\n              isAdminPage={false}\r\n              routes={routes}\r\n              subInstance={'systemfilemanager'}\r\n              handleSidebarChange={handleSidebarChange}\r\n              selectedInstance={selectedInstance}\r\n              handleInstanceChange={handleInstanceChange}\r\n            />\r\n          )}\r\n          <TextEditor/>\r\n        </div>\r\n    </React.Fragment>\r\n  );  \r\n}","import { createContext } from \"react\";\r\n\r\nexport const themes = {\r\n  dark: \"\",\r\n  light: \"white-content\",\r\n};\r\n\r\nexport const ThemeContext = createContext({\r\n  theme: themes.dark,\r\n  changeTheme: () => {},\r\n});\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { ThemeContext, themes } from \"contexts/ThemeContext\";\r\n\r\nexport default function ThemeContextWrapper(props) {\r\n  const [theme, setTheme] = useState(themes.dark);\r\n\r\n  function changeTheme(theme) {\r\n    setTheme(theme);\r\n  }\r\n\r\n  useEffect(() => {\r\n    switch (theme) {\r\n      case themes.light:\r\n        document.body.classList.add(\"white-content\");\r\n        break;\r\n      case themes.dark:\r\n      default:\r\n        document.body.classList.remove(\"white-content\");\r\n        break;\r\n    }\r\n  }, [theme]);\r\n\r\n  return (\r\n    <ThemeContext.Provider value={{ theme: theme, changeTheme: changeTheme }}>\r\n      {props.children}\r\n    </ThemeContext.Provider>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  BackgroundColorContext,\r\n  backgroundColors,\r\n} from \"contexts/BackgroundColorContext\";\r\n\r\nexport default function BackgroundColorWrapper(props) {\r\n  const [color, setColor] = useState(backgroundColors.blue);\r\n\r\n  function changeColor(color) {\r\n    setColor(color);\r\n  }\r\n\r\n  return (\r\n    <BackgroundColorContext.Provider\r\n      value={{ color: color, changeColor: changeColor }}\r\n    >\r\n      {props.children}\r\n    </BackgroundColorContext.Provider>\r\n  );\r\n}\r\n","import {\r\n  Route,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport { useAuth } from 'contexts/authContext';\r\n\r\nexport default function PrivateRoute({ children, ...rest }) {\r\n  let auth = useAuth();\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) =>\r\n        auth.authUser.isAuthenticated ? (\r\n          children\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/login\",\r\n              state: { from: location }\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n  ","import React, { useState } from \"react\";\r\nimport { useAuth } from 'contexts/authContext'\r\nimport { validateEmail } from 'utils/helper'\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst SignUp = () => {\r\n    let history = useHistory();\r\n\r\n    let auth = useAuth();\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [username, setUserName] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [error, setError] = useState(-1)\r\n    const [message, setMessage] = useState()\r\n    const [password, setPassword] = useState('')\r\n    const [confirmPassword, setConfirmPassword] = useState('')\r\n    const [pathname] = useState(history.location.pathname)\r\n\r\n    const handleEmailChange = (e) => {\r\n        setEmail(e.target.value)\r\n    }\r\n    \r\n    const handlePasswordChange = (e) => {\r\n        setPassword(e.target.value)\r\n    }\r\n    \r\n    const handleConfirmPasswordChange = (e) => {\r\n        setConfirmPassword(e.target.value)\r\n    }\r\n    \r\n    const handleUserNameChange = (e) => {\r\n        setUserName(e.target.value)\r\n    }\r\n\r\n    const signup = async () => {\r\n        if (!username.length) {\r\n            setError(1)\r\n            setMessage('user name is wrong')\r\n            return\r\n        }\r\n        if (!email.length) {\r\n            setError(1)\r\n            setMessage('user email is wrong')\r\n            return\r\n        }\r\n        if (!password.length || !confirmPassword.length) {\r\n            setError(1)\r\n            setMessage('password or confirm password is wrong')\r\n            return\r\n        }\r\n        if (password !== confirmPassword) {\r\n            setError(1)\r\n            setMessage('password and confirm password is not matched')\r\n            return\r\n        }\r\n        if (!validateEmail(email)){\r\n            setError(1)\r\n            setMessage('Invalid email')\r\n            return\r\n        }\r\n        \r\n        setIsLoading(true)\r\n        const res = await auth.authUser.signup(username, email, password, confirmPassword, pathname)\r\n        setIsLoading(false)\r\n\r\n        if (res.success) {\r\n            // setError(0)\r\n            // setMessage('Sign Up is successed')\r\n            history.push('/login')\r\n        } else {\r\n            setError(1)\r\n            setMessage(res.error)\r\n            return\r\n        }\r\n    }\r\n\r\n    const handleModalClose = () => {\r\n        setError(-1);\r\n        setMessage('');\r\n    }\r\n\r\n    return (\r\n        <div className={\"login-form\"}>\r\n            <div>\r\n\r\n                <h3>Sign Up</h3>\r\n\r\n                <div className=\"form-group\">\r\n                    <label>Name</label>\r\n                    <input\r\n                        type=\"name\"\r\n                        className=\"form-control hunter-form-control\"\r\n                        placeholder=\"Enter user name\"\r\n                        value={username}\r\n                        onChange={(e) => { handleUserNameChange(e)}}\r\n                    />\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                    <label>Email</label>\r\n                    <input\r\n                        type=\"email\"\r\n                        className=\"form-control hunter-form-control\"\r\n                        placeholder=\"Enter email\"\r\n                        value={email}\r\n                        onChange={(e) => { handleEmailChange(e)}}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label>Password</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        className=\"form-control hunter-form-control\"\r\n                        placeholder=\"Enter password\"\r\n                        value={password}\r\n                        onChange={(e) => { handlePasswordChange(e)}}\r\n                    />\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                    <label>Confirm Password</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        className=\"form-control hunter-form-control\"\r\n                        placeholder=\"Enter confirm password\"\r\n                        value={confirmPassword}\r\n                        onChange={(e) => { handleConfirmPasswordChange(e)}}\r\n                    />\r\n                </div>\r\n\r\n                <button\r\n                    className=\"btn btn-dark btn-lg btn-block hunter-signin-button\"\r\n                    onClick={signup}\r\n                >\r\n                    {isLoading && (\r\n                        <span className=\"spinner-border spinner-border-sm hunter-spinner-button\" role=\"status\" aria-hidden=\"true\"></span>\r\n                    )}\r\n                    Sign up\r\n                    \r\n                </button>\r\n                <div className=\"form-group\">\r\n                    <p className=\"sign-up-area text-right\">\r\n                        <a href=\"/signin\">Sign In?</a>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            {error !== -1 && \r\n                <div className=\"alert alert-primary\" role=\"alert\">\r\n                    <div className=\"alert-container\">\r\n                        <div className=\"alert-content\">\r\n                            {message}\r\n                        </div>\r\n                        <button type=\"button\" className=\"btn btn-primary modal-close-button hunter-modal-small-button\" onClick={() => { handleModalClose() }}>Close</button>\r\n                    </div>\r\n                </div>   \r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SignUp","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n    useHistory,\r\n} from \"react-router-dom\";\r\nimport { useAuth } from 'contexts/authContext'\r\n\r\nconst Verify = () => {\r\n    let auth = useAuth();\r\n    let history = useHistory();\r\n    const [code, setCode] = useState('')\r\n    const [error, setError] = useState(-1)\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [message, setMessage] = useState('')\r\n    const userId = history.location.state ? history.location.state.userId : null\r\n    \r\n    const handleCodeChange = (e) => {\r\n        setCode(e.target.value)\r\n    }\r\n    \r\n    useEffect(() => {\r\n        if (!userId) {\r\n            history.push('/login')\r\n        }\r\n    }, [userId, history])\r\n\r\n    const verify = async () => {\r\n        if (!code.length) {\r\n            setError(1)\r\n            setMessage('confirmation code is empty')\r\n            return\r\n        }\r\n        setIsLoading(true)\r\n        const res = await auth.authUser.verify(userId, code)\r\n        setIsLoading(false)\r\n        if (res.verify) {\r\n            const userInfo = {\r\n                email: res.user_email,\r\n                role: res.is_admin ? 'forward_test,stress_test,optimization,live_trade,scanner,trade_data' : res.role,\r\n                is_admin: res.is_admin,\r\n            }\r\n            localStorage.setItem('user-info', JSON.stringify(userInfo))\r\n            localStorage.setItem('auth-token', JSON.stringify(res.token))\r\n            history.push('/');\r\n        } else {\r\n            setError(1)\r\n            setMessage(res.error)\r\n            return\r\n        }\r\n    }\r\n\r\n    const handleModalClose = () => {\r\n        setError(-1);\r\n        setMessage('');\r\n    }\r\n\r\n    return (\r\n        <div className={\"login-form\"}>\r\n            <div>\r\n\r\n                <h3>Verify</h3>\r\n\r\n                <div className=\"form-group\">\r\n                    <label>Verify Code</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        className=\"form-control hunter-form-control\"\r\n                        placeholder=\"Enter verify code\"\r\n                        value={code}\r\n                        onChange={(e) => { handleCodeChange(e)}}\r\n                    />\r\n                </div>\r\n\r\n                <button\r\n                    className=\"btn btn-dark btn-lg btn-block hunter-signin-button\"\r\n                    onClick={verify}\r\n                >\r\n                    {isLoading && (\r\n                        <span className=\"spinner-border spinner-border-sm hunter-spinner-button\" role=\"status\" aria-hidden=\"true\"></span>\r\n                    )}\r\n                    Verify\r\n                </button>\r\n            </div>\r\n            {error !== -1 && \r\n                <div class=\"alert alert-primary\" role=\"alert\">\r\n                    <div className=\"alert-container\">\r\n                        <div className=\"alert-content\">\r\n                            {message}\r\n                        </div>\r\n                        <button type=\"button\" className=\"btn btn-primary modal-close-button hunter-modal-small-button\" onClick={() => { handleModalClose() }}>Close</button>\r\n                    </div>\r\n                </div>   \r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Verify","import React, { useState } from \"react\";\r\nimport { validateEmail } from 'utils/helper'\r\nimport { forgotPassword } from 'api/Api'\r\n\r\nconst ForgotPassword = () => {\r\n  const [email, setEmail] = useState('')\r\n  const [error, setError] = useState(-1)\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [message, setMessage] = useState('')\r\n    \r\n  const handleEmailChange = (e) => {\r\n    setEmail(e.target.value)\r\n  }\r\n    \r\n  const handleForgotPassword = async () => {\r\n    if (!validateEmail(email)) {\r\n      setError(1)\r\n      setMessage('Invalid Email!')\r\n      return\r\n    }\r\n    setIsLoading(true)\r\n    let result = await forgotPassword(email)\r\n    setIsLoading(false)\r\n    if ( result.success ) {\r\n      setError(0)\r\n      setMessage('Password is sent to your email')\r\n      return\r\n    }\r\n    setError(1)\r\n    setMessage('Invalid Email!')\r\n    return\r\n  }\r\n\r\n  const handleModalClose = () => {\r\n    setError(-1);\r\n    setMessage('');\r\n  }\r\n\r\n  return (\r\n    <div className={\"login-form\"}>\r\n      <div>\r\n        <h3 className=\"hunter-mb-3\">Forgot Password</h3>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Email</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control hunter-form-control\"\r\n            placeholder=\"Enter email\"\r\n            value={email}\r\n            onChange={(e) => { handleEmailChange(e)}}\r\n          />\r\n        </div>\r\n          <button\r\n            className=\"btn btn-dark btn-lg btn-block hunter-signin-button\"\r\n            onClick={handleForgotPassword}\r\n          >\r\n            {isLoading && (\r\n                <span className=\"spinner-border spinner-border-sm hunter-spinner-button\" role=\"status\" aria-hidden=\"true\"></span>\r\n            )}\r\n            Send\r\n          </button>\r\n          <div className=\"form-group\">\r\n            <p className=\"sign-up-area text-right\">\r\n                <a href=\"/signin\">Sign In?</a>\r\n            </p>\r\n          </div>\r\n      </div>\r\n      {error !== -1 && \r\n        <div class=\"alert alert-primary\" role=\"alert\">\r\n          <div className=\"alert-container\">\r\n            <div className=\"alert-content\">\r\n              {message}\r\n            </div>\r\n            <button type=\"button\" className=\"btn btn-primary modal-close-button hunter-modal-small-button\" onClick={() => { handleModalClose() }}>Close</button>\r\n          </div>\r\n        </div>   \r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ForgotPassword","import React, { useState } from \"react\";\r\nimport { passwordConfirmReset } from 'api/Api'\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst PasswordResetConfirm = () => {\r\n  let history = useHistory();\r\n  const [password1, setPassword1] = useState('')\r\n  const [password2, setPassword2] = useState('')\r\n  const [error, setError] = useState(-1)\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [message, setMessage] = useState('')\r\n\r\n  const [pathname] = useState(history.location.pathname)\r\n\r\n  const handlePassword1Change = (e) => {\r\n    setPassword1(e.target.value)\r\n  }\r\n  \r\n  const handlePassword2Change = (e) => {\r\n    setPassword2(e.target.value)\r\n  }\r\n  \r\n  const delay = ms => new Promise(res => setTimeout(res, ms));\r\n\r\n  const handlePasswordResetConfirm = async () => {\r\n    if (!password1.length || !password2.length) {\r\n      setError(1)\r\n      setMessage('password is empty')\r\n      return\r\n    }\r\n\r\n    if (!password1.length || !password2.length) { \r\n        setError(1)\r\n        setMessage('password did not match')\r\n        return    \r\n    }\r\n\r\n    setIsLoading(true)\r\n    const res = await passwordConfirmReset(password1, password2, pathname)\r\n    setIsLoading(false)\r\n    setError(0)\r\n    if (res.success) {\r\n      setMessage(`success: ${res.content}`)  \r\n      await delay(3000);\r\n      history.push('/login')\r\n    } else {\r\n      setMessage(`error: ${res.content}`)  \r\n    }\r\n    return\r\n  }\r\n\r\n  const handleModalClose = () => {\r\n    setError(-1);\r\n    setMessage('');\r\n  }\r\n\r\n  return (\r\n    <div className={\"login-form\"}>\r\n      <div>\r\n        <h3 className=\"hunter-mb-3\">Forgot Password</h3>\r\n\r\n        <div className=\"form-group\">\r\n          <label>New Password</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control hunter-form-control\"\r\n            placeholder=\"Enter new password\"\r\n            value={password1}\r\n            onChange={(e) => { handlePassword1Change(e)}}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>ConfirmPassword</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control hunter-form-control\"\r\n            placeholder=\"Enter confirm password\"\r\n            value={password2}\r\n            onChange={(e) => { handlePassword2Change(e)}}\r\n          />\r\n        </div>\r\n          <button\r\n            className=\"btn btn-dark btn-lg btn-block hunter-signin-button\"\r\n            onClick={handlePasswordResetConfirm}\r\n          >\r\n            {isLoading && (\r\n                <span className=\"spinner-border spinner-border-sm hunter-spinner-button\" role=\"status\" aria-hidden=\"true\"></span>\r\n            )}\r\n            Reset\r\n          </button>\r\n          <div className=\"form-group\">\r\n            <p className=\"sign-up-area text-right\">\r\n              <a href=\"/signin\">Sign In?</a>\r\n            </p>\r\n          </div>\r\n      </div>\r\n      {error !== -1 && \r\n        <div class=\"alert alert-primary\" role=\"alert\">\r\n          <div className=\"alert-container\">\r\n            <div className=\"alert-content\">\r\n              {message}\r\n            </div>\r\n            <button type=\"button\" className=\"btn btn-primary modal-close-button hunter-modal-small-button\" onClick={() => { handleModalClose() }}>Close</button>\r\n          </div>\r\n        </div>   \r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PasswordResetConfirm","import \"../App.css\";\r\n\r\nimport DataTable, { createTheme } from 'react-data-table-component';\r\nimport styled from \"styled-components\";\r\n\r\nconst StyledCell = styled.div`\r\n  &.above {\r\n    background: green !important;\r\n    text-align: center;\r\n    width: 100%;\r\n    height: 100%;\r\n    line-height: 50px;\r\n    font-size: 20px;\r\n  }\r\n  &.below {\r\n    background: red;\r\n    text-align: center;\r\n    line-height: 50px;\r\n    width: 100%;\r\n    height: 100%;\r\n    font-size: 20px;\r\n  }\r\n  &.aboveText {\r\n    color: green;\r\n    font-size: 20px;\r\n  }\r\n  &.belowText {\r\n    color: red;\r\n    font-size: 20px;\r\n  }\r\n`;\r\n\r\nfunction getOverUnderBoxClass(value) {\r\n    var rawNum = parseFloat(value);\r\n    if (rawNum < 0) return \"below\";\r\n    else if (rawNum >= 0) return \"above\";\r\n    return \"above\";\r\n  }\r\n\r\n  function getOverUnderTextClass(value) {\r\n    var rawNum = parseFloat(value);\r\n    if (rawNum < 0) return \"belowText\";\r\n    else if (rawNum >= 0) return \"aboveText\";\r\n    return \"aboveText\";\r\n  }\r\n\r\nconst columns = [\r\n    {\r\n        name: 'Symbol',\r\n        selector: row => row.symbol,\r\n        sortable: true,\r\n        cell: (row) => (\r\n            <StyledCell className={getOverUnderTextClass(row.change)}>\r\n              {row.symbol}\r\n            </StyledCell>),\r\n    },\r\n    {\r\n        name: 'Description',\r\n        selector: row => row.description,\r\n        style: {\r\n            color: '#ffffff',\r\n            fontSize: '20px',\r\n\t\t},\r\n    },\r\n    {\r\n        name: '%change',\r\n        selector: row => row.change,\r\n        sortable: true,\r\n        cell: (row) => (\r\n            <StyledCell className={getOverUnderBoxClass(row.change)}>\r\n              {row.change}\r\n            </StyledCell>),\r\n        style: {\r\n            color: '#ffffff'\r\n        },\r\n    },\r\n    {\r\n        name: 'RSI',\r\n        selector: row => row.rsi,\r\n        cell: (row) => (\r\n            <StyledCell className={getOverUnderBoxClass(row.rsi)}>\r\n              {row.rsi}\r\n            </StyledCell>\r\n            ),\r\n        style: {\r\n            color: '#ffffff'\r\n        },\r\n    },\r\n];\r\n\r\nconst data = [\r\n    {\r\n        id: 1,\r\n        symbol: 'AAPL',\r\n        description: 'Apple computing corporation',\r\n        change: '+5%',\r\n        rsi: '70',\r\n    },\r\n    {\r\n        id: 2,\r\n        symbol: 'GOOG',\r\n        description: 'Google',\r\n        change: '-5%',\r\n        rsi: '30',\r\n    },\r\n    {\r\n        id: 3,\r\n        symbol: 'AMD',\r\n        description: 'Advanced micro devices',\r\n        change: '+2%',\r\n        rsi: '55',\r\n    },\r\n]\r\n\r\nconst customStyles = {\r\n\tcells: {\r\n\t\tstyle: {\r\n\t\t\tbackgroundColor: '#303030',\r\n            borderStyle: 'none',\r\n\t\t},\r\n\t},\r\n    rows: {\r\n        style: {\r\n            backgroundColor: '#303030',\r\n            borderStyle: 'none',\r\n        }\r\n    },\r\n    header: {\r\n\t\tstyle: {\r\n\t\t\tbackgroundColor: '#303030',\r\n            color: '#ffffff'\r\n\t\t},\r\n\t},\r\n    headRow: {\r\n\t\tstyle: {\r\n\t\t\tbackgroundColor: '#303030',\r\n\t\t},\r\n\t},\r\n    headCells: {\r\n\t\tstyle: {\r\n\t\t\tcolor: '#ffffff',\r\n            fontSize: '24px',\r\n            highlightOnHoverStyle: {\r\n                backgroundColor: '#FFFFFF',\r\n                borderBottomColor: '#FFFFFF',\r\n                borderRadius: '25px',\r\n                outline: '1px solid #FFFFFF',\r\n            },\r\n\t\t},\r\n\t},\r\n    sortFocus: {\r\n\t\tdefault: '#2aa198',\r\n\t},\r\n    divider: {\r\n\t\tdefault: '#fff',\r\n\t},\r\n};\r\n\r\ncreateTheme('whiteHeaders', {\r\n\ttext: {\r\n\t\tprimary: '#fff',\r\n\t},\r\n\tsortFocus: {\r\n\t\tdefault: '#fff',\r\n\t},\r\n});\r\n\r\nfunction Scanner() {\r\n    return (\r\n    <div style={{height:\"100vh\",backgroundColor:\"#303030\"}}>\r\n        <DataTable\r\n            title=\"Equity Scanner\"\r\n            columns={columns}\r\n            data={data}\r\n            customStyles={customStyles}\r\n            theme=\"whiteHeaders\"\r\n        />\r\n    </div>\r\n    );\r\n};\r\n\r\nexport default Scanner;","import React from \"react\";\r\nimport {\r\n  Button\r\n} from \"reactstrap\";\r\n\r\nimport Sidebar from \"components/Sidebar/Sidebar.js\";\r\nimport Scanner from \"components/Scanner\"\r\n\r\nimport { routes } from \"routes.js\";\r\n\r\nimport { BackgroundColorContext } from \"contexts/BackgroundColorContext\";\r\n\r\nfunction TradeScanner() {\r\n  const [isShowSidebar, setShowSidebar] = React.useState(false);\r\n  const [selectedInstance, setSelectedInstance] = React.useState('scanner');\r\n  \r\n  const handleSidebarChange = () => {\r\n    setShowSidebar(!isShowSidebar);\r\n  };\r\n\r\n  const handleInstanceChange = (instance) => {\r\n    setSelectedInstance(instance)\r\n  }\r\n  \r\n  return (\r\n    <BackgroundColorContext.Consumer>\r\n      {({ color }) => (\r\n        <React.Fragment>\r\n          <div className=\"wrapper hunter-wrapper\">\r\n          {!isShowSidebar && (\r\n            <Button\r\n              className ={\"show-sidebar-toggle-area show-sidebar-icon\"}\r\n              onClick={handleSidebarChange}\r\n            >\r\n              <i className=\"tim-icons icon-align-left-2\"/>\r\n            </Button>\r\n          )}\r\n          {isShowSidebar && (\r\n              <Sidebar\r\n                isAdminPage={false}\r\n                routes={routes}\r\n                selectedInstance={selectedInstance}\r\n                handleSidebarChange={handleSidebarChange}\r\n                handleInstanceChange={handleInstanceChange}\r\n              />\r\n            )}\r\n            <div className=\"col-sm-12\">\r\n                <Scanner />\r\n            </div>\r\n          </div>\r\n        </React.Fragment>\r\n      )}\r\n    </BackgroundColorContext.Consumer>\r\n  );\r\n}\r\n\r\nexport default TradeScanner;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\n\r\nimport HomePage from \"layouts/User/HomePage\"\r\nimport Login from \"layouts/User/Login\"\r\nimport AdminLayout from \"layouts/Admin/Admin.js\";\r\nimport UserManage from \"layouts/Admin/UserManage.js\";\r\nimport LinkManage from \"layouts/Admin/LinkManage\";\r\nimport PriceData from \"layouts/User/PriceData\";\r\nimport TradeData from \"layouts/User/TradeData\";\r\n\r\nimport \"assets/scss/black-dashboard-react.scss\";\r\nimport \"assets/demo/demo.css\";\r\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\r\n\r\nimport '@fortawesome/fontawesome-free/css/all.min.css'; \r\nimport'bootstrap-css-only/css/bootstrap.min.css'; \r\nimport 'mdbreact/dist/css/mdb.css';\r\nimport \"./App.css\";\r\nimport \"assets/css/nucleo-icons.css\";\r\n\r\nimport FileManager from \"components/SystemFileManager/FileManager\";\r\nimport ThemeContextWrapper from \"./components/ThemeWrapper/ThemeWrapper\";\r\nimport BackgroundColorWrapper from \"./components/BackgroundColorWrapper/BackgroundColorWrapper\";\r\nimport ProvideAuth from 'contexts/authContext'\r\nimport PrivateRoute from 'layouts/Auth/PrivateRoute'\r\nimport SignUp from 'layouts/User/SignUp'\r\nimport Verify from 'layouts/User/Verify'\r\nimport ForgotPassword from 'layouts/User/ForgotPassword'\r\nimport PasswordResetConfirm from 'layouts/User/PasswordResetConfirm'\r\nimport TradeScanner from 'layouts/User/TradeScanner'\r\n\r\nReactDOM.render(\r\n  <ThemeContextWrapper>\r\n    <BackgroundColorWrapper>\r\n      <ProvideAuth>\r\n        <BrowserRouter>\r\n          <Switch>\r\n            <PrivateRoute path=\"/admin/usermanage\">\r\n              <UserManage />\r\n            </PrivateRoute>\r\n            <PrivateRoute path=\"/admin/linkmanage\">\r\n              <LinkManage />\r\n            </PrivateRoute>\r\n            <PrivateRoute path=\"/admin\">\r\n              <UserManage />\r\n            </PrivateRoute>\r\n            <Route path=\"/login\" render={(props) => <Login {...props} />} />\r\n            <Route path=\"/signup\" render={(props) => <SignUp {...props} />} />\r\n            <Route path=\"/verify\" render={(props) => <Verify {...props} />} />\r\n            <Route path=\"/forgot_password\" render={(props) => <ForgotPassword {...props} />} />\r\n            <Route path=\"/password-reset-confirm/:uuid/:token\" render={(props) => <PasswordResetConfirm {...props} />} />\r\n            <PrivateRoute path=\"/systemfilemanager\">\r\n              <FileManager/>\r\n            </PrivateRoute>\r\n            <PrivateRoute path=\"/scanner\">\r\n              <TradeScanner />\r\n            </PrivateRoute>\r\n            <PrivateRoute path=\"/pricedatatable\">\r\n              <PriceData />\r\n            </PrivateRoute>\r\n            <PrivateRoute path=\"/tradedatatable\">\r\n              <TradeData />\r\n            </PrivateRoute>\r\n            <PrivateRoute path=\"/\">\r\n              <HomePage />\r\n            </PrivateRoute>\r\n          </Switch>\r\n        </BrowserRouter>\r\n      </ProvideAuth>\r\n    </BackgroundColorWrapper>\r\n  </ThemeContextWrapper>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}