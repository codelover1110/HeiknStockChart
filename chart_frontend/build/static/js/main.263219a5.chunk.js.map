{"version":3,"sources":["components/Interactiveutils.js","components/trades-chart/TradesChart.js","components/performance-chart/MultiLineChart.js","components/performance-chart/GroupBarChart.js","components/performance-chart/PerformanceChart.js","components/stock-chart/StockChart.js","components/TimeChart.js","components/ItemChart.js","App.js","reportWebVitals.js","actions/types.js","reducers/tutorials.js","reducers/index.js","store.js","index.js"],"names":["saveInteractiveNodes","type","chartId","node","isNotDefined","interactiveNodes","getInteractiveNodes","this","macdAppearance","stroke","macd","signal","fill","divergence","rsiAppearance","fille","bearPower","CandleStickChartWithEquidistantChannel","props","handleEvents","moreProps","state","handleZoom","hideTextLabel","addTextLable","bind","onKeyPress","onDrawComplete","saveInteractiveNode","saveCanvasNode","handleSelection","enableInteractiveObject","x","y","channels_1","channels_3","valueText","dateText","status","isFullChart","canvasNode","document","addEventListener","subscribe","listener","unsubscribe","removeEventListener","setState","e","formatter","Intl","DateTimeFormat","month","formatterW","weekday","month2","format","datum","date","week2","dateElem","getDate","getFullYear","high","action","interactives","toObject","each","objects","indicator","indicators","filter","value","length","keyCode","which","console","log","selected","cancelDrag","terminate","isHomePage","index","isIncludeIndicators","ema20","ema","id","options","windowSize","merge","d","c","accessor","ema50","longFillProps","algo","accumulator","prev","now","prevShortTerm","prevLongTerm","nowShortTerm","nowLongTerm","longShort","className","classes","deal_green_shadowed","shortFillProps","deal_red_shadowed","fontProps","fontFamily","fontSize","fontWeight","opacity","onClick","elder","yScale","text","tooltip","o","price","rotate","elderRay","ha","heikinAshi","macdCalculator","ema26","ema12","fast","slow","rsiCalculator","rsi","atr14","atr","initialData","data","width","ratio","chartColumn","forEach","line","dayjs","toDate","calculatedData","discontinuousTimeScaleProvider","inputDateAccessor","xScaleProvider","xScale","xAccessor","displayXAccessor","defaultAnnotationProps","longAnnotationProps","low","calculateTooltipOffset0","path","buyPath","shortAnnotationProps","calculateTooltipOffset1","sellPath","start","last","xExtents","period","Math","max","xDisplayFormatProps","xDisplayFormat","timeFormat","SMATooltipProps","valueFill","height","calculateHeight","margin","left","right","top","bottom","seriesName","ref","redraw","yExtents","padding","axisAt","orient","tickStroke","ticks","at","displayFormat","close","open","wickStroke","origin","with","SvgPathAnnotation","when","selectedInstance","strategy","microStrategy","usingProps","volume","w","h","calculateMainHeightOffset","tickFormat","yAccessor","calculateOffset","isHompage","appearance","baseAt","side","yValue","yLabel","yDisplayFormat","enabled","drawingObjectMap","EquidistantChannel","onSelect","CandleChart","rx","ry","CandleChart_type_date","textAnchor","dy","CandleChart_type_value","React","Component","defaultProps","fitWidth","withStyles","borderRadius","textShadow","MultiLineChart","series","getSeries","chart","zoom","dataLabels","curve","title","isPercent","align","style","color","grid","show","xaxis","categories","getCategories","labels","colors","val","opt","moment","utc","datetimeUTC","yaxis","round","axisBorder","legend","position","chartData","map","property","push","name","percent","efficiency","prevProps","getWiningData","isAverage","avgWinning","winning","getLosingData","avgLosing","losing","getSymbols","symbol","optionCreator","toolbar","events","click","event","chartContext","config","states","normal","active","offsetX","offsetY","plotOptions","bar","endingShape","columnWidth","barHeight","horizontalAlign","markers","radius","itemMargin","horizontal","vertical","onItemHover","highlightDataSeries","GroupApexBar","useState","setOptions","setSeries","useEffect","BubbleChart","mainData","multiSymbol","temp","GroupDataMock","scaleLinear","range","domain","extent","scaleOrdinal","schemeCategory10","set","percentEfficiency","winningLosing","winningLosingAvg","StockChart","viewType","selectedTradeDB","chartPeriod","dbname","setDbname","setChartData","get_data","requestOptions","method","headers","body","JSON","stringify","fetch","process","then","response","json","converDate","Date","symbols","PerformanceChart","TutorialsList","history","useHistory","setSymbol","setIndicators","isShowMicro","setIsShowMicro","symbolList","setSymbolList","isGetSymbolList","label","setChartColumn","setSelectedInstance","selectedViewType","setSelectedViewType","setMicroStrategy","setStrategy","optionsMicroStrategy","setOptionsMicroStrategy","optionsStratgy","setOptionsStrategy","get_tables","temp_data","tables","calculateGridColumn","displayChart","href","to","onChange","placeholder","locationState","initStrategy","initMicroStrategy","initIndicators","initSymbol","pathname","isMulti","option","location","instance","setSelectedOptionTable","setMultiSymbol","apiFlag","setApiFlag","App","exact","component","TimeChart","ItemChart","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","CREATE_TUTORIAL","RETRIEVE_TUTORIALS","UPDATE_TUTORIAL","DELETE_TUTORIAL","DELETE_ALL_TUTORIALS","initialState","tutorialReducer","tutorials","payload","tutorial","combineReducers","middleware","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.263219a5.chunk.js","sourcesContent":["import { isNotDefined, isDefined } from \"react-stockcharts/lib/utils\";\r\n\r\nexport function saveInteractiveNode(chartId) {\r\n\treturn node => {\r\n\t\tthis[`node_${chartId}`] = node;\r\n\t};\r\n}\r\n\r\nexport function handleSelection(type, chartId) {\r\n\treturn selectionArray => {\r\n\t\tconst key = `${type}_${chartId}`;\r\n\t\tconst interactive = this.state[key].map((each, idx) => {\r\n\t\t\treturn {\r\n\t\t\t\t...each,\r\n\t\t\t\tselected: selectionArray[idx]\r\n\t\t\t};\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\t[key]: interactive\r\n\t\t});\r\n\t};\r\n}\r\n\r\nexport function saveInteractiveNodes(type, chartId) {\r\n\treturn node => {\r\n\t\tif (isNotDefined(this.interactiveNodes)) {\r\n\t\t\tthis.interactiveNodes = {};\r\n\t\t}\r\n\t\tconst key = `${type}_${chartId}`;\r\n\t\t// // if (isDefined(node) || isDefined(this.interactiveNodes[key])) {\r\n\t\t// // \t// console.error(node, key)\r\n\t\t// // \t// console.log(this.interactiveNodes)\r\n\t\t// // \t// eslint-disable-next-line fp/no-mutation\r\n\t\t// // \tthis.interactiveNodes = {\r\n\t\t// // \t\t...this.interactiveNodes,\r\n\t\t// // \t\t[key]: { type, chartId, node },\r\n\t\t// // \t};\r\n\t\t// }\r\n\t};\r\n}\r\n\r\nexport function getInteractiveNodes() {\r\n\treturn this.interactiveNodes;\r\n}","\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { withStyles } from \"@material-ui/core\";\r\nimport * as d3 from \"d3\";\r\nimport { format } from \"d3-format\";\r\nimport dayjs from \"dayjs\";\r\nimport { timeFormat } from \"d3-time-format\";\r\n\r\nimport { ChartCanvas, Chart } from \"react-stockcharts\";\r\nimport {\r\n\tBarSeries,\r\n\tCandlestickSeries,\r\n\tLineSeries,\r\n\tMACDSeries,\r\n\tStraightLine,\r\n\tRSISeries,\r\n} from \"react-stockcharts/lib/series\";\r\nimport { XAxis, YAxis } from \"react-stockcharts/lib/axes\";\r\nimport {\r\n\tCrossHairCursor,\r\n\tEdgeIndicator,\r\n\tCurrentCoordinate,\r\n\tMouseCoordinateX,\r\n\tMouseCoordinateY,\r\n} from \"react-stockcharts/lib/coordinates\";\r\n\r\nimport { discontinuousTimeScaleProvider } from \"react-stockcharts/lib/scale\";\r\nimport {\r\n\tMovingAverageTooltip,\r\n\tOHLCTooltip,\r\n\tToolTipText,\r\n\tMACDTooltip,\r\n\tSingleValueTooltip,\r\n\tRSITooltip,\r\n} from \"react-stockcharts/lib/tooltip\";\r\nimport { atr, elderRay, ema, macd, heikinAshi, rsi } from \"react-stockcharts/lib/indicator\";\r\nimport { fitWidth } from \"react-stockcharts/lib/helper\";\r\nimport { EquidistantChannel, DrawingObjectSelector } from \"react-stockcharts/lib/interactive\";\r\nimport { last, toObject } from \"react-stockcharts/lib/utils\";\r\nimport {\r\n\tsaveInteractiveNodes,\r\n\tgetInteractiveNodes,\r\n} from \"../Interactiveutils\";\r\nimport {\r\n\tLabel,\r\n\tAnnotate,\r\n\tLabelAnnotation,\r\n\tSvgPathAnnotation,\r\n\tbuyPath,\r\n\tsellPath,\r\n} from \"react-stockcharts/lib/annotation\";\r\nimport algo from \"react-stockcharts/lib/algorithm\";\r\n\r\nconst macdAppearance = {\r\n\tstroke: {\r\n\t\tmacd: \"#FF0000\",\r\n\t\tsignal: \"#00F300\",\r\n\t},\r\n\tfill: {\r\n\t\tdivergence: \"#4682B4\"\r\n\t},\r\n};\r\n\r\nconst rsiAppearance = {\r\n\tstroke: {\r\n\t\tmacd: \"#FF0000\",\r\n\t\tsignal: \"#00F300\",\r\n\t},\r\n\tfille: {\r\n\t\tbearPower: \"#4682B4\"\r\n\t}\r\n};\r\n\r\n// common stock chart\r\nclass CandleStickChartWithEquidistantChannel extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.addTextLable = this.addTextLable.bind(this);\r\n\t\tthis.onKeyPress = this.onKeyPress.bind(this);\r\n\t\tthis.onDrawComplete = this.onDrawComplete.bind(this);\r\n\t\tthis.saveInteractiveNode = this.saveInteractiveNode.bind(this);\r\n\t\tthis.saveCanvasNode = this.saveCanvasNode.bind(this);\r\n\t\tthis.handleSelection = this.handleSelection.bind(this);\r\n\t\t\r\n\t\tthis.saveInteractiveNodes = saveInteractiveNodes.bind(this);\r\n\t\tthis.getInteractiveNodes = getInteractiveNodes.bind(this);\r\n\r\n\t\tthis.state = {\r\n\t\t\tenableInteractiveObject: true,\r\n\t\t\tx: -200,\r\n      \t\ty: -200,\r\n\t\t\tchannels_1: [],\r\n\t\t\tchannels_3: [],\r\n\t\t\tvalueText: \"\",\r\n      \t\tdateText: \"\",\r\n\t\t\tstatus: '',\r\n\t\t\tisFullChart: false,\r\n\t\t};\r\n\t}\r\n\tsaveInteractiveNode(node) {\r\n\t\tthis.node = node;\r\n\t}\r\n\tsaveCanvasNode(node) {\r\n\t\tthis.canvasNode = node;\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tdocument.addEventListener(\"keyup\", this.onKeyPress);\r\n\t\tthis.canvasNode.subscribe(\"CandleStickChartWithEquidistantChannel\", { listener: this.handleEvents });\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\tthis.canvasNode.unsubscribe(\"CandleStickChartWithEquidistantChannel\");\r\n\t\tdocument.removeEventListener(\"keyup\", this.onKeyPress);\r\n\t}\r\n\r\n\thandleEvents = (type, moreProps, state) => {\r\n\t\tif (type === \"zoom\") {\r\n\t\t  this.handleZoom();\r\n\t\t}\r\n\t\tif (type === \"mousedown\") {\r\n\t\t  this.hideTextLabel();\r\n\t\t}\r\n\t};\r\n\r\n\thandleZoom() {\r\n\t\tif (this.state.x !== -200 && this.state.y !== -200) {\r\n\t\t  this.hideTextLabel();\r\n\t\t}\r\n\t}\r\n\r\n\thideTextLabel() {\r\n\t\tthis.setState({\r\n\t\t  x: -200,\r\n\t\t  y: -200\r\n\t\t});\r\n\t}\r\n\r\n\taddTextLable(e) {\r\n\t\tconst formatter = new Intl.DateTimeFormat(\"en\", { month: \"short\" });\r\n\t\tconst formatterW = new Intl.DateTimeFormat(\"en\", { weekday: \"long\" });\r\n\t\tconst month2 = formatter.format(e.datum.date);\r\n\t\tconst week2 = formatterW.format(e.datum.date);\r\n\t\tconst dateElem = `${week2}, ${month2} ${e.datum.date.getDate()}, ${e.datum.date.getFullYear()}`;\r\n\t\tthis.setState({\r\n\t\t\tx: 500,\r\n\t\t\ty: 30,\r\n\t\t\tvalueText: e.datum.high,\r\n\t\t\tdateText: dateElem,\r\n\t\t\tstatus: e.datum.action,\r\n\t\t});\r\n\t\t// this.setState({\r\n\t\t// \tx: +e.xScale(e.datum.date),\r\n\t\t// \ty: +e.yScale(e.datum.high) - 24,\r\n\t\t// \tvalueText: e.datum.high,\r\n\t\t// \tdateText: dateElem\r\n\t\t// });\r\n\t}\r\n\r\n\thandleSelection(interactives) {\r\n\t\tconst state = toObject(interactives, each => {\r\n\t\t\treturn [\r\n\t\t\t\t`channels_${each.chartId}`,\r\n\t\t\t\teach.objects,\r\n\t\t\t];\r\n\t\t});\r\n\t\tthis.setState(state);\r\n\t}\r\n\r\n\tisIncludeIndicators(indicator) {\r\n\t\tif (this.props.indicators) {\r\n\t\t\treturn this.props.indicators.filter((e) => e.value === indicator).length;\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tonDrawComplete(channels_1) {\r\n\t\t// this gets called on\r\n\t\t// 1. draw complete of drawing object\r\n\t\t// 2. drag complete of drawing object\r\n\t\tthis.setState({\r\n\t\t\tenableInteractiveObject: false,\r\n\t\t\tchannels_1\r\n\t\t});\r\n\t}\r\n\tonKeyPress(e) {\r\n\t\tconst keyCode = e.which;\r\n\t\tconsole.log(keyCode);\r\n\t\tswitch (keyCode) {\r\n\t\t\tcase 46: { // DEL\r\n\t\t\t\tconst channels_1 = this.state.channels_1\r\n\t\t\t\t\t.filter(each => !each.selected);\r\n\t\t\t\tconst channels_3 = this.state.channels_3\r\n\t\t\t\t\t.filter(each => !each.selected);\r\n\r\n\t\t\t\tthis.canvasNode.cancelDrag();\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tchannels_1,\r\n\t\t\t\t\tchannels_3,\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 27: { // ESC\r\n\t\t\t\tthis.node.terminate();\r\n\t\t\t\tthis.canvasNode.cancelDrag();\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tenableInteractiveObject: false\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 68:   // D - Draw drawing object\r\n\t\t\tcase 69: { // E - Enable drawing object\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tenableInteractiveObject: true\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcalculateHeight (isFullChart) {\r\n\t\tif (this.props.isHomePage && !isFullChart) {\r\n\t\t\treturn 400;\r\n\t\t}\r\n\t\tlet index = 1\r\n\t\tif (this.props.indicators) {\r\n\t\t\tif (this.props.indicators.length > 1) {\r\n\t\t\t\tindex = this.props.indicators.length\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn 500 + index * 1 * 100\r\n\t}\r\n\r\n\tcalculateOffset (indicator, isFullChart) {\r\n\t\tif (!this.props.isHomePage || isFullChart) {\r\n\t\t\tif (indicator === 'MACD') {\r\n\t\t\t\tif (this.isIncludeIndicators('VOLUME')) {\r\n\t\t\t\t\tif (this.isIncludeIndicators(indicator)) {\r\n\t\t\t\t\t\tif (this.props.indicators.length > 1) {\r\n\t\t\t\t\t\t\treturn this.props.indicators.length * 100 + 50\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn 200;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.isIncludeIndicators(indicator)) {\r\n\t\t\t\t\t\tif (this.props.indicators.length > 1) {\r\n\t\t\t\t\t\t\treturn this.props.indicators.length * 100 + 50\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn 200;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\tif (indicator === 'RSI') {\r\n\t\t\t\t\r\n\t\t\t\tif (this.isIncludeIndicators(indicator)) {\r\n\t\t\t\t\tif (this.isIncludeIndicators('VOLUME')) {\r\n\t\t\t\t\t\tif (this.isIncludeIndicators('SMA')) {\r\n\t\t\t\t\t\t\treturn 350;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn 250;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (this.isIncludeIndicators('SMA')) {\r\n\t\t\t\t\t\t\treturn 250;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn 150;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\tif (indicator === 'SMA') {\r\n\t\t\t\tif (this.isIncludeIndicators('VOLUME')) {\r\n\t\t\t\t\treturn 250;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn 150;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\treturn 0\t\r\n\t\t}\r\n\t\tif (indicator === 'MACD') {\r\n\t\t\tif (this.isIncludeIndicators(indicator)) {\r\n\t\t\t\tif (this.isIncludeIndicators('VOLUME')) {\r\n\t\t\t\t\tif (this.props.indicators.length > 1) {\r\n\t\t\t\t\t\treturn (this.props.indicators.length-1) * 50 + 50\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn 80;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.props.indicators.length > 1) {\r\n\t\t\t\t\t\treturn (this.props.indicators.length) * 50 + 50\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn 80;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (indicator === 'RSI') {\r\n\t\t\tif (this.isIncludeIndicators(indicator)) {\r\n\t\t\t\tif (this.isIncludeIndicators('SMA')) {\r\n\t\t\t\t\treturn 130;\r\n\t\t\t\t}\r\n\t\t\t\treturn 80;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (indicator === 'SMA') {\r\n\t\t\treturn 60;\r\n\t\t}\r\n\r\n\t\treturn 10\r\n\t}\r\n\r\n\tcalculateMainHeightOffset(isFullChart) {\r\n\t\tif (this.props.isHomePage && !isFullChart) {\r\n\t\t\treturn 100 + (this.props.indicators.length - 1) * 50\r\n\t\t}\r\n\t\tif ( this.props.indicators ) {\r\n\t\t\tif (this.props.indicators.length > 1) {\r\n\t\t\t\treturn 300 + (this.props.indicators.length - 1) * 100\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn 300\r\n\t}\r\n\r\n\tcalculateTooltipOffset0(isFullChart) {\r\n\t\treturn 0;\r\n\t\t// if (!this.props.isHomePage || isFullChart) {\r\n\t\t// \treturn 0;\r\n\t\t// }\r\n\t\t// if ( this.props.indicators ) {\r\n\t\t// \tif (this.props.indicators.length > 1) {\r\n\t\t// \t\treturn 0\r\n\t\t// \t}\r\n\t\t// }\r\n\t\t// return 0\r\n\t}\r\n\t\r\n\tcalculateTooltipOffset1(isFullChart) {\r\n\t\treturn 0;\r\n\t\t// if (!this.props.isHomePage || isFullChart) {\r\n\t\t// \treturn 0;\r\n\t\t// }\r\n\t\t// if ( this.props.indicators ) {\r\n\t\t// \tif (this.props.indicators.length > 1) {\r\n\t\t// \t\treturn 0\r\n\t\t// \t}\r\n\t\t// }\r\n\t\t// return 0\r\n\t}\r\n\r\n\t// computeAnnotation(dateLine) {\r\n\t// \tconst deal = this.props.deals.filter(\r\n\t// \t\tdealLine => {\r\n\t// \t\t\treturn dateLine.date.getTime() === dealLine.ddate.getTime()\r\n\t// \t\t}\r\n\t// \t\t);\r\n\t\t\t\r\n\t// \tif (deal.length > 0) {\r\n\t// \t\treturn deal[0].action;\r\n\t// \t}\r\n\t// }\r\n\r\n\trender() {\r\n\r\n\t\tconst ema20 = ema()\r\n\t\t\t.id(0)\r\n\t\t\t.options({ windowSize: 13 })\r\n\t\t\t.merge((d, c) => { d.ema20 = c; })\r\n\t\t\t.accessor(d => d.ema20);\r\n\r\n\t\tconst ema50 = ema()\r\n\t\t\t.id(2)\r\n\t\t\t.options({ windowSize: 50 })\r\n\t\t\t.merge((d, c) => { d.ema50 = c; })\r\n\t\t\t.accessor(d => d.ema50);\r\n\r\n\t\tconst buySell = algo()\r\n\t\t\t.windowSize(2)\r\n\t\t\t.accumulator(([prev, now]) => {\r\n\t\t\t\tconst { ema20: prevShortTerm, ema50: prevLongTerm } = prev;\r\n\t\t\t\tconst { ema20: nowShortTerm, ema50: nowLongTerm } = now;\r\n\t\t\t\tif (prevShortTerm < prevLongTerm && nowShortTerm > nowLongTerm) return \"LONG\";\r\n\t\t\t\tif (prevShortTerm > prevLongTerm && nowShortTerm < nowLongTerm) return \"SHORT\";\r\n\t\t\t})\r\n\t\t\t.merge((d, c) => { d.longShort = c; });\r\n\r\n\t\tconst actionStateNames = {\r\n\t\t\tbuy: \"BUY\",\r\n\t\t\tsell: \"SELL\"\r\n\t\t};\r\n\r\n\t\tconst longFillProps = {\r\n\t\t\tstroke: \"#22a46e\",\r\n\t\t\tfill: \"#22a46e\",\r\n\t\t\tclassName: this.props.classes.deal_green_shadowed\r\n\t\t  };\r\n\t  \r\n\t\t  const shortFillProps = {\r\n\t\t\tstroke: \"#cc4060\",\r\n\t\t\tfill: \"#cc4060\",\r\n\t\t\tclassName: this.props.classes.deal_red_shadowed\r\n\t\t  };\r\n\t  \r\n\t\t  const fontProps = {\r\n\t\t\tfontFamily: \"Material Icons\",\r\n\t\t\tfontSize: 24,\r\n\t\t\tfontWeight: \"normal\",\r\n\t\t\topacity: 1,\r\n\t\t\tonClick: this.addTextLable\r\n\t\t  };\r\n\t  \r\n\t\tconst yOpenProps = {\r\n\t\ty: ({ yScale, datum }) => yScale(datum.high * 1.04 - 100)\r\n\t\t};\r\n\t  \r\n\t\tconst yCloseProps = {\r\n\t\ty: ({ yScale, datum }) => yScale(datum.high * 1.04 - 100)\r\n\t\t};\r\n\t  \r\n\t\tconst buyTooltipProps = {\r\n\t\t\ttooltip: (o) => {\r\n\t\t\t\treturn `Buy: ${o.date} \\n Price: ${o.price}`\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tconst sellTooltipProps = {\r\n\t\t\ttooltip: (o) => {\r\n\t\t\t\treturn `Sell: ${o.date}\\nPrice: ${o.price}`\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst buy = {\r\n\t\t\t...longFillProps,\r\n\t\t\t...fontProps,\r\n\t\t\t...yOpenProps,\r\n\t\t\ttext: \"\\u25B2\",\r\n\t\t\t...buyTooltipProps,\r\n\t\t\trotate: 180\r\n\t\t};\r\n\t  \r\n\t\t  const sell = {\r\n\t\t\t...shortFillProps,\r\n\t\t\t...fontProps,\r\n\t\t\t...yCloseProps,\r\n\t\t\t...sellTooltipProps,\r\n\t\t\ttext: \"\\u25B2\",\r\n\t\t\trotate: 180\r\n\t\t};\r\n\r\n\t\tconst elder = elderRay();\r\n\t\tconst ha = heikinAshi();\r\n\t\tconst ema26 = ema()\r\n\t\t\t.id(0)\r\n\t\t\t.options({ windowSize: 26 })\r\n\t\t\t.merge((d, c) => { d.ema26 = c; })\r\n\t\t\t.accessor(d => d.ema26);\r\n\r\n\t\tconst ema12 = ema()\r\n\t\t\t.id(1)\r\n\t\t\t.options({ windowSize: 12 })\r\n\t\t\t.merge((d, c) => { d.ema12 = c; })\r\n\t\t\t.accessor(d => d.ema12);\r\n\r\n\t\tconst macdCalculator = macd()\r\n\t\t\t.options({\r\n\t\t\t\tfast: 12,\r\n\t\t\t\tslow: 26,\r\n\t\t\t\tsignal: 9,\r\n\t\t\t})\r\n\t\t\t.merge((d, c) => { d.macd = c; })\r\n\t\t\t.accessor(d => d.macd);\r\n\r\n\t\tconst rsiCalculator = rsi()\r\n\t\t.options({ windowSize: 14 })\r\n\t\t.merge((d, c) => {d.rsi = c;})\r\n\t\t.accessor(d => d.rsi);\r\n\t\t\t\r\n\t\tconst atr14 = atr()\r\n\t\t.options({ windowSize: 14 })\r\n\t\t.merge((d, c) => {d.atr14 = c;})\r\n\t\t.accessor(d => d.atr14);\t\r\n\r\n\t\tconst { type, data: initialData, width, ratio, indicators, chartColumn } = this.props;\r\n\r\n\t\tconst isFullChart = (chartColumn === 1 || chartColumn === 2);\r\n\r\n\t\tconst { channels_1 } = this.state;\r\n\r\n\t\t// this.props.deals.forEach(deal => {\r\n\t\t// \tdeal.ddate = new Date(dayjs(deal.ddate).format());\r\n\t\t// });\t\r\n\r\n\t\tinitialData.forEach(line => {\r\n\t\t\tline.date = dayjs(line.date).toDate();\r\n\t\t  });\r\n\r\n\t\tconst margin = { left: 80, right: 80, top: 30, bottom: 50 };  \r\n\r\n\t\tconst height = 400;\r\n\r\n\t\tconst [yAxisLabelX, yAxisLabelY] = [width - margin.left - 40, margin.top + (height - margin.top - margin.bottom) / 2];\r\n\t\t\r\n\t\tconst calculatedData = macdCalculator((elder(ha(rsiCalculator(atr14(initialData))))));\r\n\t\t\r\n\t\tconst xScaleProvider = discontinuousTimeScaleProvider\r\n\t\t\t.inputDateAccessor(d => d.date);\r\n\t\tconst {\r\n\t\t\tdata,\r\n\t\t\txScale,\r\n\t\t\txAccessor,\r\n\t\t\tdisplayXAccessor,\r\n\t\t} = xScaleProvider(calculatedData);\r\n\r\n\r\n\t\tconst defaultAnnotationProps = {\r\n\t\t\tonClick: console.log.bind(console),\r\n\t\t};\r\n\r\n\t\tconst longAnnotationProps = {\r\n\t\t\t...defaultAnnotationProps,\r\n\t\t\ty: ({ yScale, datum }) => { return yScale(datum.low) - this.calculateTooltipOffset0(isFullChart) },\r\n\t\t\tfill: \"#006517\",\r\n\t\t\tpath: buyPath,\r\n\t\t\ttooltip: (e) => `Buy: ${e.price}`,\r\n\t\t};\r\n\r\n\t\tconst shortAnnotationProps = {\r\n\t\t\t...defaultAnnotationProps,\r\n\t\t\ty: ({ yScale, datum }) => { return yScale(datum.high) - this.calculateTooltipOffset1(isFullChart)},\r\n\t\t\tfill: \"#FF0000\",\r\n\t\t\tpath: sellPath,\r\n\t\t\ttooltip: (e) => `Sell: ${e.price}`,\r\n\t\t};\r\n\r\n\t\tconst start = xAccessor(last(data));\r\n\t\tconst periodIndex = this.props.period === 'heikfilter-2mins-trades' \r\n\t\t\t? 15\r\n\t\t\t: this.props.period === 'heikfilter-12mins-trades'\r\n\t\t\t? 30\r\n\t\t\t: this.props.period === 'heikfilter-1hour-trades'\r\n\t\t\t? 90\r\n\t\t\t: this.props.period === 'heikfilter-4hours-trades'\r\n\t\t\t? 200\r\n\t\t\t: this.props.period === 'heikfilter-12hours-trades'\r\n\t\t\t? 200 : 1000\r\n\t\t\r\n\t\t// const end = xAccessor(data[Math.max(0, data.length - periodIndex)]);\r\n\t\tconst end = xAccessor(data[Math.max(0, data.length - 150)]);\r\n\t\tconst xExtents = [start, end];\r\n\t\t// console.log(\"this.props.data.length\", this.props.data[1000].date)\r\n\t\t// const xExtents = [\r\n\t\t// \tthis.props.data[0].date,\r\n\t\t// \tthis.props.data[this.props.data.length-1].date\r\n\t\t// ];\r\n\t\t// console.log(\"xExtents\", last(data).date, data[Math.max(0, data.length - 150)].date)\r\n\t\t// console.log(\"xExtents1\", this.props.data[0].date, this.props.data[this.props.data.length - 1].date)\r\n\t\t\r\n\t\tconst xDisplayFormatProps = {\r\n\t\t\txDisplayFormat: timeFormat(\"%Y-%m-%d-%H-%M-%S\"),\r\n\t\t}\r\n\r\n\t\tconst RSIStrokeDashArray = {\r\n\t\t\topacity: {\r\n\t\t\t\ttop: 0,\r\n\t\t\t\tmiddle: 0,\r\n\t\t\t\tbottom: 0\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst SMATooltipProps = {\r\n\t\t\tvalueFill: '#ffffff'\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<ChartCanvas\r\n\t\t\t\theight={this.calculateHeight(isFullChart)}\r\n\t\t\t\twidth={width}\r\n\t\t\t\tratio={ratio}\r\n\t\t\t\tmargin={{ left: 70, right: 70, top: 20, bottom: 30 }}\r\n\t\t\t\ttype={type}\r\n\t\t\t\tseriesName=\"MSFT\"\r\n\t\t\t\tdata={data}\r\n\t\t\t\txExtents={xExtents}\r\n\t\t\t\txScale={xScale}\r\n\t\t\t\tdisplayXAccessor={displayXAccessor}\r\n\t\t\t\txAccessor={xAccessor}\r\n\t\t\t\tref={node => {\r\n\t\t\t\t\tthis.canvasNode = node;\r\n\t\t\t\t}}\r\n\t\t\t\tredraw={true}\r\n\t\t\t>\r\n\t\t\t\t<Chart id={1}\r\n\t\t\t\t\theight={\r\n\t\t\t\t\t\t(!this.props.isHomePage || isFullChart)\r\n\t\t\t\t\t\t? this.isIncludeIndicators('VOLUME') || this.props.indicators.length ? 250 : 400\r\n\t\t\t\t\t\t: 300 - this.props.indicators.length * 50\r\n\t\t\t\t\t}\r\n\t\t\t\t\tyExtents={[d => [d.high, d.low], ema20.accessor(), ema50.accessor()]}\r\n\t\t\t\t\tpadding={{ top: 10, bottom: 20 }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\"  stroke=\"white\" tickStroke=\"white\" />\r\n\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" ticks={5} stroke=\"white\" tickStroke=\"white\" />\r\n\r\n\t\t\t\t\t<MouseCoordinateX\r\n\t\t\t\t\t\tat=\"bottom\"\r\n\t\t\t\t\t\torient=\"bottom\"\r\n\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\r\n\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\tat=\"right\"\r\n\t\t\t\t\t\torient=\"right\"\r\n\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\r\n\r\n\t\t\t\t\t<CandlestickSeries \r\n\t\t\t\t\t\tstroke={d => d.close > d.open ? \"#6BA583\" : \"#DB0000\"}\r\n\t\t\t\t\t\twickStroke={d => d.close > d.open ? \"#6BA583\" : \"#DB0000\"}\r\n\t\t\t\t\t\tfill={d => d.close > d.open ? \"#6BA583\" : \"#DB0000\"}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t{/* <EdgeIndicator itemType=\"last\" orient=\"right\" edgeAt=\"right\"\r\n\t\t\t\t\t\tyAccessor={d => d.close} fill={d => d.close > d.open ? \"#6BA583\" : \"#FF0000\"}/> */}\r\n\r\n\t\t\t\t\t<OHLCTooltip \r\n\t\t\t\t\t\torigin={[-40, 0]}\r\n\t\t\t\t\t\t{...xDisplayFormatProps}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Annotate with={SvgPathAnnotation} when={ d => \r\n\t\t\t\t\t\tthis.props.selectedInstance !== 'live_trading'  \r\n\t\t\t\t\t\t&& d.strategy === this.props.microStrategy\r\n\t\t\t\t\t\t&& d.longShort === \"LONG\" }\r\n\t\t\t\t\t\tusingProps={longAnnotationProps} />\r\n\t\t\t\t\t<Annotate with={SvgPathAnnotation} when={d => \r\n\t\t\t\t\t\tthis.props.selectedInstance !== 'live_trading' \r\n\t\t\t\t\t\t&& d.strategy === this.props.microStrategy\r\n\t\t\t\t\t\t&& d.longShort === \"SHORT\"}\r\n\t\t\t\t\t\tusingProps={shortAnnotationProps} />\r\n\r\n\t\t\t\t</Chart>\r\n\t\t\t\t{this.isIncludeIndicators('VOLUME') && (\r\n\t\t\t\t\t<Chart id={2} height={(!this.props.isHomePage || isFullChart) ? 100 : 50}\r\n\t\t\t\t\t\tyExtents={[d => d.volume]}\r\n\t\t\t\t\t\torigin={(w, h) => [0, h - this.calculateMainHeightOffset(isFullChart)]}\r\n\t\t\t\t\t\tpadding={{ top: 10, bottom: 10 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" stroke=\"white\" tickStroke=\"white\" />\r\n\t\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" ticks={5} tickFormat={format(\".2s\")} stroke=\"white\" tickStroke=\"white\" />\r\n\r\n\t\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\t\tat=\"left\"\r\n\t\t\t\t\t\t\torient=\"left\"\r\n\t\t\t\t\t\t\tdisplayFormat={format(\".4s\")} />\r\n\r\n\t\t\t\t\t\t<BarSeries yAccessor={d => d.volume} fill={d => d.close > d.open ? \"#6BA583\" : \"#FF0000\"} />\r\n\t\t\t\t\t</Chart>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.isIncludeIndicators('MACD') && (\r\n\t\t\t\t\t<Chart id={3} \r\n\t\t\t\t\t\theight={(!this.props.isHomePage || isFullChart) ? 100 : 70}\r\n\t\t\t\t\t\tyExtents={macdCalculator.accessor()}\r\n\t\t\t\t\t\torigin={(w, h) => [0, h - this.calculateOffset('MACD', isFullChart)]} padding={{ top: 30, bottom: 10 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" stroke=\"white\" tickStroke=\"white\" />\r\n\t\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" ticks={2} stroke=\"white\" tickStroke=\"white\" />\r\n\r\n\t\t\t\t\t\t<MouseCoordinateX\r\n\t\t\t\t\t\t\tat=\"bottom\"\r\n\t\t\t\t\t\t\torient=\"bottom\"\r\n\t\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\r\n\t\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\t\tat=\"right\"\r\n\t\t\t\t\t\t\torient=\"right\"\r\n\t\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\r\n\r\n\t\t\t\t\t\t<MACDSeries yAccessor={d => d.macd}\r\n\t\t\t\t\t\t\t{...macdAppearance} />\r\n\t\t\t\t\t\t<MACDTooltip\r\n\t\t\t\t\t\t\torigin={[-38, this.props.isHompage ? 20 : 30]}\r\n\t\t\t\t\t\t\tyAccessor={d => d.macd}\r\n\t\t\t\t\t\t\toptions={macdCalculator.options()}\r\n\t\t\t\t\t\t\tappearance={macdAppearance}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Chart>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.isIncludeIndicators('RSI') && (\r\n\t\t\t\t\t<Chart id={4} \r\n\t\t\t\t\t\theight={(!this.props.isHomePage || isFullChart) ? 100 : 70}\r\n\t\t\t\t\t\tyExtents={[0, d => elder.accessor()(d) && elder.accessor()(d).bearPower]}\r\n\t\t\t\t\t\torigin={(w, h) => [0, h - this.calculateOffset('RSI', isFullChart)]}\r\n\t\t\t\t\t\tpadding={{ top: 40, bottom: 10 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" stroke=\"white\" tickStroke=\"white\" />\r\n\t\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" stroke=\"white\" tickStroke=\"white\" ticks={4} tickFormat={format(\".2f\")}/>\r\n\t\t\t\t\t\t<MouseCoordinateX\r\n\t\t\t\t\t\t\tat=\"bottom\"\r\n\t\t\t\t\t\t\torient=\"bottom\"\r\n\t\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\r\n\t\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\t\tat=\"right\"\r\n\t\t\t\t\t\t\torient=\"right\"\r\n\t\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\r\n\t\t\t\t\t\t<BarSeries\r\n\t\t\t\t\t\t\tyAccessor={d => elder.accessor()(d) && elder.accessor()(d).bearPower}\r\n\t\t\t\t\t\t\tbaseAt={(xScale, yScale, d) => yScale(0)}\r\n\t\t\t\t\t\t\tfill={d => d.side === 'buy' ? '#800080' : d.side === 'sell' ? '#FFA500' : d.side === 'hold' ? '#00FF00' : '#FF0000'} />\r\n\t\t\t\t\t\t<StraightLine yValue={0} />\r\n\r\n\t\t\t\t\t\t<SingleValueTooltip\r\n\t\t\t\t\t\t\tyAccessor={d => elder.accessor()(d) && elder.accessor()(d).bearPower}\r\n\t\t\t\t\t\t\tyLabel=\"RSI - Bear power\"\r\n\t\t\t\t\t\t\tyDisplayFormat={format(\".2f\")}\r\n\t\t\t\t\t\t\tappearance={rsiAppearance}\r\n\t\t\t\t\t\t\t{...SMATooltipProps}\r\n\t\t\t\t\t\t\torigin={[-40, this.props.isHompage ? 40 : 25]}/>\r\n\t\t\t\t\t</Chart>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.isIncludeIndicators('SMA') && (\r\n\t\t\t\t\t<Chart id={5} \r\n\t\t\t\t\t\theight={(!this.props.isHomePage || isFullChart) ? 100 : 70}\r\n\t\t\t\t\t\tyExtents={[0, d => elder.accessor()(d) && elder.accessor()(d).bearPower]}\r\n\t\t\t\t\t\torigin={(w, h) => [0, h - this.calculateOffset('SMA', isFullChart)]}\r\n\t\t\t\t\t\tpadding={{ top: 30, bottom: 10 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" stroke=\"white\" tickStroke=\"white\"/>\r\n\t\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" stroke=\"white\" tickStroke=\"white\" ticks={4} tickFormat={format(\".2f\")}/>\r\n\t\t\t\t\t\t<MouseCoordinateX\r\n\t\t\t\t\t\t\tat=\"bottom\"\r\n\t\t\t\t\t\t\torient=\"bottom\"\r\n\t\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\r\n\t\t\t\t\t\t<MouseCoordinateY\r\n\t\t\t\t\t\t\tat=\"right\"\r\n\t\t\t\t\t\t\torient=\"right\"\r\n\t\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\r\n\t\t\t\t\t\t<BarSeries\r\n\t\t\t\t\t\t\tyAccessor={d => elder.accessor()(d) && elder.accessor()(d).bearPower}\r\n\t\t\t\t\t\t\tbaseAt={(xScale, yScale, d) => yScale(0)}\r\n\t\t\t\t\t\t\tfill=\"#FF0000\" />\r\n\t\t\t\t\t\t<StraightLine yValue={0} />\r\n\r\n\t\t\t\t\t\t<SingleValueTooltip\r\n\t\t\t\t\t\t\tyAccessor={d => elder.accessor()(d) && elder.accessor()(d).bearPower}\r\n\t\t\t\t\t\t\tyLabel=\"SMA - Bear power\"\r\n\t\t\t\t\t\t\tyDisplayFormat={format(\".2f\")}\r\n\t\t\t\t\t\t\torigin={[-40, this.props.isHompage ? 30 : 20]}\r\n\t\t\t\t\t\t\t{...SMATooltipProps}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Chart>\r\n\t\t\t\t)}\r\n\t\t\t\t<CrossHairCursor />\r\n\t\t\t\t<DrawingObjectSelector\r\n\t\t\t\t\tenabled={!this.state.enableInteractiveObject}\r\n\t\t\t\t\tgetInteractiveNodes={this.getInteractiveNodes}\r\n\t\t\t\t\tdrawingObjectMap={{\r\n\t\t\t\t\t\tEquidistantChannel: \"channels\"\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonSelect={this.handleSelection}\r\n\t\t\t\t/>\r\n\t\t\t{(!this.props.isHomePage || isFullChart) && \r\n\t\t\t\t<g>\r\n\t\t\t\t\t<rect\r\n\t\t\t\t\t\tclassName={this.props.classes.CandleChart}\r\n\t\t\t\t\t\tx={this.state.x - 100}\r\n\t\t\t\t\t\ty={this.state.y - 50}\r\n\t\t\t\t\t\twidth=\"200\"\r\n\t\t\t\t\t\theight=\"50\"\r\n\t\t\t\t\t\tstroke=\"#3D4977\"\r\n\t\t\t\t\t\tfill=\"#3D4977\"\r\n\t\t\t\t\t\trx=\"2\"\r\n\t\t\t\t\t\try=\"2\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ToolTipText x={this.state.x} y={this.state.y}>\r\n\t\t\t\t\t\t<tspan\r\n\t\t\t\t\t\tclassName={this.props.classes.CandleChart_type_date}\r\n\t\t\t\t\t\tx={this.state.x}\r\n\t\t\t\t\t\ttextAnchor=\"middle\"\r\n\t\t\t\t\t\tdy=\"-1em\"\r\n\t\t\t\t\t\tfill={\"#fff\"}\r\n\t\t\t\t\t\tonClick={this.hideTextLabel.bind(this)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t{this.state.dateText}\r\n\t\t\t\t\t\t{this.state.status}\r\n\t\t\t\t\t\t</tspan>\r\n\t\t\t\t\t\t<tspan\r\n\t\t\t\t\t\tclassName={this.props.classes.CandleChart_type_value}\r\n\t\t\t\t\t\tx={this.state.x}\r\n\t\t\t\t\t\ttextAnchor=\"middle\"\r\n\t\t\t\t\t\tkey=\"value\"\r\n\t\t\t\t\t\tdy=\"-1em\"\r\n\t\t\t\t\t\tfill={\"#fff\"}\r\n\t\t\t\t\t\tonClick={this.hideTextLabel.bind(this)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\tPrice: {this.state.valueText}\r\n\t\t\t\t\t\t</tspan>\r\n\t\t\t\t\t</ToolTipText>\r\n\t\t\t\t\t</g>\r\n\t\t\t\t}\r\n\t\t\t</ChartCanvas>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nCandleStickChartWithEquidistantChannel.propTypes = {\r\n\tdata: PropTypes.array.isRequired,\r\n\tdeals: PropTypes.array.isRequired,\r\n\twidth: PropTypes.number.isRequired,\r\n\tratio: PropTypes.number.isRequired,\r\n\ttype: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired\r\n};\r\n  \r\nCandleStickChartWithEquidistantChannel.defaultProps = {\r\n\ttype: \"svg\",\r\n};\r\n\r\nCandleStickChartWithEquidistantChannel = fitWidth(CandleStickChartWithEquidistantChannel);\r\n\r\n\r\n  \r\nexport default withStyles({\r\n\tCandleChart_type_date: {\r\n\t  fontSize: \"12px\",\r\n\t  fill: \"#AEC6EE\"\r\n\t},\r\n\tCandleChart: {\r\n\t  borderRadius: \"2px\"\r\n\t},\r\n\tCandleChart_type_value: {\r\n\t  fontSize: \"16px\",\r\n\t  fontWeight: 500\r\n\t},\r\n\tdeal_green_shadowed: {\r\n\t  textShadow: \"0 0 3px yellowgreen\"\r\n\t},\r\n\tdeal_red_shadowed: {\r\n\t  textShadow: \"0 0 3px fuchsia\"\r\n\t}\r\n})(fitWidth(CandleStickChartWithEquidistantChannel));\r\n  ","import React from 'react'\r\nimport Chart from 'react-apexcharts'\r\nimport moment from \"moment\";\r\n\r\nexport class MultiLineChart extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      series: this.getSeries(),\r\n      options: {\r\n        chart: {\r\n          height: 350,\r\n          type: 'line',\r\n          zoom: {\r\n            enabled: false\r\n          }\r\n        },\r\n        dataLabels: {\r\n          enabled: false\r\n        },\r\n        stroke: {\r\n          curve: 'straight'\r\n        },\r\n        title: {\r\n          text: props.isPercent ? 'Percent' : 'Efficiency',\r\n          align: 'left',\r\n          style: {\r\n            fontSize:  '18px',\r\n            fontWeight:  'bold',\r\n            color: '#FFFFFF'\r\n          },\r\n        },\r\n        grid: {\r\n          show: false\r\n        },\r\n        xaxis: {\r\n          categories: this.getCategories(),\r\n          labels: {\r\n            show: true,\r\n            style: {\r\n                colors: '#FFFFFF',\r\n            },\r\n            formatter: (val, opt) =>\r\n              moment.utc(val).format(\"MM/DD hh:mm\")\r\n          },\r\n          datetimeUTC: true,\r\n        },\r\n        yaxis: {\r\n          labels: {\r\n            show: true,\r\n            style: {\r\n                colors: '#FFFFFF',\r\n            },\r\n            formatter: (value) => { return Math.round(value) },\r\n          },\r\n          axisBorder: {\r\n            show: true,\r\n          },\r\n        },\r\n        legend: {\r\n          show: true,\r\n          labels: {\r\n            colors: ['#FFFFFF']\r\n          },\r\n          position: 'top'\r\n        }\r\n      },\r\n    };\r\n  }\r\n\r\n  getSeries() {\r\n    const series = []\r\n    this.props.chartData.map((data) => {\r\n      for (const property in data) {\r\n        series.push({\r\n          name: property,\r\n          data: data[property].map((o) => this.props.isPercent ? o.percent : o.efficiency)\r\n        })\r\n      }\r\n    })\r\n    return series\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.chartData !== this.props.chartData) {\r\n      this.setState({\r\n        series: this.getSeries(),\r\n        options: {\r\n          xaxis: {\r\n            categories: this.getCategories(),\r\n            labels: {\r\n              show: true,\r\n              style: {\r\n                  colors: '#FFFFFF',\r\n              },\r\n              formatter: (val, opt) =>\r\n                moment.utc(val).format(\"MM/DD hh:mm\")\r\n            },\r\n            datetimeUTC: true,\r\n          },\r\n          yaxis: {\r\n            labels: {\r\n              show: true,\r\n              style: {\r\n                  colors: '#FFFFFF',\r\n              },\r\n              formatter: (value) => { return Math.round(value) },\r\n            },\r\n            axisBorder: {\r\n              show: true,\r\n            },\r\n          }\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n  getCategories() {\r\n    const categories = this.props.chartData.map((data) => {\r\n      for (const property in data) {\r\n        return data[property].map((o) => o.date)\r\n      }\r\n      return []\r\n    })\r\n\r\n    return categories[0]\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <div id=\"chart\">\r\n        <Chart options={this.state.options} series={this.state.series} type=\"line\" height={350} />\r\n      </div>\r\n    )\r\n  }\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport ReactApexChart from \"react-apexcharts\";\r\n\r\nconst getWiningData = (chartData, isAverage) => {\r\n  return chartData.map((d) => isAverage ? d.avgWinning : d.winning )\r\n}\r\n\r\nconst getLosingData = (chartData, isAverage) => {\r\n  return chartData.map((d) => isAverage ? d.avgLosing : d.losing)\r\n}\r\n\r\nconst getSymbols = (chartData) => {\r\n  return chartData.map((d) => d.symbol)\r\n}\r\n\r\nconst optionCreator = (chartData, isAverage) => {\r\n  return {\r\n    chart: {\r\n      type: \"bar\",\r\n      width: \"100%\",\r\n      toolbar: {\r\n        show: false\r\n      },\r\n      events: {\r\n        click: function (event, chartContext, config) {\r\n          console.log(\"clicked\");\r\n        }\r\n      }\r\n    },\r\n    states: {\r\n      normal: {\r\n        filter: {\r\n          type: \"none\"\r\n        }\r\n      },\r\n      active: {\r\n        filter: {\r\n          type: \"darken\",\r\n          value: 0.35\r\n        }\r\n      }\r\n    },\r\n    colors: [\"#2e88ff\", `rgba(0,65,163, ${1 ? 0.5 : 1})`],\r\n    title: {\r\n      text: isAverage ? \"Wining & Losing Average\" : \"Wining & Losing\",\r\n      align: \"left\",\r\n      offsetX: 8,\r\n      offsetY: -2,\r\n      style: {\r\n        fontSize: \"16px\",\r\n        color: '#FFFFFF'\r\n      }\r\n    },\r\n    plotOptions: {\r\n      bar: {\r\n        endingShape: \"rounded\",\r\n        columnWidth: \"75%\",\r\n        barHeight: \"100%\",\r\n        dataLabels: {\r\n          position: \"top\"\r\n        }\r\n      }\r\n    },\r\n    dataLabels: {\r\n      enabled: true,\r\n      offsetY: -20,\r\n      style: {\r\n        fontSize: \"12px\",\r\n        colors: [\"#2e88ff\", \"#0041a3\"]\r\n      }\r\n    },\r\n    stroke: {\r\n      show: true,\r\n      width: 2,\r\n      colors: [\"#fff\"]\r\n    },\r\n    xaxis: {\r\n      categories: getSymbols(chartData),\r\n      labels: {\r\n        show: true,\r\n        style: {\r\n            colors: '#FFFFFF',\r\n        },\r\n      },\r\n    },\r\n    yaxis: {\r\n      labels: {\r\n        show: true,\r\n        style: {\r\n            colors: '#FFFFFF',\r\n        },\r\n        formatter: (value) => { return Math.round(value) },\r\n      },\r\n      axisBorder: {\r\n        show: true,\r\n      },\r\n    },\r\n    tooltip: {\r\n      enabled: true\r\n    },\r\n    legend: {\r\n      position: \"top\",\r\n      horizontalAlign: \"right\",\r\n      offsetY: -50,\r\n      fontSize: \"14px\",\r\n      labels: {\r\n        colors: \"#FFFFFF\"\r\n      },\r\n      markers: {\r\n        width: 16,\r\n        height: 16,\r\n        radius: 4\r\n      },\r\n      itemMargin: {\r\n        horizontal: 5,\r\n        vertical: 5\r\n      },\r\n      onItemHover: {\r\n        highlightDataSeries: true\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nexport default function GroupApexBar(props) {\r\n  const { data: chartData, isAverage } = props;\r\n  const [options, setOptions] = useState(optionCreator(chartData, isAverage));\r\n  const [series, setSeries] = useState([\r\n    {\r\n      data: getWiningData(chartData, isAverage)\r\n    },\r\n    {\r\n      data: getLosingData(chartData, isAverage)\r\n    }\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    setOptions(optionCreator(chartData, isAverage))\r\n    setSeries([\r\n      {\r\n        name: isAverage ? 'Winning Average' : 'Winning',\r\n        data: getWiningData(chartData, isAverage)\r\n      },\r\n      {\r\n        name: isAverage ? 'Losing Average' : 'Losing',\r\n        data: getLosingData(chartData, isAverage)\r\n      }\r\n    ])\r\n  }, [chartData])\r\n\r\n  return (\r\n    <div id=\"chart\">\r\n      <ReactApexChart\r\n        options={options}\r\n        series={series}\r\n        type=\"bar\"\r\n        width={'100%'}\r\n        height={400}\r\n      />\r\n    </div>\r\n  );\r\n}","import { MultiLineChart } from './MultiLineChart'\r\nimport GroupApexBar from './GroupBarChart'\r\n\r\nimport { set } from \"d3-collection\";\r\nimport { scaleOrdinal, schemeCategory10, scaleLinear } from  \"d3-scale\";\r\nimport { format } from \"d3-format\";\r\nimport { extent } from \"d3-array\";\r\n\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { timeFormat } from \"d3-time-format\";\r\nimport dayjs from \"dayjs\";\r\nimport { ChartCanvas, Chart } from \"react-stockcharts\";\r\nimport { LineSeries, ScatterSeries, CircleMarker } from \"react-stockcharts/lib/series\";\r\nimport { XAxis, YAxis } from \"react-stockcharts/lib/axes\";\r\nimport {\r\n\tGroupedBarSeries,\r\n} from \"react-stockcharts/lib/series\";\r\nimport {\r\n\tEdgeIndicator,\r\n\tCurrentCoordinate\r\n} from \"react-stockcharts/lib/coordinates\";\r\n\r\nimport { elderRay, ema, macd, heikinAshi } from \"react-stockcharts/lib/indicator\";\r\nimport { discontinuousTimeScaleProvider } from \"react-stockcharts/lib/scale\";\r\nimport { HoverTooltip } from \"react-stockcharts/lib/tooltip\";\r\nimport { hexToRGBA } from \"react-stockcharts/lib/utils\";\r\nimport { TypeChooser } from \"react-stockcharts/lib/helper\";\r\n\r\nimport { fitWidth } from \"react-stockcharts/lib/helper\";\r\nimport temp from './temp.json';\r\n\r\nconst dateFormat = timeFormat(\"%Y-%m-%d\");\r\nconst numberFormat = format(\".2f\");\r\n\r\nfunction roundRect(ctx, x, y, width, height, radius, fill, stroke) {\r\n\tif (typeof stroke === \"undefined\") {\r\n\t  stroke = true;\r\n\t}\r\n\tif (typeof radius === \"undefined\") {\r\n\t  radius = 5;\r\n\t}\r\n\tif (typeof radius === \"number\") {\r\n\t  radius = { tl: radius, tr: radius, br: radius, bl: radius };\r\n\t} else {\r\n\t  var defaultRadius = { tl: 0, tr: 0, br: 0, bl: 0 };\r\n\t  for (var side in defaultRadius) {\r\n\t\tradius[side] = radius[side] || defaultRadius[side];\r\n\t  }\r\n\t}\r\n\tctx.beginPath();\r\n\tctx.moveTo(x + radius.tl, y);\r\n\tctx.lineTo(x + width - radius.tr, y);\r\n\tctx.quadraticCurveTo(x + width, y, x + width, y + radius.tr);\r\n\tctx.lineTo(x + width, y + height - radius.br);\r\n\tctx.quadraticCurveTo(\r\n\t  x + width,\r\n\t  y + height,\r\n\t  x + width - radius.br,\r\n\t  y + height\r\n\t);\r\n\tctx.lineTo(x + radius.bl, y + height);\r\n\tctx.quadraticCurveTo(x, y + height, x, y + height - radius.bl);\r\n\tctx.lineTo(x, y + radius.tl);\r\n\tctx.quadraticCurveTo(x, y, x + radius.tl, y);\r\n\tctx.closePath();\r\n\tif (fill) {\r\n\t  ctx.fill();\r\n\t}\r\n\tif (stroke) {\r\n\t  ctx.stroke();\r\n\t}\r\n}\r\nfunction backgroundShapeCanvas(props, { width, height }, ctx) {\r\n\tconst { fill, stroke, opacity } = props;\r\n\t\r\n\tctx.fillStyle = hexToRGBA(fill, opacity);\r\n\tctx.strokeStyle = stroke;\r\n\troundRect(ctx, 0, 0, width, height, 2, true);\r\n}\r\nclass BubbleChart extends React.Component {\r\n\trender() {\r\n\r\n\t\tconst ema20 = ema()\r\n\t\t\t.id(0)\r\n\t\t\t.options({ windowSize: 20 })\r\n\t\t\t.merge((d, c) => { d.ema20 = c; })\r\n\t\t\t.accessor(d => d.ema20);\r\n\r\n\t\tconst { data: mainData, type, width, ratio,multiSymbol } = this.props;\r\n\r\n\t\tconst initialData = temp['chart_data']['percentEfficiency'];\r\n\t\t\r\n\t\tconst GroupDataMock = temp['chart_data']['winningLosing'];\r\n\t\tconst elder = elderRay();\r\n\t\tconst ha = heikinAshi();\r\n\t\tconst ema50 = ema()\r\n\t\t  .id(2)\r\n\t\t  .options({ windowSize: 50 })\r\n\t\t  .merge((d, c) => {\r\n\t\t\td.ema50 = c;\r\n\t\t  })\r\n\t\t.accessor(d => d.ema50);\r\n\t\tconst ema26 = ema()\r\n\t\t\t.id(0)\r\n\t\t\t.options({ windowSize: 26 })\r\n\t\t\t.merge((d, c) => { d.ema26 = c; })\r\n\t\t\t.accessor(d => d.ema26);\r\n\r\n\t\tconst ema12 = ema()\r\n\t\t\t.id(1)\r\n\t\t\t.options({ windowSize: 12 })\r\n\t\t\t.merge((d, c) => { d.ema12 = c; })\r\n\t\t\t.accessor(d => d.ema12);\r\n\r\n\t\tconst macdCalculator = macd()\r\n\t\t\t.options({\r\n\t\t\t\tfast: 12,\r\n\t\t\t\tslow: 26,\r\n\t\t\t\tsignal: 9,\r\n\t\t\t})\r\n\t\t\t.merge((d, c) => { d.macd = c; })\r\n\t\t\t.accessor(d => d.macd);\r\n\r\n\t\tinitialData.forEach(line => {\r\n\t\t\tline.date = dayjs(line.date).toDate();\r\n\t\t});\r\n\t\r\n\r\n\t\tconst calculatedData = macdCalculator((elder(ha(ema20(initialData)))));\r\n\r\n\t\tconst xScaleProvider = discontinuousTimeScaleProvider\r\n\t\t\t.inputDateAccessor(d => d.date);\r\n\t\tconst {\r\n\t\t\tdata,\r\n\t\t\txScale,\r\n\t\t\txAccessor,\r\n\t\t\tdisplayXAccessor,\r\n\t\t} = xScaleProvider(calculatedData);\r\n\r\n\t\tconst r = scaleLinear()\r\n\t\t\t.range([2, 20])\r\n\t\t\t.domain(extent(data, (symbol) => {}));\r\n\r\n\t\tconst f = scaleOrdinal(schemeCategory10)\r\n\t\t\t.domain(set(data.map(d => d.date)));\r\n\r\n\t\tconst fill = d => f([{...d.percent}]);\r\n\t\tconst radius = (d, symbol) => r(d.percent[symbol], symbol);\r\n\r\n\t\tconst fGroupBar = scaleOrdinal(schemeCategory10)\r\n\t\t\t.domain(set(GroupDataMock.map(d => d.symbol)));\r\n\r\n\t\tconst fillGroupBar = (d, i) => fGroupBar(i);\r\n\r\n\t\tfunction tooltipContent(ys) {\r\n\t\t\treturn ({ currentItem, xAccessor }) => {\r\n\t\t\t  return {\r\n\t\t\t\tx: dateFormat(xAccessor(currentItem)),\r\n\t\t\t\ty: [\r\n\t\t\t\t  {\r\n\t\t\t\t\tlabel: currentItem.winning\r\n\t\t\t\t\t\t? 'Win' \r\n\t\t\t\t\t\t: currentItem.losing\r\n\t\t\t\t\t\t? 'Lose' \r\n\t\t\t\t\t\t: '',\r\n\t\t\t\t\tvalue: currentItem.winning \r\n\t\t\t\t\t\t? numberFormat(currentItem.winning) \r\n\t\t\t\t\t\t: currentItem.losing\r\n\t\t\t\t\t\t? numberFormat(currentItem.losing) \r\n\t\t\t\t\t\t: ''\r\n\t\t\t\t  }\r\n\t\t\t\t].filter(line => line.value)\r\n\t\t\t  };\r\n\t\t\t};\r\n\t\t}\r\n\t\tif (mainData == null) {\r\n\t\t\treturn <div>Loading...</div>\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<MultiLineChart chartData={mainData.percentEfficiency} isPercent={true}/>\r\n\t\t\t\t<MultiLineChart chartData={mainData.percentEfficiency} isPercent={false}/>\r\n\t\t\t\t<TypeChooser>\r\n\t\t\t\t\t{type => <GroupApexBar type={type} data={mainData.winningLosing} isAverage={false}/>}\r\n\t\t\t\t</TypeChooser>\r\n\t\t\t\t<TypeChooser>\r\n\t\t\t\t\t{type => <GroupApexBar type={type} data={mainData.winningLosingAvg} isAverage={true}/>}\r\n\t\t\t\t</TypeChooser>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nBubbleChart.propTypes = {\r\n\tdata: PropTypes.array.isRequired,\r\n\twidth: PropTypes.number.isRequired,\r\n\tratio: PropTypes.number.isRequired,\r\n\ttype: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired,\r\n};\r\n\r\nBubbleChart.defaultProps = {\r\n\ttype: \"svg\",\r\n};\r\nBubbleChart = fitWidth(BubbleChart);\r\n\r\nexport default BubbleChart;","import React, { useState, useEffect } from \"react\";\r\nimport Chart from '../trades-chart/TradesChart';\r\nimport PerformanceChart from '../performance-chart/PerformanceChart'\r\nimport { TypeChooser } from \"react-stockcharts/lib/helper\";\r\n// import ScatterMock from '../demo/ScatterMock'\r\n// import GroupDataMock from '../demo/GroupMockData'\r\n// import CandleChart from \"../candle-chart/CandleChart\";\r\n// import Chart from '../Chart';\r\n// import { CandleData, Deals, Signal } from \"../demo/Demo\";\r\n// import MockData from '../demo/mock.json'\r\n// import Chart from '../TestChart';\r\n// import { tsvParse } from  \"d3-dsv\";\r\n// import { timeParse } from \"d3-time-format\";\r\n\r\nconst StockChart = (props) => {\r\n    const { \r\n        chartColumn,\r\n        viewType,\r\n        symbol,\r\n        strategy,\r\n        isHomePage,\r\n        indicators,\r\n        multiSymbol,\r\n        microStrategy,\r\n        selectedInstance,\r\n        selectedTradeDB,\r\n        chartPeriod\r\n    } = props;\r\n    const [dbname, setDbname] = useState('')\r\n\tconst [chartData, setChartData] = useState(null)\r\n\t// const [dealData, setDealData] = useState([])\r\n    \r\n    useEffect(() => {\r\n        if (selectedInstance === 'live_trading') {\r\n            setChartData(null)    \r\n        }\r\n    }, [selectedInstance])\r\n\r\n    useEffect(() => {\r\n        const initDbNamebySelectedTradeDB = () => {\r\n            if (selectedTradeDB === 'heikfilter-2mins-trades') {\r\n                setDbname('backtest_2_minute');\r\n            } else if(selectedTradeDB === 'heikfilter-12mins-trades') {\r\n                setDbname('backtest_12_minute');\r\n            } else if(selectedTradeDB === 'heikfilter-1hour-trades') {\r\n                setDbname('backtest_1_hour');\r\n            } else if(selectedTradeDB === 'heikfilter-4hours-trades') {\r\n                setDbname('backtest_4_hour');\r\n            } else if(selectedTradeDB === 'heikfilter-12hours-trades') {\r\n                setDbname('backtest_12_hour');\r\n            } else if(selectedTradeDB === 'heikfilter-1day-trades') {\r\n                setDbname('backtest_1_day');\r\n            }\r\n        }\r\n        initDbNamebySelectedTradeDB();\r\n    }, [selectedTradeDB])\r\n\r\n    useEffect(() => {\r\n        setChartData(null)      \r\n    }, [viewType])\r\n\r\n    useEffect(() => {\r\n        if (symbol || multiSymbol.length) {\r\n\t\t\tget_data(symbol)\r\n\t\t}\r\n    }, [selectedInstance, dbname, viewType, symbol, multiSymbol, microStrategy])\r\n\r\n    const get_data = (symbol) => {\r\n        if (viewType !== 'performance') {\r\n            if (!dbname) {\r\n                return;\r\n            }\r\n            const requestOptions = {\r\n                method: 'POST',\r\n                headers: {'Content-Type': 'application/json'},\r\n                body: JSON.stringify({\r\n                    'db_name': dbname,\r\n                    'symbol': symbol,\r\n                    'table_name': symbol,\r\n                })\r\n            };\r\n            fetch(process.env.REACT_APP_BACKEND_URL+'/api/get_data', requestOptions)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                data['chart_data']['columns'] = [\"date\", \"open\", \"high\", \"low\", \"close\", \"volume\", \"split\", \"dividend\", \"absoluteChange\", \"percentChange\"]\r\n                data['chart_data'].map((x) => {\r\n                    let converDate = new Date(x.date)\r\n                    x.date = converDate\r\n                })\r\n                setChartData(data['chart_data'])\r\n                // setDealData(data['deals'])\r\n            })\r\n        } else {\r\n            const symbols = multiSymbol.map((symbol) => symbol.value);\r\n            if (!symbols.length | !microStrategy) {\r\n                return;\r\n            }\r\n            const requestOptions = {\r\n                method: 'POST',\r\n                headers: {'Content-Type': 'application/json'},\r\n                body: JSON.stringify({\r\n                    'symbols': symbols,\r\n                    'table_name': microStrategy,\r\n                })\r\n            };\r\n            fetch(process.env.REACT_APP_BACKEND_URL+'/api/get_backtesting_data', requestOptions)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    setChartData(data['chart_data'])\r\n                })\r\n        }\r\n    }\r\n\r\n    return (\r\n\t\t<>\r\n\t\t\t{\r\n\t\t\t\tchartData == null ? <div>Loading...</div> :\r\n                <>\r\n                    <div className=\"select-wrape\">\r\n                        <div>\r\n                            <strong>{chartPeriod} [NASDAQ]</strong>\r\n                        </div>\r\n                    </div>\r\n                    <TypeChooser >\r\n                        {type => {\r\n                            return (\r\n                                (isHomePage | (viewType !== 'performance'))\r\n                                ? <Chart\r\n                                    type={type}\r\n                                    data={chartData}\r\n                                    // deals={dealData}\r\n                                    strategy={strategy}\r\n                                    isHomePage={isHomePage}\r\n                                    indicators={indicators}\r\n                                    chartColumn={chartColumn}\r\n                                    microStrategy={microStrategy}\r\n                                    selectedInstance={selectedInstance}\r\n                                />\r\n                                : <PerformanceChart type={type} data={chartData} multiSymbol={multiSymbol.map((symbol) => symbol.value)}/>\r\n                            )\r\n                        }}\r\n                    </TypeChooser>\r\n                </>\r\n\r\n\t\t\t}\r\n\t\t</>\r\n\r\n\t)\r\n}\r\n\r\nexport default StockChart","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Select from 'react-select'\r\nimport _ from \"underscore\";\r\nimport \"react-datetime/css/react-datetime.css\";\r\nimport StockChart from \"./stock-chart/StockChart\"\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst TutorialsList = () => {\r\n  const history = useHistory();\r\n  const [symbol, setSymbol] = useState(null);\r\n  const [indicators, setIndicators] = useState([]);\r\n  const [isShowMicro, setIsShowMicro] = useState(true);\r\n  const [symbolList, setSymbolList] = useState([])\r\n  const [isGetSymbolList, setIsGetSymbolList] = useState(false)\r\n  const [chartColumn, setChartColumn] = useState({ value: 6, label: '6' })\r\n  const [selectedInstance, setSelectedInstance] = useState({ value: 'stress_test', label: 'Stress Test' });\r\n  const [selectedViewType, setSelectedViewType] = useState({ value: 'charting', label: 'Charting' });\r\n  const [microStrategy, setMicroStrategy] = useState({ value: 'heikfilter-2mins-trades', label: '2 mins' })\r\n  const [strategy, setStrategy] = useState({ value: 'heikfilter', label: 'heikfilter' });\r\n\r\n  const optionsInstance = [\r\n    { value: 'stress_test', label: 'Stress Test' },\r\n    { value: 'optimization', label: 'Optimization' },\r\n    { value: 'forward_test', label: 'Forward Test' },\r\n    { value: 'live_trading', label: 'Live Trading' },\r\n  ]\r\n  \r\n  const optionsViewTypes = [\r\n    { value: 'charting', label: 'Charting' },\r\n    { value: 'performance', label: 'Performance' },\r\n    { value: 'optimization ', label: 'Optimization' },\r\n  ]\r\n\r\n  const [optionsMicroStrategy, setOptionsMicroStrategy] = useState([\r\n    { value: 'heikfilter-2mins-trades', label: '2 mins' },\r\n    { value: 'heikfilter-2mins-4hours-trades', label: '2 mins>4 hours' },\r\n    { value: 'heikfilter-2mins-12mins-4hours-trades', label: '2 mins>12 mins>4 hours' },\r\n    { value: 'heikfilter-12mins-trades', label: '12 mins' },\r\n    { value: 'heikfilter-12mins-4hours-trades', label: '12 mins>4 hours' },\r\n    { value: 'heikfilter-4hours-trades', label: '4 hours' },\r\n  ])\r\n  \r\n  const [optionsStratgy, setOptionsStrategy] = useState([\r\n    { value: 'heikfilter', label: 'heikfilter' },\r\n  ])\r\n\r\n  const optionsIndicator = [\r\n    {\r\n      value: 'VOLUME', label: 'VOLUME',\r\n    },\r\n    {\r\n      value: 'RSI', label: 'RSI',\r\n    },\r\n    {\r\n      value: 'MACD', label: 'MACD',\r\n    },\r\n    {\r\n      value: 'SMA', label: 'SMA',\r\n    }\r\n  ]\r\n\r\n  const optionsColumn = [\r\n    {\r\n      value: 1, label: '1',\r\n    },\r\n    {\r\n      value: 2, label: '2',\r\n    },\r\n    {\r\n      value: 4, label: '4',\r\n    },\r\n    {\r\n      value: 6, label: '6',\r\n    }\r\n  ]\r\n\r\n  useEffect(() => {\r\n    if(!isGetSymbolList) {\r\n      get_tables();    \r\n    }  \r\n  }, [])\r\n  \r\n  useEffect(() => {\r\n    console.log(\"selectedInstance::\", selectedInstance)\r\n    if(selectedInstance.value === 'live_trading') {\r\n      get_tables();    \r\n    }  \r\n  }, [selectedInstance])\r\n\r\n  const handleInstanceChange = (value) => {\r\n    setSelectedInstance(value) \r\n    if (value.value === 'live_trading') {\r\n      setIsShowMicro(false);\r\n      setStrategy({ value: 'no_strategy', label: 'No Strategy' });\r\n      setOptionsStrategy([\r\n        { value: 'no_strategy', label: 'No Srategy' },\r\n      ])\r\n      return\r\n    }\r\n    setStrategy({ value: 'heikfilter-2mins-trades', label: '2 mins' });\r\n    setOptionsStrategy([\r\n      { value: 'heikfilter', label: 'heikfilter' },\r\n    ])\r\n    setIsShowMicro(true);\r\n  }\r\n  \r\n  const handleViewTypeChange = (value) => {\r\n    setSelectedViewType(value)\r\n    if (value.value === 'performance') {\r\n      const locationState = {\r\n        selectedInstance,\r\n        viewType: value,\r\n        initStrategy: strategy,\r\n        initMicroStrategy: { value: 'heikfilter-2mins-trades', label: '2 mins' },\r\n        initIndicators: indicators,\r\n        initSymbol: symbol,\r\n      }\r\n      if (value) {\r\n        history.push({\r\n          pathname: '/ItemChart',\r\n          state: locationState,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  const handlSymbolChange = (e) => {\r\n    if (e) {\r\n      setSymbol(e)\r\n    }\r\n  }\r\n\r\n  const handleStrategy = (e) => {\r\n    if (e) {\r\n      setStrategy(e)\r\n      if (e.value === 'heikfilter') {\r\n        setOptionsMicroStrategy([\r\n          { value: 'heikfilter-2mins-trades', label: '2 mins' },\r\n          { value: 'heikfilter-2mins-4hours-trades', label: '2 mins>4 hours' },\r\n          { value: 'heikfilter-2mins-12mins-4hours-trades', label: '2 mins>12 mins>4 hours' },\r\n          { value: 'heikfilter-12mins-trades', label: '12 mins' },\r\n          { value: 'heikfilter-12mins-4hours-trades', label: '12 mins>4 hours' },\r\n          { value: 'heikfilter-4hours-trades', label: '4 hours' },\r\n        ])\r\n      } else {\r\n        setOptionsMicroStrategy([])\r\n    }\r\n    }\r\n  }\r\n  \r\n  const handleMicroStrategyChange = (e) => {\r\n    if (e) {\r\n      setMicroStrategy(e)\r\n    }\r\n    // const locationState = {\r\n    //   selectedInstance,\r\n    //   selectedViewType,\r\n    //   initStrategy: strategy,\r\n    //   initMicroStrategy: e,\r\n    //   initIndicators: indicators,\r\n    //   initSymbol: symbol,\r\n    // }\r\n    // if (e) {\r\n    //   history.push({\r\n    //     pathname: '/ItemChart',\r\n    //     state: locationState,\r\n    //   });\r\n    // }\r\n  }\r\n  \r\n  const handleIndicatorsChange = (options) => {\r\n    setIndicators(options);\r\n  }\r\n\r\n  const get_tables = () => {\r\n    const requestOptions = {\r\n      method: 'POST',\r\n      headers: {'Content-Type': 'application/json'},\r\n      body: JSON.stringify({\r\n        'strategy': strategy.value\r\n      })\r\n    };\r\n    fetch(process.env.REACT_APP_BACKEND_URL + \"/api/tables\", requestOptions)\r\n\t\t\t\t.then(response => response.json())\r\n\t\t\t\t.then(data => {\r\n\t\t\t\t\tlet temp_data = []\r\n\t\t\t\t\tdata.tables.map((x) => {\r\n\t\t\t\t\t\ttemp_data.push({\r\n\t\t\t\t\t\t\tvalue: x,\r\n\t\t\t\t\t\t\tlabel: x\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\tsetSymbolList(temp_data)\r\n          setSymbol(temp_data[0])\r\n\t\t\t\t})\r\n\t}\r\n\r\n  const handleChartsColumnChange = (option) => {\r\n    setChartColumn(option)\r\n  }\r\n\r\n  const calculateHeightStyle = () => {\r\n    if (chartColumn.value === 1 || chartColumn.value === 2) {\r\n      return 'full-height'\r\n    }\r\n    return 'half-height'\r\n  }\r\n\r\n  const calculateGridColumn = () => {\r\n    if (chartColumn.value === 1) {\r\n      return 12\r\n    } else if ((chartColumn.value === 2) || (chartColumn.value === 4)) {\r\n      return 6\r\n    }\r\n    return 4\r\n  }\r\n\r\n  const displayChart = () => {\r\n    return (\r\n        \r\n      <div className={`row ${calculateHeightStyle()}`}>\r\n        <div className={`col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          {symbol && (\r\n            < StockChart \r\n              selectedInstance={selectedInstance.value}\r\n              selectedTradeDB='heikfilter-2mins-trades'\r\n              chartPeriod='20D 2min'\r\n              symbol={symbol.value}\r\n              indicators={indicators}\r\n              strategy={strategy}\r\n              isHomePage={true}\r\n              chartColumn={chartColumn.value}\r\n              microStrategy={microStrategy.value}\r\n            />\r\n          )}\r\n        </div>\r\n        <div className={`col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          {symbol && (\r\n          < StockChart \r\n            selectedInstance={selectedInstance.value}\r\n            selectedTradeDB='heikfilter-12mins-trades'\r\n            chartPeriod='20D 12min'\r\n            symbol={symbol.value}\r\n            indicators={indicators}\r\n            strategy={strategy}\r\n            isHomePage={true}\r\n            chartColumn={chartColumn.value}\r\n            microStrategy={microStrategy.value}\r\n          />)}\r\n        </div>\r\n        <div className={`col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          {symbol && (\r\n            < StockChart\r\n              selectedInstance={selectedInstance.value}\r\n              selectedTradeDB='heikfilter-1hour-trades'\r\n              chartPeriod='30D 1hour'\r\n              symbol={symbol.value}\r\n              indicators={indicators}\r\n              strategy={strategy}\r\n              isHomePage={true}\r\n              chartColumn={chartColumn.value}\r\n              microStrategy={microStrategy.value}\r\n            />)}\r\n        </div>\r\n        <div className={`col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          {symbol && (\r\n            < StockChart\r\n              selectedInstance={selectedInstance.value}\r\n              selectedTradeDB='heikfilter-4hours-trades'\r\n              chartPeriod='90D 4hour'\r\n              symbol={symbol.value}\r\n              indicators={indicators}\r\n              strategy={strategy}\r\n              isHomePage={true}\r\n              chartColumn={chartColumn.value}\r\n              microStrategy={microStrategy.value}\r\n            />)}\r\n        </div>\r\n        <div className={`col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          {symbol && (\r\n            < StockChart\r\n              selectedInstance={selectedInstance.value}\r\n              selectedTradeDB='heikfilter-12hours-trades'\r\n              chartPeriod='90D 12hour'\r\n              symbol={symbol.value}\r\n              indicators={indicators}\r\n              strategy={strategy}\r\n              isHomePage={true}\r\n              chartColumn={chartColumn.value}\r\n              microStrategy={microStrategy.value}\r\n            />)}\r\n        </div>\r\n        <div className={`col-sm-12 col-md-${calculateGridColumn()} graph-container`} >\r\n          {symbol && (\r\n          < StockChart\r\n            selectedInstance={selectedInstance.value}\r\n            selectedTradeDB='heikfilter-1day-trades'\r\n            chartPeriod='1Y 1day'\r\n            symbol={symbol.value}\r\n            indicators={indicators}\r\n            strategy={strategy}\r\n            isHomePage={true}\r\n            chartColumn={chartColumn.value}\r\n            microStrategy={microStrategy.value}\r\n          />)}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\r\n        <a href=\"/chart\" className=\"navbar-brand\">\r\n          Hunter Violette - HeikinAshi\r\n        </a>\r\n        <div className=\"navbar-nav mr-auto\">\r\n          <li className=\"nav-item\">\r\n            <Link to={\"/chart\"} className=\"nav-link\"></Link>\r\n          </li>\r\n          <div className=\"select-option\">\r\n            <Select\r\n              value={selectedInstance}\r\n              onChange={handleInstanceChange}\r\n              options={optionsInstance}\r\n              placeholder=\"Instance\"\r\n            />\r\n          </div>\r\n          <div className=\"select-option\">\r\n            <Select\r\n              value={selectedViewType}\r\n              onChange={handleViewTypeChange}\r\n              options={optionsViewTypes}\r\n              placeholder=\"Charting\"\r\n            />\r\n          </div>\r\n          <div className=\"select-option\">\r\n              <Select\r\n                value={strategy}\r\n                onChange={handleStrategy}\r\n                options={optionsStratgy}\r\n                placeholder=\"Macro Strategy\"\r\n              />\r\n            </div>\r\n          {isShowMicro && (\r\n            <div className=\"select-option\">\r\n              <Select\r\n                value={microStrategy}\r\n                onChange={handleMicroStrategyChange}\r\n                options={optionsMicroStrategy}\r\n                placeholder=\"Micro Strategy\"\r\n              />\r\n            </div>  \r\n          )}\r\n          <div className=\"select-option\">\r\n            <Select\r\n              value={symbol}\r\n              onChange={handlSymbolChange}\r\n              options={symbolList}\r\n              placeholder=\"Symbol\"\r\n            />\r\n          </div>\r\n          <div className=\"select-multi-option\">\r\n            <Select\r\n              name=\"filters\"\r\n              placeholder=\"Indicators\"\r\n              value={indicators}\r\n              onChange={handleIndicatorsChange}\r\n              options={optionsIndicator}\r\n              isMulti={true}\r\n            />\r\n          </div>\r\n          <div className=\"select-option\">\r\n            <Select\r\n              value={chartColumn}\r\n              onChange={handleChartsColumnChange}\r\n              options={optionsColumn}\r\n              placeholder=\"Columns\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </nav>\r\n      <div className=\"graphs-container dark\">\r\n        {(chartColumn.value === 1) && displayChart()}\r\n        {(chartColumn.value === 2) && displayChart()}\r\n        {(chartColumn.value === 4) && displayChart()}\r\n        {(chartColumn.value === 6) && displayChart()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TutorialsList;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Select from 'react-select'\r\nimport _ from \"underscore\";\r\nimport \"react-datetime/css/react-datetime.css\";\r\nimport StockChart from \"./stock-chart/StockChart\"\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst TutorialsList = (props) => {\r\n    const { instance, viewType, initStrategy, initMicroStrategy, initIndicators, initSymbol } = props.location.state\r\n    \r\n    const history = useHistory();\r\n    const [isGetSymbolList, setIsGetSymbolList] = useState(false)\r\n    \r\n    const [selectedInstance, setSelectedInstance] = useState(\r\n      instance \r\n      ? instance\r\n      : { value: 'stress_test', label: 'Stress Test' }\r\n    );\r\n    const [selectedViewType, setSelectedViewType] = useState(\r\n      viewType\r\n      ? viewType\r\n      : { value: 'charting', label: 'Charting' }\r\n    );\r\n\r\n    const [selectedOptionTable, setSelectedOptionTable] = useState(null)\r\n    const [symbol, setSymbol] = useState(initSymbol)\r\n    const [multiSymbol, setMultiSymbol] = useState([initSymbol])\r\n    const [strategy, setStrategy] = useState(initStrategy ? initStrategy : {})\r\n    const [symbolList, setSymbolList] = useState([])\r\n    const [microStrategy, setMicroStrategy] = useState(initMicroStrategy ? initMicroStrategy: null)\r\n    const [indicators, setIndicators] = useState(initIndicators)\r\n    const [apiFlag, setApiFlag] = useState(false)\r\n\r\n    const optionsInstance = [\r\n      { value: 'stress_test', label: 'Stress Test' },\r\n      { value: 'optimization', label: 'Optimization' },\r\n      { value: 'forward_test', label: 'Forward Test' },\r\n      { value: 'live_trading', label: 'Live Trading' },\r\n    ]\r\n      \r\n    const optionsViewTypes = [\r\n      { value: 'charting', label: 'Charting' },\r\n      { value: 'performance', label: 'Performance' },\r\n      { value: 'optimization ', label: 'Optimization' },\r\n    ]    \r\n\r\n    const [optionsMicroStrategy, setOptionsMicroStrategy] = useState([\r\n      { value: 'heikfilter-2mins-trades', label: '2 mins' },\r\n      { value: 'heikfilter-2mins-4hours-trades', label: '2 mins>4 hours' },\r\n      { value: 'heikfilter-2mins-12mins-4hours-trades', label: '2 mins>12 mins>4 hours' },\r\n      { value: 'heikfilter-12mins-trades', label: '12 mins' },\r\n      { value: 'heikfilter-12mins-4hours-trades', label: '12 mins>4 hours' },\r\n      { value: 'heikfilter-4hours-trades', label: '4 hours' }\r\n    ])\r\n    \r\n    const optionsStratgy = [\r\n      { value: 'heikfilter', label: 'heikfilter' },\r\n    ]\r\n\r\n    const optionsIndicator = [\r\n        {\r\n          value: 'VOLUME', label: 'VOLUME',\r\n        },\r\n        {\r\n          value: 'RSI', label: 'RSI',\r\n        },\r\n        {\r\n          value: 'MACD', label: 'MACD',\r\n        },\r\n        {\r\n          value: 'SMA', label: 'SMA',\r\n        }\r\n    ]\r\n    \r\n    useEffect(() => {\r\n        if (!apiFlag) {\r\n            setSelectedOptionTable(microStrategy)\r\n            setMicroStrategy(microStrategy)\r\n            if (!isGetSymbolList) {\r\n                get_tables();\r\n            }\r\n            setApiFlag(true)\r\n        }\r\n    \r\n    })\r\n\r\n    const get_tables = () => {\r\n      const requestOptions = {\r\n        method: 'POST',\r\n        headers: {'Content-Type': 'application/json'},\r\n        body: JSON.stringify({\r\n          'strategy': strategy.value\r\n        })\r\n      };\r\n      fetch(process.env.REACT_APP_BACKEND_URL + \"/api/tables\", requestOptions)\r\n          .then(response => response.json())\r\n          .then(data => {\r\n              let temp_data = []\r\n              data.tables.map((x) => {\r\n                  temp_data.push({\r\n                      value: x,\r\n                      label: x\r\n                  });\r\n              })\r\n              setSymbolList(temp_data)\r\n          })\r\n    }\r\n\r\n    const handleInstanceChange = (e) => {\r\n      setSelectedInstance(e)\r\n    }\r\n    \r\n    const handleViewTypeChange = (e) => {\r\n        setSelectedViewType(e)\r\n        if (e.value === 'charting') {\r\n          history.push({\r\n            pathname: '/'\r\n          });\r\n        }\r\n    }\r\n\r\n    const handlSymbolChange = (e) => {\r\n        if (e) {\r\n            setSymbol(e)\r\n        }\r\n    }\r\n    \r\n    const handlMultiSymbolChange = (e) => {\r\n        setMultiSymbol(e)\r\n    }\r\n\r\n    const handleStrategyChange = (e) => {\r\n        if (e) {\r\n          setStrategy(e)\r\n            if (e.value === 'heikfilter') {\r\n              setOptionsMicroStrategy([\r\n                    { value: 'heikfilter-2mins-trades', label: '2 mins' },\r\n                    { value: 'heikfilter-2mins-4hours-trades', label: '2 mins>4 hours' },\r\n                    { value: 'heikfilter-2mins-12mins-4hours-trades', label: '2 mins>12 mins>4 hours' },\r\n                    { value: 'heikfilter-12mins-trades', label: '12 mins' },\r\n                    { value: 'heikfilter-12mins-4hours-trades', label: '12 mins>4 hours' },\r\n                    { value: 'heikfilter-4hours-trades', label: '4 hours' },\r\n                ])\r\n            } else {\r\n              setOptionsMicroStrategy([])\r\n            }\r\n        }\r\n      }\r\n\r\n    const handleIndicatorsChange = (options) => {\r\n        setIndicators(options);\r\n    }\r\n\r\n    const handleMicroStrategyChange = (e) => {\r\n        setMicroStrategy(e);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\r\n                <a href=\"/chart\" className=\"navbar-brand\">\r\n                    Hunter Violette - HeikinAshi\r\n                </a>\r\n                <div className=\"navbar-nav mr-auto\">\r\n                    <li className=\"nav-item\">\r\n                        <Link to={\"/chart\"} className=\"nav-link\"></Link>\r\n                    </li>\r\n                    <div className=\"select-option\">\r\n                      <Select\r\n                        value={selectedInstance}\r\n                        onChange={handleInstanceChange}\r\n                        options={optionsInstance}\r\n                        placeholder=\"Instance\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"select-option\">\r\n                      <Select\r\n                        value={selectedViewType}\r\n                        onChange={handleViewTypeChange}\r\n                        options={optionsViewTypes}\r\n                        placeholder=\"Charting\"\r\n                      />\r\n                    </div>\r\n                    {selectedViewType.value !== 'performance'\r\n                      ? (<div className=\"select-option\">\r\n                        <Select\r\n                            value={symbol}\r\n                            onChange={handlSymbolChange}\r\n                            options={symbolList}\r\n                        />\r\n                          </div>)\r\n                      : (<div className=\"select-multi-option\">\r\n                            <Select\r\n                                value={multiSymbol}\r\n                                onChange={handlMultiSymbolChange}\r\n                                options={symbolList}\r\n                                isMulti={true}\r\n                            />\r\n                        </div>)\r\n                    }\r\n                    {(selectedInstance.value !== 'live_trading') &&\r\n                     (<div className=\"select-option\">\r\n                          <Select\r\n                          value={strategy}\r\n                          onChange={handleStrategyChange}\r\n                          options={optionsStratgy}\r\n                          placeholder=\"Macro Strategy\"\r\n                          />\r\n                      </div>)\r\n                    }\r\n                    {selectedInstance.value !== 'live_trading' && \r\n                     (<div className=\"select-option\">\r\n                        <Select\r\n                          name=\"filters\"\r\n                          placeholder=\"Micro Strategy\"\r\n                          value={microStrategy}\r\n                          onChange={handleMicroStrategyChange}\r\n                          options={optionsMicroStrategy}\r\n                        />\r\n                      </div>)\r\n                    }\r\n                    {selectedViewType.value !== 'performance' && \r\n                        (<div className=\"select-multi-option\">\r\n                            <Select\r\n                                name=\"filters\"\r\n                                placeholder=\"Indicators\"\r\n                                value={indicators}\r\n                                onChange={handleIndicatorsChange}\r\n                                options={optionsIndicator}\r\n                                isMulti={true}\r\n                            />\r\n                        </div>)\r\n                    }\r\n                </div>\r\n            </nav>\r\n            <div className=\"graphs-container dark\">\r\n                < StockChart\r\n                  selectedInstance ={selectedInstance.value}\r\n                  viewType={selectedViewType.value}\r\n                  microStrategy={microStrategy.value}\r\n                  symbol={symbol.value}\r\n                  multiSymbol={multiSymbol}\r\n                  indicators={indicators}\r\n                  strategy={strategy}\r\n                  isHomePage={false}\r\n                />\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default TutorialsList;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route, Link, Redirect  } from \"react-router-dom\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./App.css\";\r\n\r\nimport TimeChart from \"./components/TimeChart\";\r\nimport Select from 'react-select'\r\n\r\nimport ItemChart from './components/ItemChart';\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <div>\r\n        <Switch>\r\n          <Route exact path={[\"/\", \"/chart\"]} component={TimeChart} />\r\n          <Route exact path=\"/ItemChart\" component={ItemChart} />\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","export const CREATE_TUTORIAL = \"CREATE_TUTORIAL\";\r\nexport const RETRIEVE_TUTORIALS = \"RETRIEVE_TUTORIALS\";\r\nexport const UPDATE_TUTORIAL = \"UPDATE_TUTORIAL\";\r\nexport const DELETE_TUTORIAL = \"DELETE_TUTORIAL\";\r\nexport const DELETE_ALL_TUTORIALS = \"DELETE_ALL_TUTORIALS\";","import {\r\n  CREATE_TUTORIAL,\r\n  RETRIEVE_TUTORIALS,\r\n  UPDATE_TUTORIAL,\r\n  DELETE_TUTORIAL,\r\n  DELETE_ALL_TUTORIALS,\r\n} from \"../actions/types\";\r\n\r\nconst initialState = [];\r\n\r\nconst tutorialReducer = (tutorials = initialState, action) => {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case CREATE_TUTORIAL:\r\n      return [...tutorials, payload];\r\n\r\n    case RETRIEVE_TUTORIALS:\r\n      return payload;\r\n\r\n    case UPDATE_TUTORIAL:\r\n      return tutorials.map((tutorial) => {\r\n        if (tutorial.id === payload.id) {\r\n          return {\r\n            ...tutorial,\r\n            ...payload,\r\n          };\r\n        } else {\r\n          return tutorial;\r\n        }\r\n      });\r\n\r\n    case DELETE_TUTORIAL:\r\n      return tutorials.filter(({ id }) => id !== payload.id);\r\n\r\n    case DELETE_ALL_TUTORIALS:\r\n      return [];\r\n\r\n    default:\r\n      return tutorials;\r\n  }\r\n};\r\n\r\nexport default tutorialReducer;","import { combineReducers } from \"redux\";\r\nimport tutorials from \"./tutorials\";\r\n\r\nexport default combineReducers({\r\n  tutorials,\r\n});\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers';\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  initialState,\r\n  composeWithDevTools(applyMiddleware(...middleware))\r\n);\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Provider } from 'react-redux';\r\nimport store from './store';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}